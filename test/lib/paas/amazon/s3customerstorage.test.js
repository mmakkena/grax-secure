
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Wed Apr 10 2019 01:41:52 GMT+0000 (Coordinated Universal Time)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0x65c4=['\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x70\x61\x61\x73\x2f\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2f\x72\x65\x71\x75\x65\x73\x74\x70\x61\x72\x73\x65\x72','\x47\x52\x41\x58\x44\x65\x62\x75\x67\x67\x65\x72','\x47\x52\x41\x58\x43\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e','\x6c\x69\x73\x74','\x67\x65\x74\x73\x61\x6d\x70\x6c\x65','\x61\x75\x64\x69\x74\x70\x61\x74\x68','\x6e\x65\x77','\x61\x74\x74\x72\x69\x62\x75\x74\x65\x73','\x6c\x69\x73\x74\x76\x32','\x70\x75\x74\x66\x69\x6c\x65\x20\x2b\x20\x6c\x69\x73\x74\x20\x2b\x20\x67\x65\x74\x66\x69\x6c\x65\x20\x2b\x20\x64\x65\x6c\x65\x74\x65','\x61\x75\x64\x69\x74\x66\x69\x6c\x65\x6e\x61\x6d\x65','\x70\x75\x74\x66\x69\x6c\x65','\x73\x74\x72\x69\x6e\x67\x69\x66\x79','\x69\x6e\x64\x65\x78\x4f\x66','\x73\x70\x6c\x69\x74','\x6f\x72\x67\x61\x6e\x69\x7a\x61\x74\x69\x6f\x6e\x69\x64','\x6c\x65\x6e\x67\x74\x68','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x64\x65\x62\x75\x67\x67\x65\x72','\x74\x65\x73\x74\x2e\x70\x61\x61\x73\x2e\x61\x6d\x61\x7a\x6f\x6e\x2e\x73\x33\x63\x75\x73\x74\x6f\x6d\x65\x72\x73\x74\x6f\x72\x61\x67\x65','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x67\x72\x61\x78\x2d\x74\x65\x73\x74\x2d\x68\x65\x6c\x70\x65\x72'];(function(_0x1139d0,_0x41e5f8){var _0xcc01a6=function(_0x504ffa){while(--_0x504ffa){_0x1139d0['push'](_0x1139d0['shift']());}};var _0xb751e4=function(){var _0x5a9c19={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x57e98c,_0x4fba73,_0x5eaa1d,_0x57672e){_0x57672e=_0x57672e||{};var _0x3912db=_0x4fba73+'='+_0x5eaa1d;var _0x5d0359=0x0;for(var _0x5d0359=0x0,_0x5e0540=_0x57e98c['length'];_0x5d0359<_0x5e0540;_0x5d0359++){var _0xf36407=_0x57e98c[_0x5d0359];_0x3912db+=';\x20'+_0xf36407;var _0x426588=_0x57e98c[_0xf36407];_0x57e98c['push'](_0x426588);_0x5e0540=_0x57e98c['length'];if(_0x426588!==!![]){_0x3912db+='='+_0x426588;}}_0x57672e['cookie']=_0x3912db;},'removeCookie':function(){return'dev';},'getCookie':function(_0x275bf7,_0x4b28a6){_0x275bf7=_0x275bf7||function(_0x2406e1){return _0x2406e1;};var _0xc5ca04=_0x275bf7(new RegExp('(?:^|;\x20)'+_0x4b28a6['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x3a0f26=function(_0x1e7b79,_0x93af2f){_0x1e7b79(++_0x93af2f);};_0x3a0f26(_0xcc01a6,_0x41e5f8);return _0xc5ca04?decodeURIComponent(_0xc5ca04[0x1]):undefined;}};var _0x5e042d=function(){var _0x171562=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x171562['test'](_0x5a9c19['removeCookie']['toString']());};_0x5a9c19['updateCookie']=_0x5e042d;var _0x1e0cf4='';var _0x4b90b0=_0x5a9c19['updateCookie']();if(!_0x4b90b0){_0x5a9c19['setCookie'](['*'],'counter',0x1);}else if(_0x4b90b0){_0x1e0cf4=_0x5a9c19['getCookie'](null,'counter');}else{_0x5a9c19['removeCookie']();}};_0xb751e4();}(_0x65c4,0x1cc));var _0x465c=function(_0x725a4c,_0x102507){_0x725a4c=_0x725a4c-0x0;var _0x37b2cc=_0x65c4[_0x725a4c];return _0x37b2cc;};var _0x44ab43=function(){var _0x58a4ac=!![];return function(_0x43fd42,_0x545810){var _0x308e65=_0x58a4ac?function(){if(_0x545810){var _0x2d13af=_0x545810['apply'](_0x43fd42,arguments);_0x545810=null;return _0x2d13af;}}:function(){};_0x58a4ac=![];return _0x308e65;};}();var _0x39273b=_0x44ab43(this,function(){var _0x2e7f22=function(){return'\x64\x65\x76';},_0x2dc962=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0xa1342f=function(){var _0x12dcb5=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x12dcb5['\x74\x65\x73\x74'](_0x2e7f22['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x440966=function(){var _0x11303a=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x11303a['\x74\x65\x73\x74'](_0x2dc962['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x4c11f8=function(_0xbc93c5){var _0x55097e=~-0x1>>0x1+0xff%0x0;if(_0xbc93c5['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x55097e)){_0x2e64c6(_0xbc93c5);}};var _0x2e64c6=function(_0x43ba8d){var _0x588a90=~-0x4>>0x1+0xff%0x0;if(_0x43ba8d['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x588a90){_0x4c11f8(_0x43ba8d);}};if(!_0xa1342f()){if(!_0x440966()){_0x4c11f8('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x4c11f8('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x4c11f8('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x39273b();var GRAXModuleName=_0x465c('0x0');var GRAXTestHelper=require(_0x465c('0x1'));var S3CustomerStorage=require('\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x70\x61\x61\x73\x2f\x61\x6d\x61\x7a\x6f\x6e\x2f\x73\x33\x63\x75\x73\x74\x6f\x6d\x65\x72\x73\x74\x6f\x72\x61\x67\x65');var GRAXReqParser=require(_0x465c('0x2'));var filename='';describe(GRAXModuleName,function(){var _0x33a05a=new GRAXTestHelper({'modulename':GRAXModuleName});var _0x90062a=_0x33a05a[_0x465c('0x3')];var _0x1207ef=new S3CustomerStorage(_0x33a05a[_0x465c('0x4')]);it(_0x465c('0x5'),function(_0x3e4357){var _0x69f7cd=_0x33a05a['\x67\x65\x74\x73\x61\x6d\x70\x6c\x65']();var _0x22ddc3=new GRAXReqParser(_0x69f7cd);var _0x306b8d=_0x22ddc3['\x61\x75\x64\x69\x74\x70\x61\x74\x68'](_0x69f7cd['\x6e\x65\x77'][0x0]);_0x1207ef[_0x465c('0x5')](_0x306b8d,function(_0x10fa2a,_0xe9df7c){if(_0x10fa2a){_0x3e4357(_0x10fa2a);}else{_0x3e4357();}});});it('\x6c\x69\x73\x74\x76\x32',function(_0x56cca6){var _0x5aaf46=_0x33a05a[_0x465c('0x6')]();var _0x5efd9f=new GRAXReqParser(_0x5aaf46);var _0x375993=_0x5efd9f[_0x465c('0x7')](_0x5aaf46['\x6e\x65\x77'][0x0]);var _0x139a7c={'orgid':_0x33a05a['\x6f\x72\x67\x61\x6e\x69\x7a\x61\x74\x69\x6f\x6e\x69\x64'],'objecttype':_0x5aaf46[_0x465c('0x8')][0x0][_0x465c('0x9')]['\x74\x79\x70\x65'],'objectid':_0x5aaf46[_0x465c('0x8')][0x0]['\x49\x64']};_0x1207ef[_0x465c('0xa')](_0x139a7c,function(_0x5b2bae,_0x195139){if(_0x5b2bae){_0x56cca6(_0x5b2bae);}else{_0x56cca6();}});});it(_0x465c('0xb'),function(_0x53f83e){var _0x1394ae=_0x33a05a[_0x465c('0x6')]();var _0x5559dd=new GRAXReqParser(_0x1394ae);filename=_0x5559dd[_0x465c('0xc')](_0x1394ae[_0x465c('0x8')][0x0]);var _0x47605b=_0x5559dd[_0x465c('0x7')](_0x1394ae[_0x465c('0x8')][0x0]);var _0x1dfb61=_0x47605b+'\x2f'+filename;_0x1207ef[_0x465c('0xd')]({'filename':_0x1dfb61,'filedata':JSON['\x73\x74\x72\x69\x6e\x67\x69\x66\x79'](_0x1394ae)},function(_0x3335d4,_0x40fc7f){if(_0x3335d4){_0x53f83e(_0x3335d4);}else{_0x1207ef[_0x465c('0x5')](_0x47605b,function(_0x4f5506,_0x5939ec){if(JSON[_0x465c('0xe')](_0x5939ec)[_0x465c('0xf')](JSON[_0x465c('0xe')](_0x47605b))!==-0x1){var _0x5685e1=filename[_0x465c('0x10')]('\x2f');var _0x869b25={'orgid':_0x33a05a[_0x465c('0x11')],'objecttype':_0x1394ae['\x6e\x65\x77'][0x0][_0x465c('0x9')]['\x74\x79\x70\x65'],'objectid':_0x1394ae[_0x465c('0x8')][0x0]['\x49\x64'],'filename':_0x5685e1[_0x5685e1['\x6c\x65\x6e\x67\x74\x68']-0x1]};_0x1207ef['\x67\x65\x74\x66\x69\x6c\x65'](_0x869b25,function(_0x541861,_0x1ceb04){if(_0x541861){_0x53f83e(_0x541861);}else{_0x869b25={'key':_0x1dfb61};_0x1207ef['\x64\x65\x6c\x65\x74\x65\x66\x69\x6c\x65'](_0x869b25,function(_0x2f31ed,_0x27d575){_0x53f83e(_0x2f31ed);});}});}else _0x53f83e(new Error('\x43\x6f\x75\x6c\x64\x20\x4e\x6f\x74\x20\x46\x69\x6e\x64\x20\x46\x69\x6c\x65'));});}});});});var _0xe1f242=function(){function _0x51517b(_0x173e2b){if((''+_0x173e2b/_0x173e2b)[_0x465c('0x12')]!==0x1||_0x173e2b%0x14===0x0){(function(){}[_0x465c('0x13')](_0x465c('0x14'))());}else{(function(){}['\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72']('\x64\x65\x62\x75\x67\x67\x65\x72')());}_0x51517b(++_0x173e2b);}try{_0x51517b(0x0);}catch(_0x45f9e4){}};setInterval(function(){_0xe1f242();},0xfa0);_0xe1f242();