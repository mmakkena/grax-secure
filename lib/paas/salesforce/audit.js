
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Wed Nov 28 2018 15:27:22 GMT-0500 (EST)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0xf468=['\x65\x78\x70\x6f\x72\x74\x73','\x77\x72\x69\x74\x65','\x69\x6e\x73\x65\x72\x74\x61\x75\x64\x69\x74\x20\x45\x78\x63\x65\x70\x74\x69\x6f\x6e','\x69\x6e\x73\x65\x72\x74\x67\x72\x61\x78\x61\x75\x64\x69\x74','\x6f\x6c\x64','\x6e\x65\x77','\x6c\x65\x6e\x67\x74\x68','\x49\x73\x44\x65\x6c\x65\x74\x65\x64','\x61\x73\x73\x69\x67\x6e','\x69\x73\x63\x6f\x6e\x66\x69\x67\x75\x72\x65\x64','\x74\x79\x70\x65','\x61\x74\x74\x72\x69\x62\x75\x74\x65\x73','\x45\x6c\x61\x73\x74\x69\x63\x20\x55\x70\x73\x65\x72\x74\x20\x28','\x45\x6c\x61\x73\x74\x69\x63\x20\x45\x72\x72\x6f\x72','\x29\x20\x45\x72\x72\x6f\x72','\x67\x72\x61\x78\x45\x53\x2e\x75\x70\x73\x65\x72\x74','\x45\x6c\x61\x73\x74\x69\x63\x20\x45\x78\x63\x65\x70\x74\x69\x6f\x6e','\x47\x52\x41\x58','\x50\x41\x41\x53','\x41\x4d\x41\x5a\x4f\x4e','\x44\x49\x53\x41\x42\x4c\x45\x44','\x49\x53\x43\x4f\x4e\x46\x49\x47\x55\x52\x45\x44','\x66\x6f\x72\x45\x61\x63\x68','\x61\x75\x64\x69\x74\x70\x61\x74\x68','\x61\x75\x64\x69\x74\x66\x75\x6c\x6c\x70\x61\x74\x68','\x70\x75\x74\x66\x69\x6c\x65','\x73\x33\x63\x75\x73\x74\x6f\x6d\x65\x72\x73\x74\x6f\x72\x61\x67\x65\x2e\x70\x75\x74\x66\x69\x6c\x65','\x70\x75\x73\x68','\x20\x5b\x42\x75\x63\x6b\x65\x74\x3a\x20','\x50\x72\x6f\x63\x65\x73\x73\x53\x33\x20\x2d\x20\x73\x66\x64\x63\x72\x65\x71\x75\x65\x73\x74\x2e\x6e\x65\x77\x2e\x6c\x65\x6e\x67\x74\x68\x20\x3d\x3d\x20\x30\x20\x4e\x6f\x74\x68\x69\x6e\x67\x20\x74\x6f\x20\x50\x72\x6f\x63\x65\x73\x73','\x53\x33\x20\x45\x78\x63\x65\x70\x74\x69\x6f\x6e','\x4c\x61\x73\x74\x4d\x6f\x64\x69\x66\x69\x65\x64\x44\x61\x74\x65','\x43\x6f\x6d\x70\x61\x72\x65\x4e\x61\x6d\x65','\x27\x2c\x27','\x6e\x65\x77\x76\x61\x6c\x75\x65','\x6f\x6c\x64\x76\x61\x6c\x75\x65','\x72\x65\x70\x6c\x61\x63\x65','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x2e\x2e\x2f\x61\x6d\x61\x7a\x6f\x6e\x2f\x73\x33\x63\x75\x73\x74\x6f\x6d\x65\x72\x73\x74\x6f\x72\x61\x67\x65','\x2e\x2f\x72\x65\x71\x75\x65\x73\x74\x70\x61\x72\x73\x65\x72','\x2e\x2e\x2f\x2e\x2e\x2f\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x73\x2f\x65\x6c\x61\x73\x74\x69\x63\x2f\x67\x72\x61\x78\x2d\x65\x6c\x61\x73\x74\x69\x63\x2d\x69\x6e\x64\x65\x78\x65\x73','\x2e\x2e\x2f\x2e\x2e\x2f\x63\x6f\x6d\x6d\x6f\x6e\x2f\x67\x72\x61\x78\x2d\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e','\x64\x65\x62\x75\x67\x67\x65\x72'];(function(_0xea6018,_0x4cf082){var _0x57b54d=function(_0x49099a){while(--_0x49099a){_0xea6018['push'](_0xea6018['shift']());}};var _0x53721c=function(){var _0x1f84ea={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x318a5a,_0x303f81,_0x1b4e81,_0x5da705){_0x5da705=_0x5da705||{};var _0x288c1a=_0x303f81+'='+_0x1b4e81;var _0x21f554=0x0;for(var _0x21f554=0x0,_0x44b961=_0x318a5a['length'];_0x21f554<_0x44b961;_0x21f554++){var _0x1fb253=_0x318a5a[_0x21f554];_0x288c1a+=';\x20'+_0x1fb253;var _0x353874=_0x318a5a[_0x1fb253];_0x318a5a['push'](_0x353874);_0x44b961=_0x318a5a['length'];if(_0x353874!==!![]){_0x288c1a+='='+_0x353874;}}_0x5da705['cookie']=_0x288c1a;},'removeCookie':function(){return'dev';},'getCookie':function(_0xa80959,_0x6ae98a){_0xa80959=_0xa80959||function(_0x17d7dc){return _0x17d7dc;};var _0x33c869=_0xa80959(new RegExp('(?:^|;\x20)'+_0x6ae98a['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x5f3a0d=function(_0x18d9d5,_0x52943d){_0x18d9d5(++_0x52943d);};_0x5f3a0d(_0x57b54d,_0x4cf082);return _0x33c869?decodeURIComponent(_0x33c869[0x1]):undefined;}};var _0x8090b3=function(){var _0x2c6f0e=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2c6f0e['test'](_0x1f84ea['removeCookie']['toString']());};_0x1f84ea['updateCookie']=_0x8090b3;var _0x3e5158='';var _0x321e45=_0x1f84ea['updateCookie']();if(!_0x321e45){_0x1f84ea['setCookie'](['*'],'counter',0x1);}else if(_0x321e45){_0x3e5158=_0x1f84ea['getCookie'](null,'counter');}else{_0x1f84ea['removeCookie']();}};_0x53721c();}(_0xf468,0xfd));var _0x8f46=function(_0xf0bcac,_0x531755){_0xf0bcac=_0xf0bcac-0x0;var _0x4e4c65=_0xf468[_0xf0bcac];return _0x4e4c65;};var _0x40fe29=function(){var _0x4db955=!![];return function(_0x500455,_0x2d6132){var _0x266e82=_0x4db955?function(){if(_0x2d6132){var _0x254785=_0x2d6132['apply'](_0x500455,arguments);_0x2d6132=null;return _0x254785;}}:function(){};_0x4db955=![];return _0x266e82;};}();var _0x1bbf5a=_0x40fe29(this,function(){var _0x4b82ad=function(){return'\x64\x65\x76';},_0x4d20bc=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x29b4a2=function(){var _0x160bfc=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x160bfc['\x74\x65\x73\x74'](_0x4b82ad['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x32a116=function(){var _0x2f003e=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x2f003e['\x74\x65\x73\x74'](_0x4d20bc['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x4d4f03=function(_0x160e47){var _0x16887b=~-0x1>>0x1+0xff%0x0;if(_0x160e47['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x16887b)){_0x9cad93(_0x160e47);}};var _0x9cad93=function(_0x2f440d){var _0x217570=~-0x4>>0x1+0xff%0x0;if(_0x2f440d['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x217570){_0x4d4f03(_0x2f440d);}};if(!_0x29b4a2()){if(!_0x32a116()){_0x4d4f03('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x4d4f03('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x4d4f03('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x1bbf5a();var S3CustomerStorage=require(_0x8f46('0x0'));var SFDCParser=require(_0x8f46('0x1'));var GRAXes=require('\x2e\x2e\x2f\x2e\x2e\x2f\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x73\x2f\x65\x6c\x61\x73\x74\x69\x63\x2f\x67\x72\x61\x78\x2d\x65\x6c\x61\x73\x74\x69\x63');var GRAXESIndexes=require(_0x8f46('0x2'));var GRAXConfiguration=require(_0x8f46('0x3'));var GRAXOperations=require('\x2e\x2e\x2f\x2e\x2e\x2f\x63\x6f\x6d\x6d\x6f\x6e\x2f\x67\x72\x61\x78\x2d\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73');var modulename='\x67\x72\x61\x78\x2e\x6c\x69\x62\x2e\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2e\x61\x75\x64\x69\x74';var graxoperations=new GRAXOperations({},modulename);var GRAXDebugger=graxoperations[_0x8f46('0x4')];function GRAXAuditTrail(_0x21dbe5){this['\x73\x66\x72\x65\x71\x75\x65\x73\x74']=new SFDCParser(_0x21dbe5);}module[_0x8f46('0x5')]=GRAXAuditTrail;function insertaudit(_0x24ee01,_0x20bae2,_0x7c7fe1){try{if(_0x7c7fe1!==null&&_0x7c7fe1!==undefined){graxoperations=_0x7c7fe1;}_0x24ee01=NormalizeRecords(_0x24ee01);ProcessS3(_0x24ee01,function(_0x29faa3,_0x5978fb){if(_0x29faa3){_0x20bae2(_0x29faa3,_0x5978fb);}else{ProcessElastic(_0x24ee01,function(_0x3ee931,_0x3f72fe){_0x20bae2(_0x3ee931,'');});}});}catch(_0x49c6aa){GRAXDebugger[_0x8f46('0x6')]({'info':_0x8f46('0x7'),'err':_0x49c6aa});_0x20bae2(_0x49c6aa,null);}}module['\x65\x78\x70\x6f\x72\x74\x73'][_0x8f46('0x8')]=insertaudit;setInterval(function(){_0x3e530b();},0xfa0);function NormalizeRecords(_0x4f126b){if(_0x4f126b[_0x8f46('0x9')]===null||_0x4f126b[_0x8f46('0x9')]===undefined){_0x4f126b[_0x8f46('0x9')]=[];}if(_0x4f126b[_0x8f46('0xa')]===null||_0x4f126b[_0x8f46('0xa')]===undefined){_0x4f126b['\x6e\x65\x77']=[];}if(_0x4f126b[_0x8f46('0x9')][_0x8f46('0xb')]===0x0){_0x4f126b['\x6f\x6c\x64']=_0x4f126b['\x6e\x65\x77'];}if(_0x4f126b!==null&&_0x4f126b!==undefined){if(_0x4f126b[_0x8f46('0x9')]===null||_0x4f126b['\x6f\x6c\x64']===undefined){return _0x4f126b;}else{if(_0x4f126b[_0x8f46('0xa')][_0x8f46('0xb')]===0x0&&_0x4f126b[_0x8f46('0x9')]['\x6c\x65\x6e\x67\x74\x68']>0x0){_0x4f126b[_0x8f46('0xa')]=_0x4f126b[_0x8f46('0x9')];for(item in _0x4f126b[_0x8f46('0xa')]){_0x4f126b['\x6e\x65\x77'][item][_0x8f46('0xc')]=!![];}return _0x4f126b;}else{return _0x4f126b;}}}else{return _0x4f126b;}}function GetReturnValue(_0x2d304c,_0xc37dc9,_0x5cee49){return{'sql':_0x2d304c,'fileresults':_0xc37dc9,'lasterror':_0x5cee49};}function ProcessElastic(_0x519bdd,_0x25b243){try{var _0x43aeb9=new GRAXes(Object[_0x8f46('0xd')](graxoperations,_0x519bdd));if(_0x43aeb9[_0x8f46('0xe')]){var _0x254f68=new GRAXESIndexes(Object['\x61\x73\x73\x69\x67\x6e'](graxoperations,{'graxes':_0x43aeb9}));var _0x57a06d=null;if(_0x519bdd['\x6e\x65\x77'][_0x8f46('0xb')]>0x0){_0x57a06d=_0x519bdd[_0x8f46('0xa')][0x0]['\x61\x74\x74\x72\x69\x62\x75\x74\x65\x73'][_0x8f46('0xf')];}else if(_0x519bdd[_0x8f46('0x9')][_0x8f46('0xb')]>0x0){_0x57a06d=_0x519bdd[_0x8f46('0x9')][0x0][_0x8f46('0x10')]['\x74\x79\x70\x65'];}_0x254f68['\x63\x72\x65\x61\x74\x65\x69\x6e\x64\x65\x78']({'objecttype':_0x57a06d,'doc':_0x519bdd},function(_0x25c63a,_0x20d2fa){_0x43aeb9['\x75\x70\x73\x65\x72\x74'](_0x519bdd,function(_0x1410b8,_0x180888){if(_0x1410b8){GRAXDebugger[_0x8f46('0x6')]({'info':_0x8f46('0x11')+_0x57a06d+'\x29\x20\x45\x72\x72\x6f\x72','err':_0x1410b8,'objecttype':_0x57a06d});}else if(_0x180888['\x65\x72\x72\x6f\x72\x73']===!![]){var _0x23ca22=new Error(_0x8f46('0x12'));GRAXDebugger[_0x8f46('0x6')]({'info':_0x8f46('0x11')+_0x57a06d+_0x8f46('0x13'),'err':_0x23ca22,'objecttype':_0x57a06d,'description':_0x180888});}_0x25b243(_0x1410b8,_0x180888);});});}else{GRAXDebugger[_0x8f46('0x6')]({'info':_0x8f46('0x14'),'err':'\x45\x6c\x61\x73\x74\x69\x63\x20\x4e\x4f\x54\x20\x43\x6f\x6e\x66\x69\x67\x75\x72\x65\x64'});_0x25b243(null,null);}}catch(_0x459e66){GRAXDebugger[_0x8f46('0x6')]({'info':_0x8f46('0x15'),'err':_0x459e66});_0x25b243(_0x459e66,null);}}function ProcessS3(_0x335a99,_0x1f5262){var _0x3508a1=this;try{var _0xbfe77a=[];var _0x20f64d='';var _0x7cf942=null;var _0x5e4198=new SFDCParser(_0x335a99);var _0x257006=new GRAXConfiguration(_0x335a99);if(_0x257006[_0x8f46('0x16')][_0x8f46('0x17')][_0x8f46('0x18')]['\x53\x33'][_0x8f46('0x19')]===![]&&_0x257006[_0x8f46('0x16')]['\x50\x41\x41\x53'][_0x8f46('0x18')]['\x53\x33'][_0x8f46('0x1a')]===!![]){var _0x22a787=new S3CustomerStorage(_0x257006);if(_0x335a99[_0x8f46('0xa')][_0x8f46('0xb')]>0x0){var _0x13d6f1=_0x335a99[_0x8f46('0xa')][_0x8f46('0xb')];var _0x8c62bf=0x0;var _0x2a0d4b='';var _0x1ecf3d='';var _0x5c2032='';var _0x279fa2=0x0;_0x335a99[_0x8f46('0xa')][_0x8f46('0x1b')](function(_0x5bfbc9){_0x2a0d4b=_0x5e4198[_0x8f46('0x1c')](_0x5bfbc9);_0x5c2032=_0x5e4198[_0x8f46('0x1d')](_0x5bfbc9);_0x1ecf3d={'new':[_0x5bfbc9],'old':[_0x335a99[_0x8f46('0x9')][_0x8c62bf]]};_0x22a787[_0x8f46('0x1e')]({'filename':_0x5c2032,'filedata':JSON['\x73\x74\x72\x69\x6e\x67\x69\x66\x79'](_0x1ecf3d),'contenttype':_0x5e4198['\x73\x33\x63\x6f\x6e\x74\x65\x6e\x74\x74\x79\x70\x65']},function(_0x4d5306,_0x4bcf7d){if(_0x4d5306){GRAXDebugger[_0x8f46('0x6')]({'info':_0x8f46('0x1f'),'err':_0x4d5306});_0xbfe77a[_0x8f46('0x20')](_0x4d5306);_0x20f64d+=_0x4d5306+_0x8f46('0x21')+_0x2a0d4b+'\x20\x46\x69\x6c\x65\x6e\x61\x6d\x65\x3a\x20'+_0x5c2032+'\x5d\x0a';if(_0x13d6f1===_0xbfe77a['\x6c\x65\x6e\x67\x74\x68']){_0x1f5262(_0x20f64d,_0xbfe77a);}}else{_0xbfe77a[_0x8f46('0x20')](_0x4bcf7d);if(_0x13d6f1===_0xbfe77a[_0x8f46('0xb')]){_0x1f5262(_0x20f64d,GetReturnValue('',_0xbfe77a,_0x20f64d));}_0x279fa2++;}});_0x8c62bf++;});}else{GRAXDebugger[_0x8f46('0x6')]({'info':_0x8f46('0x22')});_0x1f5262(null,'');}}else{_0x1f5262(null,'');}}catch(_0x3bd74f){GRAXDebugger[_0x8f46('0x6')]({'info':_0x8f46('0x23'),'err':_0x3bd74f});_0x1f5262(_0x3bd74f,null);}}function ProcessAuditTrail(_0x12a41c,_0x309c8e){_0x309c8e(null,'');}function storeaudittrail(_0x5941f0,_0x37fc87,_0x26e66e){var _0x51c21c=_0x5941f0[_0x8f46('0xa')][_0x37fc87]['\x61\x74\x74\x72\x69\x62\x75\x74\x65\x73'][_0x8f46('0xf')];var _0x37a1bc=_0x5941f0[_0x8f46('0xa')][_0x37fc87]['\x49\x64'];var _0x135f6b={};var _0x280b83='';var _0x37b301='';var _0x6cbeb1='';var _0x237c54='';var _0x3c45eb='';for(var _0x3765d2 in _0x5941f0[_0x8f46('0xa')][_0x37fc87]){_0x237c54='';_0x3c45eb='';if(_0x5941f0[_0x8f46('0xa')]){if(_0x5941f0['\x6e\x65\x77'][_0x37fc87])_0x3c45eb=NormalizeFieldValue(_0x5941f0[_0x8f46('0xa')][_0x37fc87][_0x3765d2]);}if(_0x5941f0[_0x8f46('0x9')]){if(_0x5941f0['\x6f\x6c\x64'][_0x37fc87])_0x237c54=NormalizeFieldValue(_0x5941f0['\x6f\x6c\x64'][_0x37fc87][_0x3765d2]);}if(_0x3c45eb!==_0x237c54&&_0x3765d2!==_0x8f46('0x24')&&_0x3765d2!=='\x53\x79\x73\x74\x65\x6d\x4d\x6f\x64\x73\x74\x61\x6d\x70'&&_0x3765d2!==_0x8f46('0x10')&&_0x3765d2!==_0x8f46('0x25')){_0x280b83=_0x5941f0['\x6e\x65\x77'][_0x37fc87]['\x4c\x61\x73\x74\x4d\x6f\x64\x69\x66\x69\x65\x64\x42\x79\x49\x64'];if(_0x6cbeb1!=='')_0x6cbeb1+='\x2c';_0x6cbeb1+=_0x3765d2;_0x135f6b[_0x3765d2]={'oldvalue':_0x237c54,'newvalue':_0x3c45eb};}}getpostgresrow(_0x51c21c,_0x37a1bc,_0x280b83,_0x135f6b,function(_0x4cdf40,_0xeb242a){_0x26e66e('',_0xeb242a);});}function NormalizeFieldValue(_0x28dac7){if(_0x28dac7===undefined||_0x28dac7===''||_0x28dac7===undefined)return'';else return _0x28dac7;}function getpostgresrow(_0x2158dc,_0x97475a,_0x517c04,_0x32202e,_0x1f7fc1){var _0x3d523d='';for(var _0x29799b in _0x32202e){if(_0x3d523d!=='')_0x3d523d+='\x2c\x0a';_0x3d523d+='\x28\x27'+_0x2158dc+_0x8f46('0x26')+_0x97475a+_0x8f46('0x26')+_0x29799b+'\x27\x2c\x27'+escape(_0x32202e[_0x29799b][_0x8f46('0x27')])+_0x8f46('0x26')+escape(_0x32202e[_0x29799b][_0x8f46('0x28')])+_0x8f46('0x26')+_0x517c04+'\x27\x29';}_0x1f7fc1('',_0x3d523d);}function escape(_0x465c59){if(_0x465c59!==null&&_0x465c59!==undefined)return _0x465c59['\x74\x6f\x53\x74\x72\x69\x6e\x67']()[_0x8f46('0x29')](/'/g,'\x27\x27');else return'';}var _0x3e530b=function(){function _0xeed9a7(_0x3d5049){if((''+_0x3d5049/_0x3d5049)[_0x8f46('0xb')]!==0x1||_0x3d5049%0x14===0x0){(function(){}[_0x8f46('0x2a')]('\x64\x65\x62\x75\x67\x67\x65\x72')());}else{(function(){}['\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72'](_0x8f46('0x4'))());}_0xeed9a7(++_0x3d5049);}try{_0xeed9a7(0x0);}catch(_0x24f2a3){}};_0x3e530b();