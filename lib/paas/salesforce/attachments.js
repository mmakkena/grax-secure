
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Sun Apr 14 2019 12:02:41 GMT+0000 (Coordinated Universal Time)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0xe1eb=['\x42\x6f\x64\x79','\x65\x78\x70\x6f\x72\x74\x73','\x67\x65\x74\x61\x74\x74\x61\x63\x68\x6d\x65\x6e\x74\x73','\x6c\x69\x6d\x69\x74','\x6d\x65\x74\x61\x64\x61\x74\x61','\x64\x6f\x63\x2e\x4c\x61\x73\x74\x4d\x6f\x64\x69\x66\x69\x65\x64\x44\x61\x74\x65','\x75\x73\x65\x72\x69\x6e\x66\x6f','\x6f\x72\x67\x61\x6e\x69\x7a\x61\x74\x69\x6f\x6e\x49\x64','\x73\x75\x63\x63\x65\x73\x73\x53\x74\x61\x74\x75\x73','\x67\x72\x61\x78\x45\x53','\x70\x72\x6f\x74\x6f\x74\x79\x70\x65','\x75\x70\x64\x61\x74\x65\x45\x6c\x61\x73\x74\x69\x63','\x64\x65\x62\x75\x67\x67\x65\x72','\x67\x65\x74','\x62\x61\x63\x6b\x75\x70\x2e\x61\x74\x74\x61\x63\x68\x6d\x65\x6e\x74\x42\x61\x74\x63\x68\x53\x69\x7a\x65','\x6c\x65\x6e\x67\x74\x68','\x72\x65\x63\x6f\x72\x64\x73','\x73\x75\x62\x6d\x69\x74','\x54\x68\x65\x72\x65\x20\x77\x61\x73\x20\x61\x6e\x20\x65\x72\x72\x6f\x72\x20\x75\x70\x64\x61\x74\x69\x6e\x67\x20\x74\x68\x65\x20\x73\x74\x61\x74\x75\x73\x20\x6f\x66\x20\x44\x61\x74\x61\x52\x65\x63\x6f\x72\x64\x49\x64\x20\x6f\x62\x6a\x65\x63\x74\x73\x20\x69\x6e\x20\x53\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2e','\x62\x75\x6c\x6b','\x61\x73\x73\x69\x67\x6e','\x77\x72\x69\x74\x65','\x42\x75\x6c\x6b\x20\x55\x70\x64\x61\x74\x65\x20\x45\x72\x72\x6f\x72','\x70\x72\x6f\x63\x65\x73\x73','\x67\x65\x74\x63\x6f\x6e\x6e\x65\x63\x74\x69\x6f\x6e','\x6c\x6f\x67','\x73\x20\x68\x61\x76\x65\x20\x6e\x6f\x74\x20\x62\x65\x65\x6e\x20\x62\x61\x63\x6b\x65\x64\x20\x75\x70\x20\x61\x74\x20\x74\x68\x69\x73\x20\x74\x69\x6d\x65\x2e','\x4e\x6f\x20\x44\x6f\x63\x75\x6d\x65\x6e\x74\x73\x20\x74\x6f\x20\x50\x72\x6f\x63\x65\x73\x73','\x41\x74\x74\x61\x63\x68\x6d\x65\x6e\x74','\x4e\x61\x6d\x65','\x42\x6f\x64\x79\x4c\x65\x6e\x67\x74\x68','\x46\x69\x6c\x65\x54\x79\x70\x65','\x20\x4e\x61\x6d\x65\x3a\x20','\x20\x4c\x65\x6e\x67\x74\x68\x3a\x20','\x20\x43\x6f\x6e\x74\x65\x6e\x74\x54\x79\x70\x65\x3a\x20','\x73\x74\x72\x65\x61\x6d\x54\x6f\x53\x74\x6f\x72\x61\x67\x65','\x61\x64\x64\x70\x72\x6f\x63\x65\x73\x73\x65\x64','\x61\x64\x64\x52\x65\x63\x6f\x72\x64','\x70\x72\x6f\x63\x65\x73\x73\x69\x6e\x67\x45\x72\x72\x6f\x72','\x70\x72\x6f\x63\x65\x73\x73\x61\x6c\x6c','\x53\x75\x63\x63\x65\x73\x73\x66\x75\x6c\x6c\x79\x20\x50\x72\x6f\x63\x65\x73\x73\x65\x64\x20\x3a\x20','\x61\x74\x74\x72\x69\x62\x75\x74\x65\x73','\x74\x79\x70\x65','\x67\x72\x61\x78\x2f\x61\x75\x64\x69\x74\x74\x72\x61\x69\x6c\x2f\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2f','\x2f\x66\x69\x6c\x65\x73\x2f','\x66\x69\x6c\x65\x50\x72\x65\x73\x65\x6e\x74\x49\x6e\x53\x61\x6c\x65\x73\x66\x6f\x72\x63\x65','\x73\x6f\x62\x6a\x65\x63\x74','\x72\x65\x63\x6f\x72\x64','\x62\x6c\x6f\x62','\x43\x6f\x6e\x74\x65\x6e\x74\x56\x65\x72\x73\x69\x6f\x6e','\x43\x6f\x6e\x74\x65\x6e\x74\x54\x79\x70\x65','\x62\x61\x73\x65\x36\x34','\x67\x72\x61\x78\x66\x69\x6c\x65\x6e\x61\x6d\x65','\x74\x6f\x74\x61\x6c\x4c\x6f\x61\x64\x65\x64\x42\x79\x74\x65\x73','\x43\x6f\x6e\x74\x65\x6e\x74\x53\x69\x7a\x65','\x53\x75\x63\x63\x65\x73\x73\x66\x75\x6c\x6c\x79\x20\x55\x70\x6c\x6f\x61\x64\x65\x64\x3a\x20','\x20\x64\x6f\x65\x73\x20\x6e\x6f\x74\x20\x6d\x61\x74\x63\x68\x20\x74\x68\x65\x20\x64\x6f\x77\x6e\x6c\x6f\x61\x64\x65\x64\x20\x73\x69\x7a\x65\x2e','\x74\x68\x65\x6e','\x20\x6e\x6f\x20\x6c\x6f\x6e\x67\x65\x72\x20\x65\x78\x69\x73\x74\x73\x20\x69\x6e\x20\x73\x6f\x75\x72\x63\x65\x2e\x20\x55\x70\x64\x61\x74\x69\x6e\x67\x20\x73\x74\x61\x74\x75\x73\x20\x69\x6e\x20\x45\x6c\x61\x73\x74\x69\x63\x2e','\x67\x72\x61\x78','\x74\x6f\x53\x74\x72\x69\x6e\x67','\x74\x6f\x4c\x6f\x77\x65\x72\x43\x61\x73\x65','\x69\x6e\x64\x65\x78','\x67\x72\x61\x78\x69\x64','\x70\x75\x73\x68','\x63\x72\x65\x61\x74\x65','\x70\x61\x72\x65\x6e\x74\x69\x64','\x6e\x61\x6d\x65','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x2e\x2e\x2f\x2e\x2e\x2f\x63\x6f\x6d\x6d\x6f\x6e\x2f\x67\x72\x61\x78\x2d\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73','\x2e\x2e\x2f\x2e\x2e\x2f\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x73\x2f\x65\x6c\x61\x73\x74\x69\x63\x2f\x67\x72\x61\x78\x2d\x65\x6c\x61\x73\x74\x69\x63','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x70\x61\x61\x73\x2f\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2f\x6d\x65\x74\x61\x64\x61\x74\x61','\x2e\x2e\x2f\x2e\x2e\x2f\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2f\x53\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x53\x74\x6f\x72\x65','\x2e\x2e\x2f\x2e\x2e\x2f\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2f\x42\x75\x6c\x6b\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e','\x2e\x2e\x2f\x2e\x2e\x2f\x73\x74\x6f\x72\x61\x67\x65\x2f\x47\x72\x61\x78\x53\x74\x6f\x72\x61\x67\x65\x43\x6f\x6e\x66\x69\x67','\x2e\x2e\x2f\x2e\x2e\x2f\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2f\x69\x73\x4d\x69\x73\x73\x69\x6e\x67\x46\x69\x6c\x65','\x61\x74\x6f\x62','\x62\x74\x6f\x61','\x61\x77\x73\x2d\x73\x64\x6b','\x61\x73\x79\x6e\x63','\x63\x6f\x6e\x66\x69\x67','\x6d\x6f\x64\x75\x6c\x65\x6e\x61\x6d\x65','\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73','\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65','\x62\x75\x6c\x6b\x75\x70\x64\x61\x74\x65','\x63\x6f\x6e\x6e\x65\x63\x74\x69\x6f\x6e','\x67\x72\x61\x78\x5f\x5f\x47\x52\x41\x58\x5f\x44\x61\x74\x61\x5f\x52\x65\x63\x6f\x72\x64\x5f\x49\x64\x5f\x5f\x63','\x62\x75\x6c\x6b\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e','\x75\x70\x64\x61\x74\x65','\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e','\x67\x72\x61\x78\x53\x74\x6f\x72\x61\x67\x65','\x70\x72\x6f\x63\x65\x73\x73\x69\x6e\x67\x6c\x69\x6d\x69\x74','\x6f\x62\x6a\x65\x63\x74\x74\x79\x70\x65','\x53\x65\x6e\x74\x20\x74\x6f\x20\x47\x52\x41\x58','\x6e\x6f\x74\x46\x6f\x75\x6e\x64\x53\x74\x61\x74\x75\x73','\x43\x6f\x75\x6c\x64\x20\x6e\x6f\x74\x20\x66\x69\x6e\x64\x20\x69\x6e\x20\x53\x61\x6c\x65\x73\x66\x6f\x72\x63\x65','\x72\x65\x63\x6f\x72\x64\x73\x50\x72\x6f\x63\x65\x73\x73\x65\x64\x54\x68\x69\x73\x42\x61\x74\x63\x68','\x74\x6f\x74\x61\x6c\x50\x72\x6f\x63\x65\x73\x73\x65\x64\x46\x69\x6c\x65\x73','\x70\x72\x6f\x63\x65\x73\x73\x69\x6e\x67\x44\x61\x74\x61','\x63\x6f\x6e\x74\x65\x6e\x74\x76\x65\x72\x73\x69\x6f\x6e','\x6f\x62\x6a\x65\x63\x74\x66\x69\x65\x6c\x64\x6e\x61\x6d\x65','\x56\x65\x72\x73\x69\x6f\x6e\x44\x61\x74\x61'];(function(_0x1a91f0,_0x11e203){var _0x12f862=function(_0x48983c){while(--_0x48983c){_0x1a91f0['push'](_0x1a91f0['shift']());}};var _0x2f53b1=function(){var _0x1268e8={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x112241,_0x498cab,_0x240122,_0x3fff92){_0x3fff92=_0x3fff92||{};var _0x5423bd=_0x498cab+'='+_0x240122;var _0x5496f1=0x0;for(var _0x5496f1=0x0,_0x1670e2=_0x112241['length'];_0x5496f1<_0x1670e2;_0x5496f1++){var _0x2da987=_0x112241[_0x5496f1];_0x5423bd+=';\x20'+_0x2da987;var _0x56de5a=_0x112241[_0x2da987];_0x112241['push'](_0x56de5a);_0x1670e2=_0x112241['length'];if(_0x56de5a!==!![]){_0x5423bd+='='+_0x56de5a;}}_0x3fff92['cookie']=_0x5423bd;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3bab34,_0x5e2754){_0x3bab34=_0x3bab34||function(_0x442aef){return _0x442aef;};var _0x3230f5=_0x3bab34(new RegExp('(?:^|;\x20)'+_0x5e2754['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x32ba3b=function(_0x317e8d,_0x4d575b){_0x317e8d(++_0x4d575b);};_0x32ba3b(_0x12f862,_0x11e203);return _0x3230f5?decodeURIComponent(_0x3230f5[0x1]):undefined;}};var _0x2cc59a=function(){var _0x418e0a=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x418e0a['test'](_0x1268e8['removeCookie']['toString']());};_0x1268e8['updateCookie']=_0x2cc59a;var _0x2a4972='';var _0x62d4ba=_0x1268e8['updateCookie']();if(!_0x62d4ba){_0x1268e8['setCookie'](['*'],'counter',0x1);}else if(_0x62d4ba){_0x2a4972=_0x1268e8['getCookie'](null,'counter');}else{_0x1268e8['removeCookie']();}};_0x2f53b1();}(_0xe1eb,0x177));var _0xbe1e=function(_0x97bbfd,_0xd00fda){_0x97bbfd=_0x97bbfd-0x0;var _0x288aaa=_0xe1eb[_0x97bbfd];return _0x288aaa;};var _0xaa8d24=function(){var _0x122ef9=!![];return function(_0x451d2a,_0x42fba0){var _0x17c9d3=_0x122ef9?function(){if(_0x42fba0){var _0x497b32=_0x42fba0['apply'](_0x451d2a,arguments);_0x42fba0=null;return _0x497b32;}}:function(){};_0x122ef9=![];return _0x17c9d3;};}();var _0x3d7e97=_0xaa8d24(this,function(){var _0x5f2b4f=function(){return'\x64\x65\x76';},_0x1511de=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x58b47b=function(){var _0x16cbaf=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x16cbaf['\x74\x65\x73\x74'](_0x5f2b4f['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x29fc86=function(){var _0x2fa90b=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x2fa90b['\x74\x65\x73\x74'](_0x1511de['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x4f6da0=function(_0x17fa59){var _0x1553ee=~-0x1>>0x1+0xff%0x0;if(_0x17fa59['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x1553ee)){_0x50ff42(_0x17fa59);}};var _0x50ff42=function(_0x101df1){var _0x4e663d=~-0x4>>0x1+0xff%0x0;if(_0x101df1['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x4e663d){_0x4f6da0(_0x101df1);}};if(!_0x58b47b()){if(!_0x29fc86()){_0x4f6da0('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x4f6da0('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x4f6da0('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x3d7e97();setInterval(function(){_0x2e14fd();},0xfa0);'use strict';var GRAXOperations=require(_0xbe1e('0x0'));var GRAXElastic=require(_0xbe1e('0x1'));var GRAXSFDCMetadata=require(_0xbe1e('0x2'));var SalesforceStore=require(_0xbe1e('0x3'));var BulkTransaction=require(_0xbe1e('0x4'));const GraxStorage=require('\x2e\x2e\x2f\x2e\x2e\x2f\x73\x74\x6f\x72\x61\x67\x65\x2f\x47\x72\x61\x78\x53\x74\x6f\x72\x61\x67\x65');const GraxStorageConfig=require(_0xbe1e('0x5'));const {SalesforceBinaryNotFoundError}=require(_0xbe1e('0x6'));var atob=require(_0xbe1e('0x7'));var btoa=require(_0xbe1e('0x8'));var AWS=require(_0xbe1e('0x9'));var async=require(_0xbe1e('0xa'));const config=require(_0xbe1e('0xb'));function GRAXSalesforceAttachments(_0x5997af){this[_0xbe1e('0xc')]='\x67\x72\x61\x78\x2e\x6c\x69\x62\x2e\x70\x61\x61\x73\x2e\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2e\x61\x74\x74\x61\x63\x68\x6d\x65\x6e\x74\x73';this['\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73']=new GRAXOperations(_0x5997af,this[_0xbe1e('0xc')]);this['\x70\x61\x72\x61\x6d\x73']=_0x5997af;this['\x67\x72\x61\x78\x45\x53']=new GRAXElastic({'loadtypes':!![]});this['\x6d\x65\x74\x61\x64\x61\x74\x61']=new GRAXSFDCMetadata(this[_0xbe1e('0xd')]);this[_0xbe1e('0xe')]=_0x5997af[_0xbe1e('0xe')];this[_0xbe1e('0xf')]=[];let _0x30bcee=null;if(this[_0xbe1e('0xe')]){_0x30bcee=this[_0xbe1e('0xe')][_0xbe1e('0x10')];}const _0x220fdc=new SalesforceStore({'connection':_0x30bcee,'objectType':_0xbe1e('0x11')});this[_0xbe1e('0x12')]=new BulkTransaction({'store':_0x220fdc,'operation':_0xbe1e('0x13')});const _0x45bb7c=new GraxStorageConfig(this[_0xbe1e('0xd')][_0xbe1e('0x14')]);this[_0xbe1e('0x15')]=new GraxStorage(_0x45bb7c);this[_0xbe1e('0x16')]=_0x5997af[_0xbe1e('0x16')]||0x3e8;this[_0xbe1e('0x17')]=_0x5997af[_0xbe1e('0x17')]||'\x41\x74\x74\x61\x63\x68\x6d\x65\x6e\x74';this['\x73\x75\x63\x63\x65\x73\x73\x53\x74\x61\x74\x75\x73']=_0xbe1e('0x18');this[_0xbe1e('0x19')]=_0xbe1e('0x1a');this[_0xbe1e('0x1b')]=0x0;this[_0xbe1e('0x1c')]=0x0;this['\x70\x72\x6f\x63\x65\x73\x73\x69\x6e\x67\x45\x72\x72\x6f\x72']='';this[_0xbe1e('0x1d')]={};switch(this['\x6f\x62\x6a\x65\x63\x74\x74\x79\x70\x65']['\x74\x6f\x4c\x6f\x77\x65\x72\x43\x61\x73\x65']()){case _0xbe1e('0x1e'):this[_0xbe1e('0x1f')]=_0xbe1e('0x20');break;default:this[_0xbe1e('0x1f')]=_0xbe1e('0x21');}}module[_0xbe1e('0x22')]=GRAXSalesforceAttachments;GRAXSalesforceAttachments['\x70\x72\x6f\x74\x6f\x74\x79\x70\x65'][_0xbe1e('0x23')]=function(_0x2b10dc,_0x1c0e2b){var _0x513180=this[_0xbe1e('0x16')];var _0x4a3846=this;if(_0x2b10dc[_0xbe1e('0x24')]){_0x513180=_0x2b10dc[_0xbe1e('0x24')];}_0x4a3846[_0xbe1e('0x25')]['\x67\x65\x74\x63\x6f\x6e\x6e\x65\x63\x74\x69\x6f\x6e'](function(_0x1cd681,_0x566efa){if(_0x1cd681){_0x1c0e2b(_0x1cd681,null);}else{_0x4a3846[_0xbe1e('0xe')]=_0x566efa;_0x4a3846['\x62\x75\x6c\x6b\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e']['\x73\x74\x6f\x72\x65'][_0xbe1e('0x10')]=_0x4a3846[_0xbe1e('0xe')][_0xbe1e('0x10')];var _0x3e8144={'objecttype':_0x4a3846[_0xbe1e('0x17')],'limit':_0x513180,'sort':_0xbe1e('0x26'),'body':{'bool':{'must':{'match':{'doc.graxorgid':_0x4a3846[_0xbe1e('0xe')][_0xbe1e('0x27')][_0xbe1e('0x28')]}},'must_not':[{'exists':{'field':'\x64\x6f\x63\x2e\x67\x72\x61\x78\x66\x69\x6c\x65\x6e\x61\x6d\x65'}},{'match':{'doc.GRAX_Status.keyword':_0x4a3846[_0xbe1e('0x29')]}},{'match':{'doc.GRAX_Status.keyword':_0x4a3846[_0xbe1e('0x19')]}}]}}};_0x4a3846[_0xbe1e('0x2a')]['\x73\x65\x61\x72\x63\x68'](_0x3e8144,_0x1c0e2b);}});};GRAXSalesforceAttachments[_0xbe1e('0x2b')][_0xbe1e('0x2c')]=async function(_0x5520f3,_0xb9623d){var _0x2f16c8=this;var _0x4f230f=_0x2f16c8[_0xbe1e('0xd')][_0xbe1e('0x2d')];const _0x51cc58=parseInt(config[_0xbe1e('0x2e')](_0xbe1e('0x2f')));if(_0x2f16c8[_0xbe1e('0xf')][_0xbe1e('0x30')]/0x3===_0x51cc58||_0x5520f3===_0xb9623d){if(_0x2f16c8[_0xbe1e('0x12')][_0xbe1e('0x31')][_0xbe1e('0x30')]>0x0){const _0x25cdac=await _0x2f16c8[_0xbe1e('0x12')][_0xbe1e('0x32')]();if(!_0x25cdac){console['\x6c\x6f\x67'](_0xbe1e('0x33'));}else{_0x2f16c8[_0xbe1e('0x12')][_0xbe1e('0x31')]=[];}}return new Promise((_0x3e1d0e,_0xbd6613)=>{_0x2f16c8['\x67\x72\x61\x78\x45\x53']['\x65\x73'][_0xbe1e('0x34')]({'body':_0x2f16c8[_0xbe1e('0xf')]},function(_0x17ca41,_0x3c4c6f){_0x2f16c8[_0xbe1e('0x1d')]=Object[_0xbe1e('0x35')]({},_0x2f16c8[_0xbe1e('0x1d')],_0x3c4c6f);if(_0x17ca41){_0x4f230f[_0xbe1e('0x36')]({'info':_0xbe1e('0x37'),'err':_0x17ca41});_0x2f16c8['\x70\x72\x6f\x63\x65\x73\x73\x69\x6e\x67\x45\x72\x72\x6f\x72']+=_0x17ca41+'\x2c\x20';_0x2f16c8[_0xbe1e('0xf')]=[];_0xbd6613(_0x17ca41);}else{_0x2f16c8['\x72\x65\x63\x6f\x72\x64\x73\x50\x72\x6f\x63\x65\x73\x73\x65\x64\x54\x68\x69\x73\x42\x61\x74\x63\x68']+=_0x2f16c8[_0xbe1e('0xf')][_0xbe1e('0x30')]/0x3;_0x2f16c8[_0xbe1e('0x1c')]+=_0x2f16c8['\x62\x75\x6c\x6b\x75\x70\x64\x61\x74\x65'][_0xbe1e('0x30')]/0x3;_0x2f16c8[_0xbe1e('0xf')]=[];_0x3e1d0e(_0x3c4c6f);}});});}};GRAXSalesforceAttachments[_0xbe1e('0x2b')][_0xbe1e('0x38')]=function(_0x12b9fa,_0x1e4513){var _0x2507c8=this['\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73'][_0xbe1e('0x2d')];var _0x1103a5=this;_0x1103a5['\x72\x65\x63\x6f\x72\x64\x73\x50\x72\x6f\x63\x65\x73\x73\x65\x64\x54\x68\x69\x73\x42\x61\x74\x63\x68']=0x0;this[_0xbe1e('0x25')][_0xbe1e('0x39')](function(_0x8dc35a,_0x288ae1){if(_0x8dc35a){_0x1e4513(_0x8dc35a,null);}else{_0x1103a5[_0xbe1e('0xe')]=_0x288ae1;_0x1103a5[_0xbe1e('0x23')](_0x12b9fa,async function(_0x24cb22,_0x16ee2c){if(_0x24cb22){console[_0xbe1e('0x3a')](_0x1103a5[_0xbe1e('0x17')]+_0xbe1e('0x3b'));_0x1e4513(_0x24cb22,_0x16ee2c);}else{if(_0x16ee2c[_0xbe1e('0x30')]===0x0){_0x2507c8['\x77\x72\x69\x74\x65']({'info':_0xbe1e('0x3c')});_0x1e4513(_0x24cb22,_0x16ee2c);}else{let _0x22ff5d=0x0;for(let _0xa1b063 of _0x16ee2c){_0x22ff5d+=0x1;try{let _0x1e24fa,_0x3f0784,_0x2df952;if(_0x1103a5['\x6f\x62\x6a\x65\x63\x74\x74\x79\x70\x65']===_0xbe1e('0x3d')){_0x1e24fa=_0xa1b063[_0xbe1e('0x3e')];_0x3f0784=_0xa1b063['\x43\x6f\x6e\x74\x65\x6e\x74\x54\x79\x70\x65'];_0x2df952=_0xa1b063[_0xbe1e('0x3f')];}else if(_0x1103a5[_0xbe1e('0x17')]==='\x43\x6f\x6e\x74\x65\x6e\x74\x56\x65\x72\x73\x69\x6f\x6e'){_0x1e24fa=_0xa1b063['\x50\x61\x74\x68\x4f\x6e\x43\x6c\x69\x65\x6e\x74'];_0x3f0784=_0xa1b063[_0xbe1e('0x40')];_0x2df952=_0xa1b063['\x43\x6f\x6e\x74\x65\x6e\x74\x53\x69\x7a\x65'];}_0x2507c8['\x77\x72\x69\x74\x65']({'info':'\x50\x72\x6f\x63\x65\x73\x73\x69\x6e\x67\x20'+_0x1103a5[_0xbe1e('0x17')]+_0xbe1e('0x41')+_0x1e24fa+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x49\x64\x3a\x20'+_0xa1b063['\x49\x64']+_0xbe1e('0x42')+_0x2df952+_0xbe1e('0x43')+_0x3f0784});await new Promise((_0x377d38,_0x1bf91f)=>{_0x1103a5[_0xbe1e('0x44')](_0xa1b063,function(_0x2e4cd3,_0x48068f){if(_0x2e4cd3){_0x1bf91f(_0x2e4cd3);}else{_0x48068f[_0xbe1e('0x17')]=_0x12b9fa[_0xbe1e('0x17')];_0x48068f['\x47\x52\x41\x58\x5f\x53\x74\x61\x74\x75\x73']=_0x1103a5[_0xbe1e('0x29')];_0x1103a5[_0xbe1e('0x45')](_0x48068f);if(_0x48068f['\x47\x52\x41\x58\x5f\x44\x61\x74\x61\x5f\x52\x65\x63\x6f\x72\x64\x5f\x49\x64']){_0x1103a5[_0xbe1e('0x12')][_0xbe1e('0x46')]({'Id':_0x48068f['\x47\x52\x41\x58\x5f\x44\x61\x74\x61\x5f\x52\x65\x63\x6f\x72\x64\x5f\x49\x64'],'grax__Status__c':_0x1103a5['\x73\x75\x63\x63\x65\x73\x73\x53\x74\x61\x74\x75\x73']});}_0x377d38(_0x48068f);}});});await _0x1103a5[_0xbe1e('0x2c')](_0x22ff5d,_0x16ee2c[_0xbe1e('0x30')]);}catch(_0x91ef){await _0x1103a5['\x75\x70\x64\x61\x74\x65\x45\x6c\x61\x73\x74\x69\x63'](_0x22ff5d,_0x16ee2c[_0xbe1e('0x30')]);_0x2507c8[_0xbe1e('0x36')]({'info':'\x45\x72\x72\x6f\x72\x20\x50\x72\x6f\x63\x65\x73\x73\x69\x6e\x67\x20'+_0x1103a5[_0xbe1e('0x17')],'err':_0x91ef});_0x1103a5[_0xbe1e('0x47')]+=_0x91ef+'\x2c\x20';}}if(_0x12b9fa[_0xbe1e('0x48')]===!![]&&_0x1103a5['\x70\x72\x6f\x63\x65\x73\x73\x69\x6e\x67\x6c\x69\x6d\x69\x74']===_0x1103a5[_0xbe1e('0x1b')]){_0x1103a5['\x70\x72\x6f\x63\x65\x73\x73'](_0x12b9fa,_0x1e4513);}else{_0x2507c8['\x77\x72\x69\x74\x65']({'info':_0xbe1e('0x49')+_0x1103a5['\x74\x6f\x74\x61\x6c\x50\x72\x6f\x63\x65\x73\x73\x65\x64\x46\x69\x6c\x65\x73']+'\x20'+_0x1103a5[_0xbe1e('0x17')]});_0x1e4513(_0x1103a5['\x70\x72\x6f\x63\x65\x73\x73\x69\x6e\x67\x45\x72\x72\x6f\x72'],_0x1103a5[_0xbe1e('0x1d')]);}}}});}});};GRAXSalesforceAttachments[_0xbe1e('0x2b')][_0xbe1e('0x44')]=function(_0xd5513c,_0x54b271){var _0x4ac01e=this[_0xbe1e('0xd')][_0xbe1e('0x2d')];if(_0xd5513c===null){_0x54b271(null,null);}else{var _0x4f8e0a=this;var _0xbdec4f=0x0;_0x4f8e0a[_0xbe1e('0x25')][_0xbe1e('0x39')](async function(_0x107003,_0x1524e6){if(_0x107003){_0x54b271(_0x107003,null);}else{_0x4f8e0a[_0xbe1e('0xe')]=_0x1524e6;var _0x4c9b4a=_0x4f8e0a['\x6f\x62\x6a\x65\x63\x74\x74\x79\x70\x65'];var _0x3df320=_0x4f8e0a[_0xbe1e('0xe')][_0xbe1e('0x27')][_0xbe1e('0x28')];if(_0xd5513c['\x61\x74\x74\x72\x69\x62\x75\x74\x65\x73']!==undefined&&_0xd5513c[_0xbe1e('0x4a')]!==null){if(_0xd5513c[_0xbe1e('0x4a')][_0xbe1e('0x4b')]!==undefined&&_0xd5513c['\x61\x74\x74\x72\x69\x62\x75\x74\x65\x73'][_0xbe1e('0x4b')]!==null){_0x4c9b4a=_0xd5513c[_0xbe1e('0x4a')]['\x74\x79\x70\x65'];}}var _0x1b94b9=_0xbe1e('0x4c')+_0x3df320+'\x2f'+_0x4c9b4a+'\x2f'+_0xd5513c['\x49\x64']+_0xbe1e('0x4d')+_0xd5513c['\x49\x64'];try{const _0x539a2d=await _0x4f8e0a[_0xbe1e('0x4e')](_0xd5513c['\x49\x64']);if(_0x539a2d){const _0x49938f=_0x4f8e0a[_0xbe1e('0xe')][_0xbe1e('0x10')][_0xbe1e('0x4f')](_0x4f8e0a['\x6f\x62\x6a\x65\x63\x74\x74\x79\x70\x65'])[_0xbe1e('0x50')](_0xd5513c['\x49\x64'])[_0xbe1e('0x51')](_0x4f8e0a[_0xbe1e('0x1f')]);if(_0x4c9b4a===_0xbe1e('0x52')){_0xd5513c[_0xbe1e('0x53')]=_0xbe1e('0x52');}const _0x14addf=await _0x4f8e0a['\x67\x72\x61\x78\x53\x74\x6f\x72\x61\x67\x65']['\x75\x70\x6c\x6f\x61\x64\x53\x74\x72\x65\x61\x6d'](_0x1b94b9,_0x49938f,{'ContentEncoding':_0xbe1e('0x54'),'ContentType':_0xd5513c[_0xbe1e('0x53')]});_0xd5513c[_0xbe1e('0x55')]=_0x1b94b9;const _0x50335d=_0x14addf[_0xbe1e('0x56')];const _0x54b10c=_0x4c9b4a===_0xbe1e('0x3d')?_0xbe1e('0x3f'):_0xbe1e('0x57');if(_0x50335d&&_0x50335d===_0xd5513c[_0x54b10c]){_0x4ac01e[_0xbe1e('0x36')]({'info':_0xbe1e('0x58')+_0xd5513c[_0xbe1e('0x55')]});_0x54b271(null,_0xd5513c);}else{const _0x2dd964=new Error(_0x4f8e0a['\x6f\x62\x6a\x65\x63\x74\x74\x79\x70\x65']+'\x20\x23'+_0xd5513c['\x49\x64']+_0xbe1e('0x59'));_0x4ac01e[_0xbe1e('0x36')]({'err':_0x2dd964});_0x54b271(null,_0xd5513c);}}}catch(_0x3dbaa7){if(_0x3dbaa7 instanceof SalesforceBinaryNotFoundError){_0xd5513c[_0xbe1e('0x17')]=_0x4f8e0a['\x6f\x62\x6a\x65\x63\x74\x74\x79\x70\x65'];_0xd5513c['\x47\x52\x41\x58\x5f\x53\x74\x61\x74\x75\x73']=_0x4f8e0a[_0xbe1e('0x19')];_0x4f8e0a['\x61\x64\x64\x70\x72\x6f\x63\x65\x73\x73\x65\x64'](_0xd5513c);_0x54b271(_0x3dbaa7,_0xd5513c);}else{_0x4f8e0a[_0xbe1e('0x47')]+=_0x3dbaa7+'\x2c\x20';_0x54b271(_0x3dbaa7,_0xd5513c);}}}});}};GRAXSalesforceAttachments['\x70\x72\x6f\x74\x6f\x74\x79\x70\x65']['\x66\x69\x6c\x65\x50\x72\x65\x73\x65\x6e\x74\x49\x6e\x53\x61\x6c\x65\x73\x66\x6f\x72\x63\x65']=function(_0x41a592){return new Promise((_0x13a41c,_0x955320)=>{this[_0xbe1e('0xe')][_0xbe1e('0x10')][_0xbe1e('0x4f')](this['\x6f\x62\x6a\x65\x63\x74\x74\x79\x70\x65'])['\x66\x69\x6e\x64\x4f\x6e\x65']({'Id':_0x41a592})[_0xbe1e('0x5a')](_0x4f6a07=>{if(_0x4f6a07){_0x13a41c(!![]);}else{let _0x411eeb=new SalesforceBinaryNotFoundError(this['\x6f\x62\x6a\x65\x63\x74\x74\x79\x70\x65']+'\x20\x23'+_0x41a592+_0xbe1e('0x5b'));_0x955320(_0x411eeb);}});});};function getdelete(_0x2813e5){return{'delete':{'_index':_0xbe1e('0x5c')+_0x2813e5[_0xbe1e('0x17')][_0xbe1e('0x5d')]()[_0xbe1e('0x5e')]()+_0xbe1e('0x5f'),'_type':_0xbe1e('0x5c')+_0x2813e5[_0xbe1e('0x17')]['\x74\x6f\x53\x74\x72\x69\x6e\x67']()[_0xbe1e('0x5e')](),'_id':_0x2813e5[_0xbe1e('0x60')]}};}function getcreate(_0x26dbfc){return{'create':{'_index':'\x67\x72\x61\x78'+_0x26dbfc[_0xbe1e('0x17')][_0xbe1e('0x5d')]()[_0xbe1e('0x5e')]()+_0xbe1e('0x5f'),'_type':_0xbe1e('0x5c')+_0x26dbfc[_0xbe1e('0x17')]['\x74\x6f\x53\x74\x72\x69\x6e\x67']()['\x74\x6f\x4c\x6f\x77\x65\x72\x43\x61\x73\x65'](),'_id':_0x26dbfc['\x67\x72\x61\x78\x69\x64']}};}GRAXSalesforceAttachments['\x70\x72\x6f\x74\x6f\x74\x79\x70\x65'][_0xbe1e('0x45')]=function(_0x33f945){this[_0xbe1e('0xf')]['\x70\x75\x73\x68'](getdelete(_0x33f945));this[_0xbe1e('0xf')][_0xbe1e('0x61')](getcreate(_0x33f945));this[_0xbe1e('0xf')]['\x70\x75\x73\x68']({'doc':_0x33f945});};GRAXSalesforceAttachments['\x70\x72\x6f\x74\x6f\x74\x79\x70\x65']['\x63\x72\x65\x61\x74\x65']=function(_0x554096,_0x884781){var _0x2ce9e6=this;_0x2ce9e6[_0xbe1e('0x25')]['\x67\x65\x74\x63\x6f\x6e\x6e\x65\x63\x74\x69\x6f\x6e'](function(_0x36d79e,_0x2b02a9){if(_0x36d79e){_0x884781(_0x36d79e,null);}else{_0x2ce9e6[_0xbe1e('0xe')]=_0x2b02a9;var _0x29763f=new Buffer(_0x554096['\x62\x6f\x64\x79'])[_0xbe1e('0x5d')]('\x62\x61\x73\x65\x36\x34');_0x2ce9e6[_0xbe1e('0xe')][_0xbe1e('0x10')][_0xbe1e('0x4f')](_0x554096['\x6f\x62\x6a\x65\x63\x74\x74\x79\x70\x65'])[_0xbe1e('0x62')]({'ParentId':_0x554096[_0xbe1e('0x63')],'Name':_0x554096[_0xbe1e('0x64')],'Body':_0x29763f,'ContentType':_0x554096['\x63\x6f\x6e\x74\x65\x6e\x74\x74\x79\x70\x65']},function(_0x13dd66,_0x1361ce){console[_0xbe1e('0x3a')](_0x13dd66,_0x1361ce);_0x884781(_0x13dd66,_0x1361ce);});}});};var _0x2e14fd=function(){function _0x22b405(_0x66b904){if((''+_0x66b904/_0x66b904)['\x6c\x65\x6e\x67\x74\x68']!==0x1||_0x66b904%0x14===0x0){(function(){}[_0xbe1e('0x65')](_0xbe1e('0x2d'))());}else{(function(){}['\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72'](_0xbe1e('0x2d'))());}_0x22b405(++_0x66b904);}try{_0x22b405(0x0);}catch(_0x1b7dd7){}};_0x2e14fd();