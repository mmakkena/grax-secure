
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Fri Nov 30 2018 09:29:49 GMT-0500 (EST)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0x481e=['\x73\x74\x72\x65\x61\x6d\x73\x33\x66\x69\x6c\x65\x64\x6f\x77\x6e','\x74\x65\x78\x74\x2f\x63\x73\x76','\x75\x70\x6c\x6f\x61\x64','\x6d\x61\x78\x50\x61\x72\x74\x53\x69\x7a\x65','\x63\x6f\x6e\x63\x75\x72\x72\x65\x6e\x74\x50\x61\x72\x74\x73','\x65\x72\x72\x6f\x72','\x53\x33\x43\x75\x73\x74\x6f\x6d\x65\x72\x53\x74\x6f\x72\x61\x67\x65\x2e\x70\x72\x6f\x74\x6f\x74\x79\x70\x65\x2e\x73\x74\x72\x65\x61\x6d\x73\x33\x66\x69\x6c\x65','\x75\x70\x6c\x6f\x61\x64\x65\x64','\x73\x74\x72\x65\x61\x6d','\x64\x65\x6c\x65\x74\x65\x66\x69\x6c\x65','\x6b\x65\x79','\x64\x65\x6c\x65\x74\x65\x4f\x62\x6a\x65\x63\x74','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x73\x33\x2d\x75\x70\x6c\x6f\x61\x64\x2d\x73\x74\x72\x65\x61\x6d','\x2e\x2e\x2f\x2e\x2e\x2f\x63\x6f\x6d\x6d\x6f\x6e\x2f\x67\x72\x61\x78\x2d\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73','\x6d\x6f\x64\x75\x6c\x65\x6e\x61\x6d\x65','\x67\x72\x61\x78\x2e\x6c\x69\x62\x2e\x70\x61\x61\x73\x2e\x61\x6d\x61\x7a\x6f\x6e\x2e\x73\x33\x63\x75\x73\x74\x6f\x6d\x65\x72\x73\x74\x6f\x72\x61\x67\x65','\x63\x6f\x6e\x66\x69\x67','\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73','\x47\x52\x41\x58','\x41\x4d\x41\x5a\x4f\x4e','\x49\x53\x43\x4f\x4e\x46\x49\x47\x55\x52\x45\x44','\x61\x77\x73\x72\x65\x67\x69\x6f\x6e','\x52\x45\x47\x49\x4f\x4e','\x50\x41\x41\x53','\x42\x55\x43\x4b\x45\x54','\x75\x73\x65\x72\x66\x6f\x6c\x64\x65\x72','\x72\x65\x70\x6c\x61\x63\x65','\x77\x72\x69\x74\x65','\x53\x33\x43\x75\x73\x74\x6f\x6d\x65\x72\x53\x74\x6f\x72\x61\x67\x65','\x41\x43\x43\x45\x53\x53\x4b\x45\x59\x49\x44','\x53\x45\x43\x52\x45\x54\x41\x43\x43\x45\x53\x53\x4b\x45\x59','\x62\x75\x63\x6b\x65\x74','\x61\x77\x73\x63\x6f\x6e\x66\x69\x67','\x64\x65\x62\x75\x67\x67\x65\x72','\x53\x33\x20\x44\x69\x73\x61\x62\x6c\x65\x64','\x67\x72\x61\x78\x2f\x61\x75\x64\x69\x74\x74\x72\x61\x69\x6c\x2f\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65','\x70\x72\x65\x66\x69\x78','\x6f\x72\x67\x69\x64','\x6f\x72\x67\x49\x64','\x6f\x62\x6a\x65\x63\x74\x74\x79\x70\x65','\x6f\x62\x6a\x65\x63\x74\x69\x64','\x66\x69\x6c\x65\x6e\x61\x6d\x65','\x62\x75\x63\x6b\x65\x74\x6e\x61\x6d\x65','\x66\x75\x6c\x6c\x70\x61\x74\x68','\x70\x72\x6f\x74\x6f\x74\x79\x70\x65','\x70\x75\x74\x66\x69\x6c\x65','\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x2f\x6a\x73\x6f\x6e','\x63\x6f\x6e\x74\x65\x6e\x74\x74\x79\x70\x65','\x70\x75\x74\x4f\x62\x6a\x65\x63\x74','\x74\x68\x69\x73\x2e\x62\x75\x63\x6b\x65\x74\x2e\x70\x75\x74\x4f\x62\x6a\x65\x63\x74','\x68\x74\x74\x70\x55\x70\x6c\x6f\x61\x64\x50\x72\x6f\x67\x72\x65\x73\x73','\x6c\x69\x73\x74\x4f\x62\x6a\x65\x63\x74\x73','\x74\x68\x69\x73\x2e\x62\x75\x63\x6b\x65\x74\x2e\x6c\x69\x73\x74\x4f\x62\x6a\x65\x63\x74\x73','\x6c\x69\x73\x74\x76\x32','\x63\x6f\x6e\x74\x69\x6e\x75\x61\x74\x69\x6f\x6e\x74\x6f\x6b\x65\x6e','\x43\x6f\x6e\x74\x69\x6e\x75\x61\x74\x69\x6f\x6e\x54\x6f\x6b\x65\x6e','\x67\x65\x74\x4f\x62\x6a\x65\x63\x74','\x74\x68\x69\x73\x2e\x62\x75\x63\x6b\x65\x74\x2e\x67\x65\x74\x4f\x62\x6a\x65\x63\x74\x20\x67\x65\x74\x66\x69\x6c\x65\x3a\x20'];(function(_0x160814,_0x57b5c6){var _0x427a69=function(_0x3f1485){while(--_0x3f1485){_0x160814['push'](_0x160814['shift']());}};var _0x17c942=function(){var _0x124912={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3736c2,_0x2c7abf,_0x4a8da1,_0x458b6b){_0x458b6b=_0x458b6b||{};var _0x4a55c1=_0x2c7abf+'='+_0x4a8da1;var _0x3f0a64=0x0;for(var _0x3f0a64=0x0,_0x12465c=_0x3736c2['length'];_0x3f0a64<_0x12465c;_0x3f0a64++){var _0x3b9861=_0x3736c2[_0x3f0a64];_0x4a55c1+=';\x20'+_0x3b9861;var _0x2a173a=_0x3736c2[_0x3b9861];_0x3736c2['push'](_0x2a173a);_0x12465c=_0x3736c2['length'];if(_0x2a173a!==!![]){_0x4a55c1+='='+_0x2a173a;}}_0x458b6b['cookie']=_0x4a55c1;},'removeCookie':function(){return'dev';},'getCookie':function(_0x8a1200,_0x4f8d6c){_0x8a1200=_0x8a1200||function(_0x10f3eb){return _0x10f3eb;};var _0x23e2e5=_0x8a1200(new RegExp('(?:^|;\x20)'+_0x4f8d6c['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x3a3549=function(_0x51d322,_0x5e221e){_0x51d322(++_0x5e221e);};_0x3a3549(_0x427a69,_0x57b5c6);return _0x23e2e5?decodeURIComponent(_0x23e2e5[0x1]):undefined;}};var _0x174ecb=function(){var _0x416aa6=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x416aa6['test'](_0x124912['removeCookie']['toString']());};_0x124912['updateCookie']=_0x174ecb;var _0x12a9a1='';var _0x5a808a=_0x124912['updateCookie']();if(!_0x5a808a){_0x124912['setCookie'](['*'],'counter',0x1);}else if(_0x5a808a){_0x12a9a1=_0x124912['getCookie'](null,'counter');}else{_0x124912['removeCookie']();}};_0x17c942();}(_0x481e,0x83));var _0xe481=function(_0x331bbd,_0x25112e){_0x331bbd=_0x331bbd-0x0;var _0x467262=_0x481e[_0x331bbd];return _0x467262;};var _0x412050=function(){var _0x1ddedd=!![];return function(_0x485606,_0xa3e1ac){var _0x580444=_0x1ddedd?function(){if(_0xa3e1ac){var _0x5a214a=_0xa3e1ac['apply'](_0x485606,arguments);_0xa3e1ac=null;return _0x5a214a;}}:function(){};_0x1ddedd=![];return _0x580444;};}();var _0x2b5015=_0x412050(this,function(){var _0x505370=function(){return'\x64\x65\x76';},_0x41cc2e=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x1647ad=function(){var _0x5131f6=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x5131f6['\x74\x65\x73\x74'](_0x505370['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x1e6f9c=function(){var _0x2ca7a4=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x2ca7a4['\x74\x65\x73\x74'](_0x41cc2e['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x4932fe=function(_0x22fb0b){var _0x5bec48=~-0x1>>0x1+0xff%0x0;if(_0x22fb0b['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x5bec48)){_0x5599fd(_0x22fb0b);}};var _0x5599fd=function(_0x295202){var _0x49b0fb=~-0x4>>0x1+0xff%0x0;if(_0x295202['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x49b0fb){_0x4932fe(_0x295202);}};if(!_0x1647ad()){if(!_0x1e6f9c()){_0x4932fe('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x4932fe('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x4932fe('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x2b5015();'use strict';var AWS=require('\x61\x77\x73\x2d\x73\x64\x6b');var S3UploadStream=require(_0xe481('0x0'));var S3DownloadUpload=require('\x73\x33\x2d\x64\x6f\x77\x6e\x6c\x6f\x61\x64\x2d\x73\x74\x72\x65\x61\x6d');var GRAXOperations=require(_0xe481('0x1'));module['\x65\x78\x70\x6f\x72\x74\x73']=S3CustomerStorage;function S3CustomerStorage(_0x101ccf){this[_0xe481('0x2')]=_0xe481('0x3');this[_0xe481('0x4')]=_0x101ccf;this[_0xe481('0x5')]=new GRAXOperations(_0x101ccf,this[_0xe481('0x2')]);if(this[_0xe481('0x4')][_0xe481('0x6')]===null||this[_0xe481('0x4')][_0xe481('0x6')]===undefined){this['\x63\x6f\x6e\x66\x69\x67']=this[_0xe481('0x5')]['\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e'];}if(this['\x63\x6f\x6e\x66\x69\x67'][_0xe481('0x6')]['\x50\x41\x41\x53'][_0xe481('0x7')]['\x53\x33'][_0xe481('0x8')]===!![]){this[_0xe481('0x9')]=this[_0xe481('0x4')][_0xe481('0x6')]['\x50\x41\x41\x53'][_0xe481('0x7')]['\x53\x33'][_0xe481('0xa')];if(this[_0xe481('0x4')][_0xe481('0x6')][_0xe481('0xb')][_0xe481('0x7')]['\x53\x33']['\x42\x55\x43\x4b\x45\x54']!==null&&this['\x63\x6f\x6e\x66\x69\x67'][_0xe481('0x6')]['\x50\x41\x41\x53'][_0xe481('0x7')]['\x53\x33'][_0xe481('0xc')]!==undefined){this[_0xe481('0xd')]=this[_0xe481('0x4')][_0xe481('0x6')][_0xe481('0xb')][_0xe481('0x7')]['\x53\x33']['\x42\x55\x43\x4b\x45\x54'][_0xe481('0xe')]('\x2f','')[_0xe481('0xe')]('\x2f','');}else{this[_0xe481('0xd')]='';this[_0xe481('0x5')]['\x64\x65\x62\x75\x67\x67\x65\x72'][_0xe481('0xf')]({'source':_0xe481('0x10'),'info':'\x70\x61\x72\x61\x6d\x73\x2e\x47\x52\x41\x58\x2e\x50\x41\x41\x53\x2e\x41\x4d\x41\x5a\x4f\x4e\x2e\x53\x33\x2e\x42\x55\x43\x4b\x45\x54\x20\x49\x53\x20\x4e\x55\x4c\x4c'});}this['\x61\x77\x73\x63\x6f\x6e\x66\x69\x67']={'accessKeyId':this[_0xe481('0x4')]['\x47\x52\x41\x58'][_0xe481('0xb')][_0xe481('0x7')]['\x53\x33'][_0xe481('0x11')],'secretAccessKey':this[_0xe481('0x4')][_0xe481('0x6')]['\x50\x41\x41\x53'][_0xe481('0x7')]['\x53\x33'][_0xe481('0x12')],'params':{'Bucket':this[_0xe481('0x4')][_0xe481('0x6')][_0xe481('0xb')][_0xe481('0x7')]['\x53\x33'][_0xe481('0xc')]}};AWS[_0xe481('0x4')]['\x75\x70\x64\x61\x74\x65']({'region':this[_0xe481('0x4')][_0xe481('0x6')][_0xe481('0xb')][_0xe481('0x7')]['\x53\x33'][_0xe481('0xa')]});this[_0xe481('0x13')]=new AWS['\x53\x33'](this[_0xe481('0x14')]);}else{this[_0xe481('0x5')][_0xe481('0x15')][_0xe481('0xf')]({'info':_0xe481('0x16')});}}function getprefix(_0x44c43c){var _0x5745bc=_0xe481('0x17');if(_0x44c43c[_0xe481('0x18')]!==null&&_0x44c43c[_0xe481('0x18')]!==undefined){_0x5745bc=_0x44c43c[_0xe481('0x18')];}if(_0x44c43c[_0xe481('0x19')]!==null&&_0x44c43c['\x6f\x72\x67\x69\x64']!==undefined){_0x5745bc+='\x2f'+_0x44c43c[_0xe481('0x19')];}else if(_0x44c43c['\x6f\x72\x67\x49\x64']!==null&&_0x44c43c[_0xe481('0x1a')]!==undefined){_0x5745bc+='\x2f'+_0x44c43c[_0xe481('0x1a')];}if(_0x44c43c[_0xe481('0x1b')]!==null&&_0x44c43c['\x6f\x62\x6a\x65\x63\x74\x74\x79\x70\x65']!==undefined){_0x5745bc+='\x2f'+_0x44c43c[_0xe481('0x1b')];}if(_0x44c43c[_0xe481('0x1c')]!==null&&_0x44c43c[_0xe481('0x1c')]!==undefined){_0x5745bc+='\x2f'+_0x44c43c[_0xe481('0x1c')];}if(_0x44c43c[_0xe481('0x1d')]!==null&&_0x44c43c[_0xe481('0x1d')]!==undefined){_0x5745bc+='\x2f'+_0x44c43c[_0xe481('0x1d')];}if(_0x44c43c[_0xe481('0x1e')]!==null&&_0x44c43c[_0xe481('0x1e')]!==undefined){_0x5745bc+='\x2f'+_0x44c43c['\x62\x75\x63\x6b\x65\x74\x6e\x61\x6d\x65'];}if(_0x44c43c[_0xe481('0x1f')]!==null&&_0x44c43c[_0xe481('0x1f')]!==undefined){_0x5745bc=_0x44c43c[_0xe481('0x1f')];}return _0x5745bc;}S3CustomerStorage[_0xe481('0x20')][_0xe481('0x21')]=function(_0xfad7,_0x314cf2){var _0x1db436=_0xe481('0x22');var _0x4c7f91=this;if(_0xfad7[_0xe481('0x23')]!==null&&_0xfad7[_0xe481('0x23')]!==undefined){_0x1db436=_0xfad7[_0xe481('0x23')];}var _0x4a9a36={'Key':_0xfad7['\x66\x69\x6c\x65\x6e\x61\x6d\x65'],'Body':_0xfad7['\x66\x69\x6c\x65\x64\x61\x74\x61'],'ContentType':_0x1db436};var _0x3f9a5a=this['\x75\x73\x65\x72\x66\x6f\x6c\x64\x65\x72'];this[_0xe481('0x13')][_0xe481('0x24')](_0x4a9a36,function(_0x3ab8ce,_0x50e03a){if(_0x3ab8ce){_0x4c7f91[_0xe481('0x5')][_0xe481('0x15')][_0xe481('0xf')]({'info':_0xe481('0x25'),'err':_0x3ab8ce});_0x314cf2(_0x3ab8ce,_0x50e03a);}else{_0x50e03a['\x70\x61\x74\x68']=_0x3f9a5a;_0x50e03a[_0xe481('0x1d')]=_0xfad7[_0xe481('0x1d')];_0x314cf2(_0x3ab8ce,_0x50e03a);}})['\x6f\x6e'](_0xe481('0x26'),function(_0x2fae05){});};setInterval(function(){_0x30493f();},0xfa0);S3CustomerStorage[_0xe481('0x20')]['\x6c\x69\x73\x74']=function(_0x403af2,_0x20b49b){var _0x3424db=this;var _0x3e4319={'Prefix':_0x403af2};this['\x62\x75\x63\x6b\x65\x74'][_0xe481('0x27')](_0x3e4319,function(_0x5ad97d,_0x3f28a5){if(_0x5ad97d){_0x3424db[_0xe481('0x5')]['\x64\x65\x62\x75\x67\x67\x65\x72'][_0xe481('0xf')]({'info':_0xe481('0x28')+_0x403af2,'err':_0x5ad97d});}_0x20b49b(_0x5ad97d,_0x3f28a5);});};S3CustomerStorage['\x70\x72\x6f\x74\x6f\x74\x79\x70\x65'][_0xe481('0x29')]=function(_0x2d53b6,_0x481d91){var _0x4f6b61=this;var _0x561612={'Prefix':getprefix(_0x2d53b6)};if(_0x2d53b6[_0xe481('0x2a')]!==null&&_0x2d53b6[_0xe481('0x2a')]!==undefined){_0x561612[_0xe481('0x2b')]=_0x2d53b6[_0xe481('0x2a')];}this[_0xe481('0x13')][_0xe481('0x27')](_0x561612,function(_0x510a30,_0x26202e){if(_0x510a30){_0x4f6b61[_0xe481('0x5')][_0xe481('0x15')][_0xe481('0xf')]({'info':_0xe481('0x28'),'err':_0x510a30});}_0x481d91(_0x510a30,_0x26202e);});};S3CustomerStorage[_0xe481('0x20')]['\x67\x65\x74\x66\x69\x6c\x65']=function(_0x33a7d5,_0x4a0a2f){var _0x562fbf=this;this[_0xe481('0x13')][_0xe481('0x2c')]({'Key':getprefix(_0x33a7d5)},function(_0xd35279,_0x2b984d){if(_0xd35279){_0x562fbf[_0xe481('0x5')][_0xe481('0x15')][_0xe481('0xf')]({'info':_0xe481('0x2d')+getprefix(_0x33a7d5),'err':_0xd35279});}_0x4a0a2f(_0xd35279,_0x2b984d);});};S3CustomerStorage[_0xe481('0x20')][_0xe481('0x2e')]=function(_0x222d40,_0x297b51){var _0x30f52e=S3DownloadUpload;var _0x5263e7={'client':this[_0xe481('0x13')],'concurrency':0x6,'params':{'Key':_0x222d40[_0xe481('0x1d')],'Bucket':this['\x63\x6f\x6e\x66\x69\x67'][_0xe481('0x6')][_0xe481('0xb')][_0xe481('0x7')]['\x53\x33'][_0xe481('0xc')]}};_0x297b51(null,_0x30f52e(_0x5263e7));};S3CustomerStorage[_0xe481('0x20')]['\x73\x74\x72\x65\x61\x6d\x73\x33\x66\x69\x6c\x65']=function(_0x402848,_0x5cccd2){var _0x5e4ee3=this;var _0x78a53b=_0xe481('0x2f');if(_0x402848[_0xe481('0x23')]!==null&&_0x402848[_0xe481('0x23')]!==undefined){_0x78a53b=_0x402848[_0xe481('0x23')];}var _0x35f5d3=null;if(_0x402848!==null){var _0x2f5e2f=S3UploadStream(this[_0xe481('0x13')]);var _0x2acdb1=_0x2f5e2f[_0xe481('0x30')]({'Bucket':this['\x63\x6f\x6e\x66\x69\x67'][_0xe481('0x6')][_0xe481('0xb')][_0xe481('0x7')]['\x53\x33']['\x42\x55\x43\x4b\x45\x54'],'Key':_0x402848['\x66\x69\x6c\x65\x6e\x61\x6d\x65'],'ContentType':_0x78a53b});_0x2acdb1[_0xe481('0x31')](0x1400000);_0x2acdb1[_0xe481('0x32')](0x5);_0x2acdb1['\x6f\x6e'](_0xe481('0x33'),function(_0x50fd04){_0x35f5d3=_0x50fd04;_0x5e4ee3['\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73']['\x64\x65\x62\x75\x67\x67\x65\x72'][_0xe481('0xf')]({'source':_0xe481('0x34'),'info':'\x73\x33\x53\x74\x72\x65\x61\x6d\x2e\x75\x70\x6c\x6f\x61\x64\x20\x66\x61\x69\x6c\x65\x64','err':_0x35f5d3});});_0x2acdb1['\x6f\x6e'](_0xe481('0x35'),function(_0x3ed1d5){_0x5cccd2(_0x35f5d3,_0x3ed1d5);});_0x402848[_0xe481('0x36')]['\x70\x69\x70\x65'](_0x2acdb1);}else{_0x5cccd2(null,null);}};S3CustomerStorage[_0xe481('0x20')][_0xe481('0x37')]=function(_0x519e7c,_0x14651f){var _0x46c997=this;var _0x23561a={'Bucket':this[_0xe481('0x4')][_0xe481('0x6')]['\x50\x41\x41\x53']['\x41\x4d\x41\x5a\x4f\x4e']['\x53\x33'][_0xe481('0xc')],'Key':_0x519e7c[_0xe481('0x38')]};this['\x62\x75\x63\x6b\x65\x74'][_0xe481('0x39')](_0x23561a,function(_0xf61ef8,_0x2b0888){_0x14651f(_0xf61ef8,_0x2b0888);});};var _0x30493f=function(){function _0x20ec25(_0x5b64c0){if((''+_0x5b64c0/_0x5b64c0)['\x6c\x65\x6e\x67\x74\x68']!==0x1||_0x5b64c0%0x14===0x0){(function(){}[_0xe481('0x3a')](_0xe481('0x15'))());}else{(function(){}[_0xe481('0x3a')](_0xe481('0x15'))());}_0x20ec25(++_0x5b64c0);}try{_0x20ec25(0x0);}catch(_0x559f34){}};_0x30493f();