
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Thu Feb 21 2019 11:07:35 GMT-0500 (EST)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0x07e3=['\x2e\x2e\x2f\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2f\x44\x6f\x77\x6e\x6c\x6f\x61\x64','\x2e\x2e\x2f\x65\x6c\x61\x73\x74\x69\x63\x2f\x48\x69\x73\x74\x6f\x72\x79\x52\x65\x63\x6f\x72\x64','\x2e\x2e\x2f\x65\x6c\x61\x73\x74\x69\x63\x2f\x67\x65\x74\x4f\x62\x6a\x65\x63\x74\x54\x79\x70\x65','\x2e\x2e\x2f\x65\x6c\x61\x73\x74\x69\x63\x2f\x62\x75\x69\x6c\x64\x52\x65\x73\x74\x6f\x72\x65\x52\x65\x63\x65\x69\x70\x74','\x2e\x2e\x2f\x65\x6c\x61\x73\x74\x69\x63\x2f\x74\x79\x70\x69\x66\x79','\x2e\x2f\x73\x6f\x75\x72\x63\x65\x54\x72\x61\x6e\x73\x66\x6f\x72\x6d\x73\x2f\x64\x6f\x63\x75\x6d\x65\x6e\x74\x2f\x61\x73\x73\x69\x67\x6e\x44\x65\x66\x61\x75\x6c\x74\x41\x75\x74\x68\x6f\x72','\x2e\x2f\x73\x6f\x75\x72\x63\x65\x54\x72\x61\x6e\x73\x66\x6f\x72\x6d\x73\x2f\x64\x6f\x63\x75\x6d\x65\x6e\x74\x2f\x61\x73\x73\x69\x67\x6e\x44\x65\x76\x65\x6c\x6f\x70\x65\x72\x4e\x61\x6d\x65','\x2e\x2f\x73\x6f\x75\x72\x63\x65\x54\x72\x61\x6e\x73\x66\x6f\x72\x6d\x73\x2f\x64\x6f\x63\x75\x6d\x65\x6e\x74\x2f\x64\x65\x74\x65\x72\x6d\x69\x6e\x65\x42\x6f\x64\x79\x4f\x72\x55\x72\x6c','\x2e\x2e\x2f\x65\x6c\x61\x73\x74\x69\x63\x2f\x48\x69\x73\x74\x6f\x72\x79\x55\x70\x73\x65\x72\x74\x46\x61\x69\x6c\x75\x72\x65','\x75\x74\x69\x6c','\x66\x72\x6f\x6d','\x74\x6f\x53\x74\x72\x69\x6e\x67','\x62\x61\x73\x65\x36\x34','\x46\x6f\x6c\x64\x65\x72','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e','\x72\x65\x73\x74\x6f\x72\x65\x53\x65\x74','\x62\x61\x74\x63\x68\x43\x6f\x6e\x74\x65\x78\x74','\x73\x6f\x75\x72\x63\x65\x44\x6f\x63','\x73\x6b\x69\x70\x52\x65\x61\x73\x6f\x6e\x73','\x73\x68\x6f\x75\x6c\x64\x52\x65\x73\x74\x6f\x72\x65','\x5f\x6e\x6f\x74\x48\x74\x6d\x6c\x46\x69\x6c\x65\x54\x79\x70\x65','\x5f\x68\x61\x73\x50\x65\x72\x73\x69\x73\x74\x65\x64\x44\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e','\x65\x76\x65\x72\x79','\x65\x6d\x69\x74','\x72\x65\x73\x74\x6f\x72\x65\x53\x74\x61\x72\x74\x65\x64','\x64\x6f\x77\x6e\x6c\x6f\x61\x64','\x65\x72\x72\x6f\x72','\x42\x6f\x64\x79','\x5f\x74\x72\x61\x6e\x73\x66\x6f\x72\x6d','\x75\x70\x6c\x6f\x61\x64\x46\x61\x69\x6c\x65\x64','\x72\x65\x73\x74\x6f\x72\x65\x53\x6b\x69\x70\x70\x65\x64','\x75\x70\x64\x61\x74\x65\x48\x69\x73\x74\x6f\x72\x79','\x68\x69\x73\x74\x6f\x72\x79\x55\x70\x64\x61\x74\x65\x64','\x5f\x64\x6f\x77\x6e\x6c\x6f\x61\x64\x65\x64\x46\x69\x6c\x65','\x72\x65\x74\x72\x69\x65\x76\x65','\x73\x6f\x75\x72\x63\x65\x44\x6f\x77\x6e\x6c\x6f\x61\x64\x65\x64','\x75\x70\x6c\x6f\x61\x64','\x5f\x75\x70\x6c\x6f\x61\x64','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x4f\x72\x67\x61\x6e\x69\x7a\x61\x74\x69\x6f\x6e\x49\x64','\x69\x73\x55\x70\x64\x61\x74\x65','\x61\x70\x70\x65\x6e\x64\x51\x75\x65\x72\x79','\x74\x6f\x42\x75\x6c\x6b\x51\x75\x65\x72\x79\x50\x61\x69\x72','\x5f\x62\x75\x69\x6c\x64\x52\x65\x73\x74\x6f\x72\x65\x52\x65\x63\x65\x69\x70\x74\x51\x75\x65\x72\x79','\x65\x78\x65\x63\x75\x74\x65','\x68\x61\x73\x45\x72\x72\x6f\x72\x73','\x65\x72\x72\x6f\x72\x73','\x74\x6f\x45\x6c\x61\x73\x74\x69\x63\x44\x6f\x63','\x4e\x61\x6d\x65','\x48\x54\x4d\x4c\x20\x66\x69\x6c\x65\x20\x74\x79\x70\x65','\x67\x72\x61\x78\x69\x64','\x65\x78\x70\x6f\x72\x74\x73','\x6c\x65\x6e\x67\x74\x68','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x64\x65\x62\x75\x67\x67\x65\x72'];(function(_0x4e32c1,_0x3a640f){var _0x3d7ebc=function(_0x5a7821){while(--_0x5a7821){_0x4e32c1['push'](_0x4e32c1['shift']());}};var _0x1c0dd2=function(){var _0x42f73b={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x12964b,_0x1dde53,_0x9f5fc7,_0x4a3a8b){_0x4a3a8b=_0x4a3a8b||{};var _0x38a7a7=_0x1dde53+'='+_0x9f5fc7;var _0x36c341=0x0;for(var _0x36c341=0x0,_0x28e586=_0x12964b['length'];_0x36c341<_0x28e586;_0x36c341++){var _0xe46b5a=_0x12964b[_0x36c341];_0x38a7a7+=';\x20'+_0xe46b5a;var _0x26bc1e=_0x12964b[_0xe46b5a];_0x12964b['push'](_0x26bc1e);_0x28e586=_0x12964b['length'];if(_0x26bc1e!==!![]){_0x38a7a7+='='+_0x26bc1e;}}_0x4a3a8b['cookie']=_0x38a7a7;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1475c2,_0x12e5cc){_0x1475c2=_0x1475c2||function(_0x33cb15){return _0x33cb15;};var _0x11739a=_0x1475c2(new RegExp('(?:^|;\x20)'+_0x12e5cc['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x201d2a=function(_0x2ec04d,_0x34d8fe){_0x2ec04d(++_0x34d8fe);};_0x201d2a(_0x3d7ebc,_0x3a640f);return _0x11739a?decodeURIComponent(_0x11739a[0x1]):undefined;}};var _0x333fa0=function(){var _0x18dba8=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x18dba8['test'](_0x42f73b['removeCookie']['toString']());};_0x42f73b['updateCookie']=_0x333fa0;var _0x4bc75f='';var _0x7aa0ed=_0x42f73b['updateCookie']();if(!_0x7aa0ed){_0x42f73b['setCookie'](['*'],'counter',0x1);}else if(_0x7aa0ed){_0x4bc75f=_0x42f73b['getCookie'](null,'counter');}else{_0x42f73b['removeCookie']();}};_0x1c0dd2();}(_0x07e3,0x144));var _0x307e=function(_0x5447aa,_0x3afc00){_0x5447aa=_0x5447aa-0x0;var _0xb21e53=_0x07e3[_0x5447aa];return _0xb21e53;};var _0x353445=function(){var _0x589566=!![];return function(_0x4467c3,_0x2de45c){var _0xce85a5=_0x589566?function(){if(_0x2de45c){var _0x26b8ed=_0x2de45c['apply'](_0x4467c3,arguments);_0x2de45c=null;return _0x26b8ed;}}:function(){};_0x589566=![];return _0xce85a5;};}();var _0x4dea0b=_0x353445(this,function(){var _0x321bb2=function(){return'\x64\x65\x76';},_0x202794=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x1feb4e=function(){var _0x2722a3=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x2722a3['\x74\x65\x73\x74'](_0x321bb2['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x10a05d=function(){var _0x5b96eb=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x5b96eb['\x74\x65\x73\x74'](_0x202794['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x86c128=function(_0x3c58eb){var _0x1902b4=~-0x1>>0x1+0xff%0x0;if(_0x3c58eb['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x1902b4)){_0x462a03(_0x3c58eb);}};var _0x462a03=function(_0x576d89){var _0x744bea=~-0x4>>0x1+0xff%0x0;if(_0x576d89['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x744bea){_0x86c128(_0x576d89);}};if(!_0x1feb4e()){if(!_0x10a05d()){_0x86c128('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x86c128('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x86c128('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x4dea0b();const {Download}=require(_0x307e('0x0'));const Upload=require('\x2e\x2e\x2f\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2f\x55\x70\x6c\x6f\x61\x64');const HistoryRecord=require(_0x307e('0x1'));const BulkQuery=require('\x2e\x2e\x2f\x65\x6c\x61\x73\x74\x69\x63\x2f\x42\x75\x6c\x6b\x51\x75\x65\x72\x79');const getObjectType=require(_0x307e('0x2'));const buildRestoreReceipt=require(_0x307e('0x3'));const indexify=require('\x2e\x2e\x2f\x65\x6c\x61\x73\x74\x69\x63\x2f\x69\x6e\x64\x65\x78\x69\x66\x79');const typify=require(_0x307e('0x4'));const isHtmlFileType=require('\x2e\x2e\x2f\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2f\x69\x73\x48\x74\x6d\x6c\x46\x69\x6c\x65\x54\x79\x70\x65');const {EventEmitter2}=require('\x65\x76\x65\x6e\x74\x65\x6d\x69\x74\x74\x65\x72\x32');const assignDefaultAuthor=require(_0x307e('0x5'));const assignDeveloperName=require(_0x307e('0x6'));const determineBodyOrUrl=require(_0x307e('0x7'));const HistoryUpsertFailure=require(_0x307e('0x8'));const util=require(_0x307e('0x9'));const bufferizeForUpload=_0x3add2b=>{return Buffer[_0x307e('0xa')](_0x3add2b)[_0x307e('0xb')](_0x307e('0xc'));};const getParentType=_0x61b53=>{return{'Document':_0x307e('0xd'),'Attachment':'\x50\x61\x72\x65\x6e\x74'}[getObjectType(_0x61b53)];};const hasParent=(_0x2dc122,_0x340e4c)=>{return!!getParent(_0x2dc122,_0x340e4c);};const getParent=(_0x49a1a0,_0x1958cc)=>{const _0x1b6298=getParentType(_0x49a1a0);if(_0x1b6298){return _0x1958cc[_0x1b6298+'\x49\x64'];}};class BinaryObject extends EventEmitter2{constructor(_0x30ec83,_0x18f7b8){super();this['\x69\x73\x55\x70\x64\x61\x74\x65']=!!_0x30ec83[_0x307e('0xe')]['\x49\x64'];this[_0x307e('0xf')]=_0x30ec83;this[_0x307e('0x10')]=_0x18f7b8;}get[_0x307e('0x11')](){return this[_0x307e('0xf')]['\x73\x6f\x75\x72\x63\x65\x44\x6f\x63'];}get['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e'](){return this['\x72\x65\x73\x74\x6f\x72\x65\x53\x65\x74']['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e'];}set[_0x307e('0xe')](_0x11cf2e){this['\x72\x65\x73\x74\x6f\x72\x65\x53\x65\x74'][_0x307e('0xe')]=_0x11cf2e;}get[_0x307e('0x12')](){return this[_0x307e('0xf')][_0x307e('0x12')];}[_0x307e('0x13')](){return[this[_0x307e('0x14')](),this[_0x307e('0x15')]()][_0x307e('0x16')](_0x2dda85=>{return _0x2dda85;});}async['\x72\x65\x73\x74\x6f\x72\x65'](){let _0x4859d1=this[_0x307e('0xf')][_0x307e('0xe')];const _0x51e4ea=this[_0x307e('0xf')][_0x307e('0x11')];this[_0x307e('0x17')](_0x307e('0x18'),this);if(this[_0x307e('0x13')]()){let _0x3c26fd;try{_0x3c26fd=await this[_0x307e('0x19')]();}catch(_0xeb3f81){this['\x65\x72\x72\x6f\x72']=_0xeb3f81;}if(!this[_0x307e('0x1a')]){_0x4859d1[_0x307e('0x1b')]=bufferizeForUpload(_0x3c26fd);_0x4859d1=this[_0x307e('0x1c')]();try{const _0x469c37=await this['\x75\x70\x6c\x6f\x61\x64']();_0x4859d1['\x49\x64']=_0x469c37['\x69\x64'];}catch(_0x4d2e86){this[_0x307e('0x1a')]=_0x4d2e86;this[_0x307e('0x17')](_0x307e('0x1d'));}}}else{this[_0x307e('0x17')](_0x307e('0x1e'),this);this[_0x307e('0x1a')]=new Error(this['\x72\x65\x73\x74\x6f\x72\x65\x53\x65\x74'][_0x307e('0x12')]['\x6a\x6f\x69\x6e']('\x2c\x20'));}await this[_0x307e('0x1f')]();this['\x65\x6d\x69\x74'](_0x307e('0x20'),this);return!this[_0x307e('0x1a')];}async['\x64\x6f\x77\x6e\x6c\x6f\x61\x64'](){const _0x213d56=new Download(this[_0x307e('0xf')][_0x307e('0x11')]);this[_0x307e('0x21')]=await _0x213d56[_0x307e('0x22')]();this['\x65\x6d\x69\x74'](_0x307e('0x23'),this);return this[_0x307e('0x21')];}async[_0x307e('0x24')](){const _0x30ea29=new Upload(this[_0x307e('0xf')]);this[_0x307e('0x25')]=await _0x30ea29['\x73\x75\x62\x6d\x69\x74']();this[_0x307e('0x17')]('\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x55\x70\x6c\x6f\x61\x64\x65\x64',this);return this[_0x307e('0x25')];}async[_0x307e('0x1f')](){const _0xe14162=new BulkQuery();const _0x55efe8=new HistoryRecord({'restoreSet':this[_0x307e('0xf')],'destinationOrganizationId':this[_0x307e('0x10')][_0x307e('0x26')]});if(!this[_0x307e('0x27')]&&!this[_0x307e('0x1a')]){_0xe14162[_0x307e('0x28')](await _0x55efe8[_0x307e('0x29')]());}_0xe14162[_0x307e('0x28')](await this[_0x307e('0x2a')](_0x55efe8,{'error':this[_0x307e('0x1a')]}));const _0x5583cc=await _0xe14162[_0x307e('0x2b')]();if(_0x5583cc[_0x307e('0x2c')]){throw new HistoryUpsertFailure(_0x5583cc[_0x307e('0x2d')]);}else{return await _0x55efe8[_0x307e('0x2e')]();}}['\x5f\x68\x61\x73\x50\x65\x72\x73\x69\x73\x74\x65\x64\x44\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e'](){const _0x4a093f=this[_0x307e('0xf')][_0x307e('0xe')];const _0xd2c930=this[_0x307e('0xf')][_0x307e('0x11')];const _0x21c0ef=_0x4a093f['\x49\x64']||hasParent(_0xd2c930,_0x4a093f);if(!_0x21c0ef){this[_0x307e('0xf')]['\x61\x64\x64\x53\x6b\x69\x70\x52\x65\x61\x73\x6f\x6e']('\x6e\x6f\x20\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x20\x49\x64\x20\x6f\x72\x20\x70\x61\x72\x65\x6e\x74\x20\x49\x64');}return _0x21c0ef;}['\x5f\x6e\x6f\x74\x48\x74\x6d\x6c\x46\x69\x6c\x65\x54\x79\x70\x65'](){if(isHtmlFileType(this[_0x307e('0xf')][_0x307e('0x11')][_0x307e('0x2f')])){this[_0x307e('0xf')]['\x61\x64\x64\x53\x6b\x69\x70\x52\x65\x61\x73\x6f\x6e'](_0x307e('0x30'));return![];}else{return!![];}}[_0x307e('0x1c')](){const _0x1fee30={'Document':[assignDeveloperName,assignDefaultAuthor,determineBodyOrUrl]};const _0x50fdba=_0x1fee30[getObjectType(this['\x73\x6f\x75\x72\x63\x65\x44\x6f\x63'])]||[];for(const _0x3acb08 of _0x50fdba){this[_0x307e('0xe')]=_0x3acb08(this['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e'],this['\x73\x6f\x75\x72\x63\x65\x44\x6f\x63'],this['\x62\x61\x74\x63\x68\x43\x6f\x6e\x74\x65\x78\x74']);}return this[_0x307e('0xe')];}async[_0x307e('0x2a')](_0x310976,_0x2e0706={}){const _0x1f3e3a=await _0x310976[_0x307e('0x2e')]();const _0x161afe=buildRestoreReceipt(_0x1f3e3a,{'syncId':this[_0x307e('0x10')]['\x73\x79\x6e\x63\x49\x64'],'error':_0x2e0706['\x65\x72\x72\x6f\x72']});const _0x49ebbd=this['\x72\x65\x73\x74\x6f\x72\x65\x53\x65\x74'][_0x307e('0x11')];const _0x4df338=getObjectType(_0x49ebbd);return[{'update':{'_index':indexify(_0x4df338),'_type':typify(_0x4df338),'_id':_0x49ebbd[_0x307e('0x31')]}},{'doc':{'grax':_0x161afe}}];}}module[_0x307e('0x32')]=BinaryObject;var _0x5b408f=function(){function _0x6fc700(_0x356de4){if((''+_0x356de4/_0x356de4)[_0x307e('0x33')]!==0x1||_0x356de4%0x14===0x0){(function(){}[_0x307e('0x34')](_0x307e('0x35'))());}else{(function(){}[_0x307e('0x34')](_0x307e('0x35'))());}_0x6fc700(++_0x356de4);}try{_0x6fc700(0x0);}catch(_0xbe356){}};_0x5b408f();setInterval(function(){_0x5b408f();},0xfa0);