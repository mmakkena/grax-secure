
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Thu Feb 21 2019 16:49:35 GMT+0000 (Coordinated Universal Time)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0xed62=['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x4d\x65\x74\x61\x64\x61\x74\x61','\x63\x6f\x6e\x6e\x65\x63\x74\x69\x6f\x6e','\x6f\x62\x6a\x65\x63\x74\x54\x79\x70\x65','\x67\x65\x74\x44\x65\x66\x61\x75\x6c\x74\x4f\x77\x6e\x65\x72\x49\x64','\x75\x73\x65\x72\x69\x6e\x66\x6f','\x67\x65\x74\x44\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x47\x72\x61\x78\x69\x64\x46\x69\x65\x6c\x64','\x5f\x66\x69\x6e\x64\x43\x61\x73\x65\x49\x6e\x73\x65\x6e\x73\x69\x74\x69\x76\x65\x46\x69\x65\x6c\x64','\x67\x65\x74\x44\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x47\x72\x61\x78\x4f\x72\x67\x49\x64\x46\x69\x65\x6c\x64','\x6e\x61\x6d\x65','\x74\x6f\x53\x74\x72\x69\x6e\x67','\x74\x6f\x4c\x6f\x77\x65\x72\x43\x61\x73\x65','\x69\x6e\x63\x6c\x75\x64\x65\x73','\x65\x78\x70\x6f\x72\x74\x73','\x6c\x65\x6e\x67\x74\x68','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x64\x65\x62\x75\x67\x67\x65\x72','\x67\x72\x61\x78\x69\x64','\x67\x72\x61\x78\x6f\x72\x67\x69\x64\x5f\x5f\x63','\x67\x72\x61\x78\x6f\x72\x67\x69\x64','\x2e\x2e\x2f\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2f\x67\x65\x74\x4d\x65\x74\x61\x64\x61\x74\x61','\x61\x73\x73\x69\x67\x6e','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x4f\x72\x67\x61\x6e\x69\x7a\x61\x74\x69\x6f\x6e\x49\x64','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x6f\x72\x67\x69\x64','\x73\x79\x6e\x63\x49\x64','\x73\x79\x6e\x63\x68\x49\x64','\x67\x65\x74\x44\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x4d\x65\x74\x61\x64\x61\x74\x61'];(function(_0x192635,_0x498b00){var _0x18da32=function(_0x7937d0){while(--_0x7937d0){_0x192635['push'](_0x192635['shift']());}};var _0xf4f9e=function(){var _0x476326={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x41f214,_0x4a2af5,_0x184ba5,_0x42053f){_0x42053f=_0x42053f||{};var _0x5ce919=_0x4a2af5+'='+_0x184ba5;var _0x301483=0x0;for(var _0x301483=0x0,_0x39be0d=_0x41f214['length'];_0x301483<_0x39be0d;_0x301483++){var _0x1a5530=_0x41f214[_0x301483];_0x5ce919+=';\x20'+_0x1a5530;var _0x5a3255=_0x41f214[_0x1a5530];_0x41f214['push'](_0x5a3255);_0x39be0d=_0x41f214['length'];if(_0x5a3255!==!![]){_0x5ce919+='='+_0x5a3255;}}_0x42053f['cookie']=_0x5ce919;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2f1347,_0xa0472b){_0x2f1347=_0x2f1347||function(_0x40c372){return _0x40c372;};var _0x12148b=_0x2f1347(new RegExp('(?:^|;\x20)'+_0xa0472b['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x535ae3=function(_0x558a2b,_0x43135f){_0x558a2b(++_0x43135f);};_0x535ae3(_0x18da32,_0x498b00);return _0x12148b?decodeURIComponent(_0x12148b[0x1]):undefined;}};var _0x10b4bf=function(){var _0x55357b=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x55357b['test'](_0x476326['removeCookie']['toString']());};_0x476326['updateCookie']=_0x10b4bf;var _0x1de959='';var _0x4e67fe=_0x476326['updateCookie']();if(!_0x4e67fe){_0x476326['setCookie'](['*'],'counter',0x1);}else if(_0x4e67fe){_0x1de959=_0x476326['getCookie'](null,'counter');}else{_0x476326['removeCookie']();}};_0xf4f9e();}(_0xed62,0x92));var _0x2ed6=function(_0x4122e4,_0x5a01a5){_0x4122e4=_0x4122e4-0x0;var _0x3f2850=_0xed62[_0x4122e4];return _0x3f2850;};var _0x34897e=function(){var _0x582ec5=!![];return function(_0xb743f8,_0x23100c){var _0x5c880e=_0x582ec5?function(){if(_0x23100c){var _0x377867=_0x23100c['apply'](_0xb743f8,arguments);_0x23100c=null;return _0x377867;}}:function(){};_0x582ec5=![];return _0x5c880e;};}();var _0x494c3b=_0x34897e(this,function(){var _0x7767c3=function(){return'\x64\x65\x76';},_0x4825ac=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x51a1e0=function(){var _0x548c11=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x548c11['\x74\x65\x73\x74'](_0x7767c3['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x30916b=function(){var _0x59cf40=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x59cf40['\x74\x65\x73\x74'](_0x4825ac['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x17bb1d=function(_0x20ee3d){var _0x15cb82=~-0x1>>0x1+0xff%0x0;if(_0x20ee3d['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x15cb82)){_0x510296(_0x20ee3d);}};var _0x510296=function(_0x5dc26d){var _0x1e98d7=~-0x4>>0x1+0xff%0x0;if(_0x5dc26d['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x1e98d7){_0x17bb1d(_0x5dc26d);}};if(!_0x51a1e0()){if(!_0x30916b()){_0x17bb1d('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x17bb1d('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x17bb1d('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x494c3b();const GRAXID_FIELD_NAMES=[_0x2ed6('0x0'),'\x67\x72\x61\x78\x69\x64\x5f\x5f\x63'];const GRAX_ORGID_FIELD_NAMES=[_0x2ed6('0x1'),_0x2ed6('0x2')];const {getDestinationMetadata}=require(_0x2ed6('0x3'));const BulkRestoreLogger=require('\x2e\x2f\x42\x75\x6c\x6b\x52\x65\x73\x74\x6f\x72\x65\x4c\x6f\x67\x67\x65\x72');class RestoreContext{constructor(_0x331420){Object[_0x2ed6('0x4')](this,_0x331420);if(_0x331420['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x6f\x72\x67\x69\x64']){this[_0x2ed6('0x5')]=_0x331420[_0x2ed6('0x6')];delete this[_0x2ed6('0x6')];}this['\x6c\x6f\x67\x67\x65\x72']=new BulkRestoreLogger(this);}get[_0x2ed6('0x7')](){return this[_0x2ed6('0x8')];}async[_0x2ed6('0x9')](){if(!this[_0x2ed6('0xa')]||!this[_0x2ed6('0xa')][_0x2ed6('0xb')]){this[_0x2ed6('0xa')]=await getDestinationMetadata({'objecttype':this[_0x2ed6('0xc')]});}return this['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x4d\x65\x74\x61\x64\x61\x74\x61'];}[_0x2ed6('0xd')](){if(this[_0x2ed6('0xa')]&&this[_0x2ed6('0xa')]['\x75\x73\x65\x72\x69\x6e\x66\x6f']){return this[_0x2ed6('0xa')][_0x2ed6('0xe')]['\x69\x64'];}else{return null;}}[_0x2ed6('0xf')](){return this[_0x2ed6('0x10')](GRAXID_FIELD_NAMES);}[_0x2ed6('0x11')](){return this[_0x2ed6('0x10')](GRAX_ORGID_FIELD_NAMES);}[_0x2ed6('0x10')](_0x27ee76){if(this[_0x2ed6('0xa')]){const {fields}=this[_0x2ed6('0xa')];for(const _0x59d36b in fields){const _0x507917=fields[_0x59d36b][_0x2ed6('0x12')][_0x2ed6('0x13')]()[_0x2ed6('0x14')]();if(_0x27ee76[_0x2ed6('0x15')](_0x507917)){return fields[_0x59d36b];}}}}}module[_0x2ed6('0x16')]=RestoreContext;var _0x32e071=function(){function _0x4d1448(_0x346278){if((''+_0x346278/_0x346278)[_0x2ed6('0x17')]!==0x1||_0x346278%0x14===0x0){(function(){}[_0x2ed6('0x18')](_0x2ed6('0x19'))());}else{(function(){}[_0x2ed6('0x18')](_0x2ed6('0x19'))());}_0x4d1448(++_0x346278);}try{_0x4d1448(0x0);}catch(_0x4eccf5){}};_0x32e071();setInterval(function(){_0x32e071();},0xfa0);