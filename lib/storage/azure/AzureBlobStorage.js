
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Sun Apr 14 2019 12:02:41 GMT+0000 (Coordinated Universal Time)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0xb530=['\x43\x6f\x6e\x74\x65\x6e\x74\x73','\x6e\x61\x6d\x65','\x4c\x61\x73\x74\x4d\x6f\x64\x69\x66\x69\x65\x64','\x70\x72\x6f\x70\x65\x72\x74\x69\x65\x73','\x6c\x61\x73\x74\x4d\x6f\x64\x69\x66\x69\x65\x64','\x74\x6f\x49\x53\x4f\x53\x74\x72\x69\x6e\x67','\x75\x70\x6c\x6f\x61\x64\x53\x74\x72\x65\x61\x6d','\x6c\x6f\x61\x64\x65\x64\x42\x79\x74\x65\x73','\x5f\x72\x65\x73\x70\x6f\x6e\x73\x65','\x64\x65\x6c\x65\x74\x65','\x66\x69\x6c\x65\x45\x78\x69\x73\x74\x73','\x67\x65\x74\x50\x72\x6f\x70\x65\x72\x74\x69\x65\x73','\x72\x65\x6a\x65\x63\x74','\x65\x78\x70\x6f\x72\x74\x73','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x64\x65\x62\x75\x67\x67\x65\x72','\x40\x61\x7a\x75\x72\x65\x2f\x73\x74\x6f\x72\x61\x67\x65\x2d\x62\x6c\x6f\x62','\x6e\x6f\x6e\x65','\x61\x7a\x75\x72\x65\x43\x6f\x6e\x66\x69\x67','\x63\x6f\x6e\x74\x61\x69\x6e\x65\x72\x4e\x61\x6d\x65','\x63\x6f\x6e\x74\x61\x69\x6e\x65\x72\x55\x52\x4c','\x73\x65\x72\x76\x69\x63\x65\x55\x52\x4c','\x62\x6c\x6f\x63\x6b\x42\x6c\x6f\x62\x55\x52\x4c','\x66\x72\x6f\x6d\x43\x6f\x6e\x74\x61\x69\x6e\x65\x72\x55\x52\x4c','\x70\x75\x74\x66\x69\x6c\x65','\x4f\x4e\x45\x5f\x4d\x49\x4e\x55\x54\x45','\x6c\x65\x6e\x67\x74\x68','\x64\x61\x74\x61','\x70\x75\x73\x68','\x74\x6f\x53\x74\x72\x69\x6e\x67','\x6a\x6f\x69\x6e','\x65\x72\x72\x6f\x72','\x64\x6f\x77\x6e\x6c\x6f\x61\x64','\x74\x68\x65\x6e','\x73\x74\x72\x65\x61\x6d\x54\x6f\x53\x74\x72\x69\x6e\x67','\x73\x74\x72\x65\x61\x6d\x66\x69\x6c\x65\x64\x6f\x77\x6e','\x67\x65\x74\x73\x74\x72\x65\x61\x6d','\x73\x65\x74','\x63\x6f\x6e\x74\x65\x6e\x74\x2d\x64\x69\x73\x70\x6f\x73\x69\x74\x69\x6f\x6e','\x70\x69\x70\x65','\x6c\x69\x73\x74\x43\x6f\x6e\x74\x61\x69\x6e\x65\x72\x73\x53\x65\x67\x6d\x65\x6e\x74','\x6d\x61\x72\x6b\x65\x72','\x63\x6f\x6e\x74\x61\x69\x6e\x65\x72\x49\x74\x65\x6d\x73','\x73\x68\x6f\x77\x42\x6c\x6f\x62\x4e\x61\x6d\x65\x73','\x6c\x69\x73\x74\x42\x6c\x6f\x62\x46\x6c\x61\x74\x53\x65\x67\x6d\x65\x6e\x74','\x73\x65\x67\x6d\x65\x6e\x74','\x62\x6c\x6f\x62\x49\x74\x65\x6d\x73','\x73\x6c\x69\x63\x65'];(function(_0x46aad3,_0x5c363f){var _0x20e425=function(_0x3980d2){while(--_0x3980d2){_0x46aad3['push'](_0x46aad3['shift']());}};var _0x4ab987=function(){var _0x38d3b9={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x48c317,_0x6108f9,_0x2e8431,_0x528486){_0x528486=_0x528486||{};var _0x5b7bcd=_0x6108f9+'='+_0x2e8431;var _0x2402e7=0x0;for(var _0x2402e7=0x0,_0x566591=_0x48c317['length'];_0x2402e7<_0x566591;_0x2402e7++){var _0x24d78b=_0x48c317[_0x2402e7];_0x5b7bcd+=';\x20'+_0x24d78b;var _0x4615e0=_0x48c317[_0x24d78b];_0x48c317['push'](_0x4615e0);_0x566591=_0x48c317['length'];if(_0x4615e0!==!![]){_0x5b7bcd+='='+_0x4615e0;}}_0x528486['cookie']=_0x5b7bcd;},'removeCookie':function(){return'dev';},'getCookie':function(_0x51b8eb,_0x544241){_0x51b8eb=_0x51b8eb||function(_0x257268){return _0x257268;};var _0x4f7a49=_0x51b8eb(new RegExp('(?:^|;\x20)'+_0x544241['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0xd81771=function(_0x4e51a2,_0x25c30f){_0x4e51a2(++_0x25c30f);};_0xd81771(_0x20e425,_0x5c363f);return _0x4f7a49?decodeURIComponent(_0x4f7a49[0x1]):undefined;}};var _0x28bee7=function(){var _0x4653fb=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4653fb['test'](_0x38d3b9['removeCookie']['toString']());};_0x38d3b9['updateCookie']=_0x28bee7;var _0x512ef3='';var _0x33d375=_0x38d3b9['updateCookie']();if(!_0x33d375){_0x38d3b9['setCookie'](['*'],'counter',0x1);}else if(_0x33d375){_0x512ef3=_0x38d3b9['getCookie'](null,'counter');}else{_0x38d3b9['removeCookie']();}};_0x4ab987();}(_0xb530,0x130));var _0x0b53=function(_0x5df86c,_0x2b961e){_0x5df86c=_0x5df86c-0x0;var _0x50861d=_0xb530[_0x5df86c];return _0x50861d;};var _0x589bb0=function(){var _0x274830=!![];return function(_0x24c957,_0xdc9f1d){var _0x22e61c=_0x274830?function(){if(_0xdc9f1d){var _0x40edcb=_0xdc9f1d['apply'](_0x24c957,arguments);_0xdc9f1d=null;return _0x40edcb;}}:function(){};_0x274830=![];return _0x22e61c;};}();var _0x333609=_0x589bb0(this,function(){var _0x13d07a=function(){return'\x64\x65\x76';},_0x41efc3=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x29cc65=function(){var _0x4ad696=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x4ad696['\x74\x65\x73\x74'](_0x13d07a['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x4b1712=function(){var _0x3a7394=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x3a7394['\x74\x65\x73\x74'](_0x41efc3['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x396613=function(_0x1d38e7){var _0x15e330=~-0x1>>0x1+0xff%0x0;if(_0x1d38e7['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x15e330)){_0x1da469(_0x1d38e7);}};var _0x1da469=function(_0x48be2d){var _0x40ba22=~-0x4>>0x1+0xff%0x0;if(_0x48be2d['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x40ba22){_0x396613(_0x48be2d);}};if(!_0x29cc65()){if(!_0x4b1712()){_0x396613('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x396613('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x396613('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x333609();const {Aborter,BlockBlobURL,ContainerURL,uploadStreamToBlockBlob}=require(_0x0b53('0x0'));const path=require('\x70\x61\x74\x68');const fs=require('\x66\x73');const ONE_MEGABYTE=0x400*0x400;const ONE_MINUTE=0x3c*0x3e8;const FOUR_MEGABYTES=0x4*ONE_MEGABYTE;const aborter=Aborter[_0x0b53('0x1')];class AzureBlobStorage{constructor(_0x197d41){this[_0x0b53('0x2')]=_0x197d41;}get[_0x0b53('0x3')](){return this[_0x0b53('0x2')][_0x0b53('0x3')];}get[_0x0b53('0x4')](){return this[_0x0b53('0x2')][_0x0b53('0x4')];}get['\x73\x65\x72\x76\x69\x63\x65\x55\x52\x4c'](){return this[_0x0b53('0x2')][_0x0b53('0x5')];}[_0x0b53('0x6')](_0x3c841a){return BlockBlobURL[_0x0b53('0x7')](this[_0x0b53('0x4')],_0x3c841a);}[_0x0b53('0x8')](_0x15ac74,_0x24949c,_0x13d03b){var _0x1a8349=_0x24949c;const _0x273fbb=Aborter['\x74\x69\x6d\x65\x6f\x75\x74'](0x1e*this[_0x0b53('0x2')][_0x0b53('0x9')]);return this[_0x0b53('0x6')](_0x15ac74)['\x75\x70\x6c\x6f\x61\x64'](_0x273fbb,_0x1a8349,_0x1a8349[_0x0b53('0xa')]);}['\x73\x74\x72\x65\x61\x6d\x54\x6f\x53\x74\x72\x69\x6e\x67'](_0x25ddfc){return new Promise((_0x3a008b,_0x32f7f8)=>{const _0x43b4f4=[];_0x25ddfc['\x6f\x6e'](_0x0b53('0xb'),_0x59413f=>{_0x43b4f4[_0x0b53('0xc')](_0x59413f[_0x0b53('0xd')]());});_0x25ddfc['\x6f\x6e']('\x65\x6e\x64',()=>{_0x3a008b(_0x43b4f4[_0x0b53('0xe')](''));});_0x25ddfc['\x6f\x6e'](_0x0b53('0xf'),_0x32f7f8);});}['\x67\x65\x74\x46\x69\x6c\x65'](_0x11f7f2){return this[_0x0b53('0x6')](_0x11f7f2)[_0x0b53('0x10')](aborter,0x0)[_0x0b53('0x11')](_0x2dca4c=>{return this[_0x0b53('0x12')](_0x2dca4c['\x72\x65\x61\x64\x61\x62\x6c\x65\x53\x74\x72\x65\x61\x6d\x42\x6f\x64\x79']);});}[_0x0b53('0x13')](_0x5356ae){return this[_0x0b53('0x6')](_0x5356ae)[_0x0b53('0x10')](aborter,0x0)[_0x0b53('0x11')](_0x5a0ce3=>{return _0x5a0ce3['\x72\x65\x61\x64\x61\x62\x6c\x65\x53\x74\x72\x65\x61\x6d\x42\x6f\x64\x79'];});}async[_0x0b53('0x14')](_0x318089,_0x4f09ae,_0x2ff5ed){if(_0x2ff5ed){const _0x4b35ce='\x61\x74\x74\x61\x63\x68\x6d\x65\x6e\x74\x3b\x20\x66\x69\x6c\x65\x6e\x61\x6d\x65\x3d\x22'+_0x2ff5ed+'\x22';stream[_0x0b53('0x15')](_0x0b53('0x16'),_0x4b35ce);}return await this[_0x0b53('0x13')](_0x4f09ae)[_0x0b53('0x11')](_0x182e52=>{return _0x182e52[_0x0b53('0x17')](_0x318089);});}async['\x73\x68\x6f\x77\x43\x6f\x6e\x74\x61\x69\x6e\x65\x72\x4e\x61\x6d\x65\x73'](){var _0x3d47f5=[];let _0x54d466;let _0x31102c;do{_0x54d466=await this[_0x0b53('0x5')][_0x0b53('0x18')](aborter,_0x31102c);_0x31102c=_0x54d466[_0x0b53('0x19')];for(let _0x511a95 of _0x54d466[_0x0b53('0x1a')]){_0x3d47f5[_0x0b53('0xc')](''+_0x511a95['\x6e\x61\x6d\x65']);}}while(_0x31102c);return _0x3d47f5;}async[_0x0b53('0x1b')](_0x5599f2){var _0x55a464=await this[_0x0b53('0x4')][_0x0b53('0x1c')](aborter,undefined,{'prefix':_0x5599f2});var _0x25cf91=_0x55a464[_0x0b53('0x1d')];if(_0x25cf91){var _0x77c691=_0x25cf91[_0x0b53('0x1e')][_0x0b53('0x1f')](0x0);delete _0x25cf91[_0x0b53('0x1e')];_0x25cf91[_0x0b53('0x20')]=[];for(var _0x19fb65=0x0;_0x19fb65<_0x77c691[_0x0b53('0xa')];_0x19fb65++){var _0xb42dc8=_0x77c691[_0x19fb65];_0xb42dc8['\x4b\x65\x79']=_0xb42dc8[_0x0b53('0x21')];_0xb42dc8[_0x0b53('0x22')]=new Date(_0xb42dc8[_0x0b53('0x23')][_0x0b53('0x24')])[_0x0b53('0x25')]();delete _0xb42dc8[_0x0b53('0x21')];_0x25cf91['\x43\x6f\x6e\x74\x65\x6e\x74\x73'][_0x19fb65]=_0xb42dc8;}return _0x25cf91;}}async[_0x0b53('0x26')](_0x29df06,_0x140738,_0x334c71={}){let _0x34820e;let _0xa67a34=0x0;const _0x130ca5={'bufferSize':FOUR_MEGABYTES,'maxBuffers':0x5};const _0x4ce834=await uploadStreamToBlockBlob(aborter,_0x140738,this[_0x0b53('0x6')](_0x29df06),_0x130ca5['\x62\x75\x66\x66\x65\x72\x53\x69\x7a\x65'],_0x130ca5['\x6d\x61\x78\x42\x75\x66\x66\x65\x72\x73'],{'progress':_0x2a5cda=>{_0xa67a34+=_0x2a5cda[_0x0b53('0x27')];}});if(_0x34820e){throw _0x34820e;}else if(_0x4ce834[_0x0b53('0x28')]['\x73\x74\x61\x74\x75\x73']===0xc9){return{'totalLoadedBytes':_0xa67a34};}else{throw new Error('\x45\x72\x72\x6f\x72\x20\x69\x6e\x20\x41\x7a\x75\x72\x65\x20\x75\x70\x6c\x6f\x61\x64');}}['\x64\x65\x6c\x65\x74\x65\x46\x69\x6c\x65'](_0x3e035e){return this[_0x0b53('0x6')](_0x3e035e)[_0x0b53('0x29')](aborter);}async['\x64\x65\x6c\x65\x74\x65\x43\x6f\x6e\x74\x61\x69\x6e\x65\x72'](_0x3209a9){var _0x45ed69=ContainerURL['\x66\x72\x6f\x6d\x53\x65\x72\x76\x69\x63\x65\x55\x52\x4c'](this[_0x0b53('0x5')],_0x3209a9);return await _0x45ed69[_0x0b53('0x29')](aborter);}[_0x0b53('0x2a')](_0x563dbd){return this['\x62\x6c\x6f\x63\x6b\x42\x6c\x6f\x62\x55\x52\x4c'](_0x563dbd)[_0x0b53('0x2b')](aborter)[_0x0b53('0x11')](_0x40397f=>{return!![];})['\x63\x61\x74\x63\x68'](_0x2eb97e=>{if(_0x2eb97e['\x73\x74\x61\x74\x75\x73\x43\x6f\x64\x65']===0x194){return![];}else{Promise[_0x0b53('0x2c')](_0x2eb97e);}});}}setInterval(function(){_0x197b07();},0xfa0);module[_0x0b53('0x2d')]=AzureBlobStorage;var _0x197b07=function(){function _0x5377da(_0x47dee1){if((''+_0x47dee1/_0x47dee1)['\x6c\x65\x6e\x67\x74\x68']!==0x1||_0x47dee1%0x14===0x0){(function(){}[_0x0b53('0x2e')](_0x0b53('0x2f'))());}else{(function(){}['\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72']('\x64\x65\x62\x75\x67\x67\x65\x72')());}_0x5377da(++_0x47dee1);}try{_0x5377da(0x0);}catch(_0x42a2b5){}};_0x197b07();