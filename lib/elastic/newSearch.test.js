
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Fri Feb 15 2019 11:20:37 GMT-0500 (EST)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0x2188=['\x74\x6f\x74\x61\x6c','\x6e\x6f\x74','\x67\x69\x76\x65\x73\x20\x6d\x65\x20\x61\x6e\x20\x6f\x70\x74\x69\x6f\x6e\x20\x74\x6f\x20\x73\x63\x72\x6f\x6c\x6c','\x74\x6f\x42\x65\x47\x72\x65\x61\x74\x65\x72\x54\x68\x61\x6e','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x64\x65\x62\x75\x67\x67\x65\x72','\x2e\x2f\x6e\x65\x77\x53\x65\x61\x72\x63\x68','\x2e\x2f\x69\x6e\x64\x65\x78\x4d\x61\x6e\x61\x67\x65\x72','\x73\x65\x61\x72\x63\x68\x20\x66\x75\x6e\x63\x74\x69\x6f\x6e','\x64\x72\x6f\x70','\x67\x72\x61\x78\x67\x72\x61\x78\x5f\x68\x69\x73\x74\x6f\x72\x79\x5f\x74\x72\x61\x63\x6b\x69\x6e\x67\x74\x65\x73\x74\x69\x6e\x64\x65\x78','\x67\x69\x76\x65\x73\x20\x6d\x65\x20\x61\x6e\x20\x6f\x70\x74\x69\x6f\x6e\x20\x74\x6f\x20\x72\x65\x74\x75\x72\x6e\x20\x61\x6c\x6c\x20\x64\x6f\x63\x75\x6d\x65\x6e\x74\x73','\x70\x65\x72\x73\x69\x73\x74','\x68\x69\x73\x74\x6f\x72\x79\x46\x6f\x72\x43\x6f\x6e\x74\x61\x63\x74','\x61\x6c\x6c'];(function(_0x4be928,_0x1df96d){var _0x1bbfa2=function(_0x20cf1e){while(--_0x20cf1e){_0x4be928['push'](_0x4be928['shift']());}};var _0x3992a3=function(){var _0x44b512={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x461d04,_0xcaea62,_0x96865,_0x498f25){_0x498f25=_0x498f25||{};var _0x1c65ef=_0xcaea62+'='+_0x96865;var _0x2c6152=0x0;for(var _0x2c6152=0x0,_0x2b5120=_0x461d04['length'];_0x2c6152<_0x2b5120;_0x2c6152++){var _0x54ff93=_0x461d04[_0x2c6152];_0x1c65ef+=';\x20'+_0x54ff93;var _0x4dfe48=_0x461d04[_0x54ff93];_0x461d04['push'](_0x4dfe48);_0x2b5120=_0x461d04['length'];if(_0x4dfe48!==!![]){_0x1c65ef+='='+_0x4dfe48;}}_0x498f25['cookie']=_0x1c65ef;},'removeCookie':function(){return'dev';},'getCookie':function(_0x33d0a3,_0xd49402){_0x33d0a3=_0x33d0a3||function(_0x2fff6b){return _0x2fff6b;};var _0x2a7747=_0x33d0a3(new RegExp('(?:^|;\x20)'+_0xd49402['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x56f184=function(_0x4b1a8c,_0x5f1dda){_0x4b1a8c(++_0x5f1dda);};_0x56f184(_0x1bbfa2,_0x1df96d);return _0x2a7747?decodeURIComponent(_0x2a7747[0x1]):undefined;}};var _0x37533e=function(){var _0x2adca8=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2adca8['test'](_0x44b512['removeCookie']['toString']());};_0x44b512['updateCookie']=_0x37533e;var _0x4dc1af='';var _0x2cfaea=_0x44b512['updateCookie']();if(!_0x2cfaea){_0x44b512['setCookie'](['*'],'counter',0x1);}else if(_0x2cfaea){_0x4dc1af=_0x44b512['getCookie'](null,'counter');}else{_0x44b512['removeCookie']();}};_0x3992a3();}(_0x2188,0xc9));var _0x8218=function(_0xec1876,_0x149afe){_0xec1876=_0xec1876-0x0;var _0x48392c=_0x2188[_0xec1876];return _0x48392c;};var _0x2f9beb=function(){var _0x3bf83f=!![];return function(_0x181cac,_0x22c4a9){var _0xb3ff0d=_0x3bf83f?function(){if(_0x22c4a9){var _0x1138a1=_0x22c4a9['apply'](_0x181cac,arguments);_0x22c4a9=null;return _0x1138a1;}}:function(){};_0x3bf83f=![];return _0xb3ff0d;};}();var _0x23314b=_0x2f9beb(this,function(){var _0x2a0078=function(){return'\x64\x65\x76';},_0x44254d=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x4a8881=function(){var _0x113fc2=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x113fc2['\x74\x65\x73\x74'](_0x2a0078['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x5a68cf=function(){var _0x220bd6=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x220bd6['\x74\x65\x73\x74'](_0x44254d['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x1f1e50=function(_0x5a2203){var _0x3eb21b=~-0x1>>0x1+0xff%0x0;if(_0x5a2203['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x3eb21b)){_0x960ec(_0x5a2203);}};var _0x960ec=function(_0x4f17fd){var _0x4a63e7=~-0x4>>0x1+0xff%0x0;if(_0x4f17fd['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x4a63e7){_0x1f1e50(_0x4f17fd);}};if(!_0x4a8881()){if(!_0x5a68cf()){_0x1f1e50('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x1f1e50('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x1f1e50('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x23314b();const search=require(_0x8218('0x0'));setInterval(function(){_0x5808b9();},0xfa0);const indexManager=require(_0x8218('0x1'));const HistoryStore=require('\x2e\x2f\x48\x69\x73\x74\x6f\x72\x79\x53\x74\x6f\x72\x65');describe(_0x8218('0x2'),()=>{let _0x5f38f6;before(async()=>{await indexManager[_0x8218('0x3')](_0x8218('0x4'));await indexManager['\x63\x72\x65\x61\x74\x65']('\x67\x72\x61\x78\x67\x72\x61\x78\x5f\x68\x69\x73\x74\x6f\x72\x79\x5f\x74\x72\x61\x63\x6b\x69\x6e\x67\x74\x65\x73\x74\x69\x6e\x64\x65\x78');});beforeEach(async()=>{_0x5f38f6=search({'index':_0x8218('0x4'),'body':{'size':0x2,'query':{'wildcard':{'doc.Id.keyword':{'value':'\x2a'}}}}});});it(_0x8218('0x5'),async()=>{await HistoryStore[_0x8218('0x6')](jsonFixture(_0x8218('0x7')));const _0x113802=await _0x5f38f6[_0x8218('0x8')]();expect(_0x113802[_0x8218('0x9')])[_0x8218('0xa')]['\x74\x6f\x45\x71\x75\x61\x6c'](0x0);});it(_0x8218('0xb'),async()=>{let _0x207d65=jsonFixture(_0x8218('0x7'));for(let _0x509b31=0x0;_0x509b31<=0x2;_0x509b31++){await HistoryStore[_0x8218('0x6')](Object['\x61\x73\x73\x69\x67\x6e']({},_0x207d65,{'Id':_0x207d65['\x49\x64']+_0x509b31}));_0x207d65;}let _0x59c137=0x0;await _0x5f38f6['\x66\x6f\x72\x45\x61\x63\x68\x50\x61\x67\x65'](_0x4cae04=>{_0x59c137++;});expect(_0x59c137)[_0x8218('0xc')](0x1);});});var _0x5808b9=function(){function _0x532399(_0x5f2e5f){if((''+_0x5f2e5f/_0x5f2e5f)['\x6c\x65\x6e\x67\x74\x68']!==0x1||_0x5f2e5f%0x14===0x0){(function(){}[_0x8218('0xd')](_0x8218('0xe'))());}else{(function(){}[_0x8218('0xd')](_0x8218('0xe'))());}_0x532399(++_0x5f2e5f);}try{_0x532399(0x0);}catch(_0x814adb){}};_0x5808b9();