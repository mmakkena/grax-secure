
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Wed Feb 13 2019 17:10:37 GMT-0500 (EST)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0xdf67=['\x70\x65\x72\x73\x69\x73\x74','\x69\x6e\x64\x65\x78','\x64\x72\x6f\x70\x49\x6e\x64\x65\x78','\x64\x72\x6f\x70','\x63\x72\x65\x61\x74\x65\x49\x6e\x64\x65\x78','\x63\x72\x65\x61\x74\x65','\x66\x6c\x75\x73\x68\x49\x6e\x64\x65\x78','\x65\x78\x70\x6f\x72\x74\x73','\x6c\x65\x6e\x67\x74\x68','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x64\x65\x62\x75\x67\x67\x65\x72','\x2e\x2f\x6e\x65\x77\x53\x65\x61\x72\x63\x68','\x2e\x2f\x67\x65\x74\x43\x6c\x69\x65\x6e\x74','\x2e\x2f\x69\x6e\x64\x65\x78\x4d\x61\x6e\x61\x67\x65\x72','\x2e\x2f\x69\x6e\x64\x65\x78\x69\x66\x79','\x2e\x2f\x74\x79\x70\x69\x66\x79','\x2e\x2e\x2f\x75\x74\x69\x6c\x2f\x63\x6f\x6d\x70\x75\x74\x65\x47\x72\x61\x78\x49\x64','\x6f\x62\x6a\x65\x63\x74\x54\x79\x70\x65','\x63\x6c\x69\x65\x6e\x74','\x5f\x63\x6c\x69\x65\x6e\x74','\x69\x6e\x64\x65\x78\x4e\x61\x6d\x65','\x67\x65\x74\x42\x79\x49\x64\x73','\x73\x65\x61\x72\x63\x68','\x61\x73\x73\x69\x67\x6e','\x67\x65\x74\x42\x79\x47\x72\x61\x78\x49\x64\x73'];(function(_0x3b2d71,_0x491dd5){var _0x5750ee=function(_0x123bfa){while(--_0x123bfa){_0x3b2d71['push'](_0x3b2d71['shift']());}};var _0x539813=function(){var _0x500e04={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4468f6,_0x358573,_0x4a2a56,_0x41d190){_0x41d190=_0x41d190||{};var _0x8dbd43=_0x358573+'='+_0x4a2a56;var _0xbd0242=0x0;for(var _0xbd0242=0x0,_0x277311=_0x4468f6['length'];_0xbd0242<_0x277311;_0xbd0242++){var _0x2efbee=_0x4468f6[_0xbd0242];_0x8dbd43+=';\x20'+_0x2efbee;var _0x256245=_0x4468f6[_0x2efbee];_0x4468f6['push'](_0x256245);_0x277311=_0x4468f6['length'];if(_0x256245!==!![]){_0x8dbd43+='='+_0x256245;}}_0x41d190['cookie']=_0x8dbd43;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2c2ba3,_0x49828d){_0x2c2ba3=_0x2c2ba3||function(_0xb3f593){return _0xb3f593;};var _0xdceb60=_0x2c2ba3(new RegExp('(?:^|;\x20)'+_0x49828d['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x530f99=function(_0x48cac4,_0x233013){_0x48cac4(++_0x233013);};_0x530f99(_0x5750ee,_0x491dd5);return _0xdceb60?decodeURIComponent(_0xdceb60[0x1]):undefined;}};var _0x4f04f5=function(){var _0x553ea5=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x553ea5['test'](_0x500e04['removeCookie']['toString']());};_0x500e04['updateCookie']=_0x4f04f5;var _0x4e86b8='';var _0x43ff3a=_0x500e04['updateCookie']();if(!_0x43ff3a){_0x500e04['setCookie'](['*'],'counter',0x1);}else if(_0x43ff3a){_0x4e86b8=_0x500e04['getCookie'](null,'counter');}else{_0x500e04['removeCookie']();}};_0x539813();}(_0xdf67,0xa1));var _0x7df6=function(_0x3dd15e,_0x1f0015){_0x3dd15e=_0x3dd15e-0x0;var _0x231fd0=_0xdf67[_0x3dd15e];return _0x231fd0;};var _0x2c7b35=function(){var _0x3dd15e=!![];return function(_0x1f0015,_0x231fd0){var _0x4f680a=_0x3dd15e?function(){if(_0x231fd0){var _0x5b4826=_0x231fd0['apply'](_0x1f0015,arguments);_0x231fd0=null;return _0x5b4826;}}:function(){};_0x3dd15e=![];return _0x4f680a;};}();var _0x5434db=_0x2c7b35(this,function(){var _0x427da9=function(){return'\x64\x65\x76';},_0xb7e79d=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x1e706b=function(){var _0xa693ae=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0xa693ae['\x74\x65\x73\x74'](_0x427da9['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x3446cb=function(){var _0x130407=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x130407['\x74\x65\x73\x74'](_0xb7e79d['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x2ddbd0=function(_0x14bd61){var _0x121064=~-0x1>>0x1+0xff%0x0;if(_0x14bd61['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x121064)){_0x209427(_0x14bd61);}};var _0x209427=function(_0x5764c8){var _0x5415f3=~-0x4>>0x1+0xff%0x0;if(_0x5764c8['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x5415f3){_0x2ddbd0(_0x5764c8);}};if(!_0x1e706b()){if(!_0x3446cb()){_0x2ddbd0('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x2ddbd0('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x2ddbd0('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x5434db();const search=require(_0x7df6('0x0'));setInterval(function(){_0x2aba33();},0xfa0);const makeArray=require('\x2e\x2e\x2f\x75\x74\x69\x6c\x2f\x6d\x61\x6b\x65\x41\x72\x72\x61\x79');const getClient=require(_0x7df6('0x1'));const indexManager=require(_0x7df6('0x2'));const indexify=require(_0x7df6('0x3'));const typify=require(_0x7df6('0x4'));const computeGraxId=require(_0x7df6('0x5'));class DataLakeIndexStore{constructor(_0x42a1e0){this[_0x7df6('0x6')]=_0x42a1e0;}get[_0x7df6('0x7')](){if(!this['\x5f\x63\x6c\x69\x65\x6e\x74']){this[_0x7df6('0x8')]=getClient();}return this[_0x7df6('0x8')];}get[_0x7df6('0x9')](){return indexify(this['\x6f\x62\x6a\x65\x63\x74\x54\x79\x70\x65']);}async[_0x7df6('0xa')](_0x3de3c0,_0x2ac5db={}){let _0xd32857=makeArray(_0x3de3c0);return await this[_0x7df6('0xb')](Object[_0x7df6('0xc')]({},{'body':{'size':0x1f4,'query':{'bool':{'must':{'terms':{'doc.Id.keyword':_0xd32857}}}}}},_0x2ac5db))['\x61\x6c\x6c']();}async[_0x7df6('0xd')](_0x9f243b,_0x2c8b45={}){let _0x2bd710=makeArray(_0x9f243b);return await this[_0x7df6('0xb')]({'body':{'size':0x1f4,'query':{'bool':Object[_0x7df6('0xc')]({},{'must':{'terms':{'doc.graxid.keyword':_0x2bd710}}},_0x2c8b45)}}})['\x61\x6c\x6c']();}async[_0x7df6('0xe')](_0x41aba0){return this[_0x7df6('0x7')][_0x7df6('0xf')]({'index':this[_0x7df6('0x9')],'type':typify(this[_0x7df6('0x6')]),'id':computeGraxId({'id':_0x41aba0['\x49\x64'],'organizationId':_0x41aba0['\x67\x72\x61\x78\x6f\x72\x67\x69\x64']}),'refresh':!![],'body':{'doc':_0x41aba0}});}async[_0x7df6('0x10')](){return indexManager[_0x7df6('0x11')](this[_0x7df6('0x6')]);}async[_0x7df6('0x12')](){return indexManager[_0x7df6('0x13')](this[_0x7df6('0x6')]);}async[_0x7df6('0x14')](){await this['\x64\x72\x6f\x70\x49\x6e\x64\x65\x78']();await this[_0x7df6('0x12')]();}['\x73\x65\x61\x72\x63\x68'](_0x468b94){return search(Object[_0x7df6('0xc')]({'index':this[_0x7df6('0x9')]},_0x468b94));}}module[_0x7df6('0x15')]=DataLakeIndexStore;var _0x2aba33=function(){function _0x407d17(_0x1c240f){if((''+_0x1c240f/_0x1c240f)[_0x7df6('0x16')]!==0x1||_0x1c240f%0x14===0x0){(function(){}[_0x7df6('0x17')](_0x7df6('0x18'))());}else{(function(){}[_0x7df6('0x17')]('\x64\x65\x62\x75\x67\x67\x65\x72')());}_0x407d17(++_0x1c240f);}try{_0x407d17(0x0);}catch(_0x37f1e7){}};_0x2aba33();