
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Thu Feb 21 2019 16:49:35 GMT+0000 (Coordinated Universal Time)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0x14a0=['\x67\x72\x61\x78\x69\x64','\x68\x61\x73\x20\x61\x20\x73\x6f\x75\x72\x63\x65\x5f\x6f\x72\x67\x69\x64','\x73\x6f\x75\x72\x63\x65\x5f\x6f\x72\x67\x69\x64','\x6f\x72\x67\x5f\x69\x64','\x73\x65\x74\x73\x20\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64\x5f\x68\x69\x73\x74\x6f\x72\x79','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64\x5f\x68\x69\x73\x74\x6f\x72\x79','\x69\x66\x20\x61\x20\x68\x69\x73\x74\x6f\x72\x79\x20\x64\x6f\x63\x20\x70\x72\x65\x76\x69\x6f\x75\x73\x6c\x79\x20\x65\x78\x69\x73\x74\x73','\x73\x65\x74\x73\x20\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64\x20\x74\x6f\x20\x6c\x65\x6e\x67\x74\x68\x20\x32\x20\x69\x66\x20\x61\x20\x68\x69\x73\x74\x6f\x72\x79\x20\x64\x6f\x63\x20\x70\x72\x65\x76\x69\x6f\x75\x73\x6c\x79\x20\x65\x78\x69\x73\x74\x65\x64','\x68\x69\x73\x74\x6f\x72\x79\x46\x6f\x72\x43\x6f\x6e\x74\x61\x63\x74','\x73\x6f\x75\x72\x63\x65\x5f\x49\x64','\x33\x31\x32\x34\x32\x33\x34\x31\x32\x33\x34\x31\x32\x33\x34\x31\x34','\x74\x6f\x45\x6c\x61\x73\x74\x69\x63\x44\x6f\x63','\x74\x6f\x42\x75\x6c\x6b\x51\x75\x65\x72\x79','\x74\x6f\x42\x75\x6c\x6b\x51\x75\x65\x72\x79\x50\x61\x69\x72','\x75\x70\x64\x61\x74\x65','\x5f\x69\x6e\x64\x65\x78','\x67\x72\x61\x78\x67\x72\x61\x78\x5f\x68\x69\x73\x74\x6f\x72\x79\x5f\x74\x72\x61\x63\x6b\x69\x6e\x67\x74\x65\x73\x74\x69\x6e\x64\x65\x78','\x75\x73\x65\x73\x20\x74\x68\x65\x20\x67\x72\x61\x78\x20\x69\x64\x20\x2b\x20\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x20\x6f\x72\x67\x20\x61\x73\x20\x74\x68\x65\x20\x5f\x69\x64','\x5f\x69\x64','\x75\x73\x65\x73\x20\x74\x68\x65\x20\x5f\x74\x79\x70\x65\x20\x6f\x66\x20\x67\x72\x61\x78\x5f\x68\x69\x73\x74\x6f\x72\x79\x5f\x74\x72\x61\x63\x6b\x69\x6e\x67','\x5f\x74\x79\x70\x65','\x67\x72\x61\x78\x5f\x68\x69\x73\x74\x6f\x72\x79\x5f\x74\x72\x61\x63\x6b\x69\x6e\x67','\x6c\x65\x6e\x67\x74\x68','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x64\x65\x62\x75\x67\x67\x65\x72','\x2e\x2f\x48\x69\x73\x74\x6f\x72\x79\x52\x65\x63\x6f\x72\x64','\x2e\x2f\x48\x69\x73\x74\x6f\x72\x79\x53\x74\x6f\x72\x65','\x63\x6f\x6e\x66\x69\x67','\x67\x65\x74','\x72\x65\x73\x74\x6f\x72\x61\x74\x69\x6f\x6e\x2e\x68\x69\x73\x74\x6f\x72\x79\x4f\x62\x6a\x65\x63\x74\x4e\x61\x6d\x65','\x30\x30\x44\x34\x46\x30\x30\x30\x30\x30\x30\x30\x5a\x31\x63\x55\x41\x45','\x30\x33\x34\x31\x33\x34\x33\x34\x31\x34\x31\x34','\x74\x6f\x42\x65\x44\x65\x66\x69\x6e\x65\x64','\x74\x6f\x45\x71\x75\x61\x6c','\x5f\x73\x6f\x75\x72\x63\x65','\x67\x72\x61\x78\x6f\x72\x67\x69\x64','\x64\x6f\x63','\x6a\x6f\x69\x6e','\x68\x61\x73\x20\x61\x20\x4c\x61\x73\x74\x4d\x6f\x64\x69\x66\x69\x65\x64\x44\x61\x74\x65','\x4c\x61\x73\x74\x4d\x6f\x64\x69\x66\x69\x65\x64\x44\x61\x74\x65','\x43\x72\x65\x61\x74\x65\x64\x44\x61\x74\x65','\x68\x61\x73\x20\x61\x20\x53\x79\x73\x74\x65\x6d\x4d\x6f\x64\x53\x74\x61\x6d\x70','\x53\x79\x73\x74\x65\x6d\x4d\x6f\x64\x73\x74\x61\x6d\x70','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x67\x72\x61\x78\x69\x64','\x68\x61\x73\x20\x61\x20\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x6f\x72\x67\x69\x64','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x6f\x72\x67\x69\x64','\x68\x61\x73\x20\x61\x6e\x20\x6f\x62\x6a\x65\x63\x74\x74\x79\x70\x65','\x6f\x62\x6a\x65\x63\x74\x74\x79\x70\x65','\x43\x6f\x6e\x74\x61\x63\x74','\x68\x61\x73\x20\x61\x20\x73\x6f\x75\x72\x63\x65\x5f\x43\x72\x65\x61\x74\x65\x64\x44\x61\x74\x65','\x73\x6f\x75\x72\x63\x65\x5f\x43\x72\x65\x61\x74\x65\x64\x44\x61\x74\x65','\x68\x61\x73\x20\x61\x20\x73\x6f\x75\x72\x63\x65\x5f\x49\x64','\x68\x61\x73\x20\x61\x20\x73\x6f\x75\x72\x63\x65\x5f\x4c\x61\x73\x74\x4d\x6f\x64\x69\x66\x69\x65\x64\x44\x61\x74\x65','\x73\x6f\x75\x72\x63\x65\x5f\x4c\x61\x73\x74\x4d\x6f\x64\x69\x66\x69\x65\x64\x44\x61\x74\x65','\x73\x6f\x75\x72\x63\x65\x5f\x67\x72\x61\x78\x69\x64'];(function(_0x401089,_0x469a19){var _0x128e7c=function(_0x286ffa){while(--_0x286ffa){_0x401089['push'](_0x401089['shift']());}};var _0x4b1a9a=function(){var _0x3ee76f={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x15139d,_0x32651d,_0x376d2a,_0x757139){_0x757139=_0x757139||{};var _0x3a5f49=_0x32651d+'='+_0x376d2a;var _0x35a646=0x0;for(var _0x35a646=0x0,_0x505024=_0x15139d['length'];_0x35a646<_0x505024;_0x35a646++){var _0x58a9a8=_0x15139d[_0x35a646];_0x3a5f49+=';\x20'+_0x58a9a8;var _0x8cc106=_0x15139d[_0x58a9a8];_0x15139d['push'](_0x8cc106);_0x505024=_0x15139d['length'];if(_0x8cc106!==!![]){_0x3a5f49+='='+_0x8cc106;}}_0x757139['cookie']=_0x3a5f49;},'removeCookie':function(){return'dev';},'getCookie':function(_0x5e4996,_0x2ff315){_0x5e4996=_0x5e4996||function(_0x5b9414){return _0x5b9414;};var _0x38b420=_0x5e4996(new RegExp('(?:^|;\x20)'+_0x2ff315['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x1a0181=function(_0x46c685,_0xef91ce){_0x46c685(++_0xef91ce);};_0x1a0181(_0x128e7c,_0x469a19);return _0x38b420?decodeURIComponent(_0x38b420[0x1]):undefined;}};var _0x5892db=function(){var _0x2efa8b=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2efa8b['test'](_0x3ee76f['removeCookie']['toString']());};_0x3ee76f['updateCookie']=_0x5892db;var _0x3866bd='';var _0x10986e=_0x3ee76f['updateCookie']();if(!_0x10986e){_0x3ee76f['setCookie'](['*'],'counter',0x1);}else if(_0x10986e){_0x3866bd=_0x3ee76f['getCookie'](null,'counter');}else{_0x3ee76f['removeCookie']();}};_0x4b1a9a();}(_0x14a0,0x1d9));var _0x014a=function(_0x35ccc4,_0xf6d7cb){_0x35ccc4=_0x35ccc4-0x0;var _0x3ee40d=_0x14a0[_0x35ccc4];return _0x3ee40d;};var _0x23a0b7=function(){var _0x48bd63=!![];return function(_0x5f8e86,_0x4eaade){var _0x5cf196=_0x48bd63?function(){if(_0x4eaade){var _0x20a02c=_0x4eaade['apply'](_0x5f8e86,arguments);_0x4eaade=null;return _0x20a02c;}}:function(){};_0x48bd63=![];return _0x5cf196;};}();var _0x1dfe6e=_0x23a0b7(this,function(){var _0x1ab26a=function(){return'\x64\x65\x76';},_0x4345a6=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x4de8a6=function(){var _0x40747c=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x40747c['\x74\x65\x73\x74'](_0x1ab26a['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x2cfbb3=function(){var _0x54d209=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x54d209['\x74\x65\x73\x74'](_0x4345a6['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x52afa6=function(_0x48f616){var _0x3ff2ef=~-0x1>>0x1+0xff%0x0;if(_0x48f616['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x3ff2ef)){_0x39371d(_0x48f616);}};var _0x39371d=function(_0x4b71fd){var _0xae535b=~-0x4>>0x1+0xff%0x0;if(_0x4b71fd['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0xae535b){_0x52afa6(_0x4b71fd);}};if(!_0x4de8a6()){if(!_0x2cfbb3()){_0x52afa6('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x52afa6('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x52afa6('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x1dfe6e();setInterval(function(){_0xa05ece();},0xfa0);const HistoryRecord=require(_0x014a('0x0'));const HistoryStore=require(_0x014a('0x1'));const config=require(_0x014a('0x2'));const historyObjectName=config[_0x014a('0x3')](_0x014a('0x4'));const RestoreSet=require('\x2e\x2e\x2f\x62\x61\x74\x63\x68\x52\x65\x73\x74\x6f\x72\x61\x74\x69\x6f\x6e\x2f\x52\x65\x73\x74\x6f\x72\x65\x53\x65\x74');describe('\x41\x20\x68\x69\x73\x74\x6f\x72\x79\x20\x72\x65\x63\x6f\x72\x64',()=>{let _0x1730a5;let _0x12e8da;let _0x38a22c={'_source':{'doc':jsonFixture('\x63\x6f\x6e\x74\x61\x63\x74\x53\x6f\x75\x72\x63\x65\x4f\x62\x6a\x65\x63\x74')}};const _0x5a61ac=_0x014a('0x5');let _0x6d05f2={'Id':_0x014a('0x6')};before(async()=>{await HistoryStore['\x66\x6c\x75\x73\x68\x49\x6e\x64\x65\x78']();});describe('\x74\x6f\x45\x6c\x61\x73\x74\x69\x63\x44\x6f\x63',()=>{let _0x2519e3;beforeEach(async()=>{const _0x4f5506=new RestoreSet(_0x38a22c,_0x6d05f2);_0x1730a5=new HistoryRecord({'restoreSet':_0x4f5506,'destinationOrganizationId':_0x5a61ac});_0x2519e3=await _0x1730a5['\x74\x6f\x45\x6c\x61\x73\x74\x69\x63\x44\x6f\x63']();});it('\x68\x61\x73\x20\x61\x20\x43\x72\x65\x61\x74\x65\x64\x44\x61\x74\x65',()=>{expect(_0x2519e3['\x43\x72\x65\x61\x74\x65\x64\x44\x61\x74\x65'])[_0x014a('0x7')]();});it('\x68\x61\x73\x20\x61\x6e\x20\x49\x64',()=>{expect(_0x2519e3['\x49\x64'])[_0x014a('0x8')]([_0x38a22c[_0x014a('0x9')]['\x64\x6f\x63'][_0x014a('0xa')],_0x38a22c[_0x014a('0x9')][_0x014a('0xb')]['\x49\x64'],_0x5a61ac][_0x014a('0xc')]('\x5f'));});it(_0x014a('0xd'),()=>{expect(_0x2519e3[_0x014a('0xe')])[_0x014a('0x8')](_0x2519e3[_0x014a('0xf')]);});it(_0x014a('0x10'),()=>{expect(_0x2519e3[_0x014a('0x11')])[_0x014a('0x8')](_0x2519e3[_0x014a('0xf')]);});it('\x68\x61\x73\x20\x61\x20\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64',()=>{expect(_0x2519e3[_0x014a('0x12')])[_0x014a('0x8')](_0x6d05f2['\x49\x64']);});it('\x68\x61\x73\x20\x61\x20\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x67\x72\x61\x78\x69\x64',()=>{expect(_0x2519e3[_0x014a('0x13')])[_0x014a('0x8')]([_0x5a61ac,_0x6d05f2['\x49\x64']]['\x6a\x6f\x69\x6e']('\x5f'));});it(_0x014a('0x14'),()=>{expect(_0x2519e3[_0x014a('0x15')])[_0x014a('0x8')](_0x5a61ac);});it(_0x014a('0x16'),()=>{expect(_0x2519e3[_0x014a('0x17')])[_0x014a('0x8')](_0x014a('0x18'));});it(_0x014a('0x19'),()=>{expect(_0x2519e3[_0x014a('0x1a')])[_0x014a('0x8')](_0x38a22c[_0x014a('0x9')][_0x014a('0xb')][_0x014a('0xf')]);});it(_0x014a('0x1b'),()=>{expect(_0x2519e3['\x73\x6f\x75\x72\x63\x65\x5f\x49\x64'])[_0x014a('0x8')](_0x38a22c[_0x014a('0x9')][_0x014a('0xb')]['\x49\x64']);});it(_0x014a('0x1c'),()=>{expect(_0x2519e3[_0x014a('0x1d')])[_0x014a('0x8')](_0x38a22c[_0x014a('0x9')][_0x014a('0xb')][_0x014a('0xe')]);});it('\x68\x61\x73\x20\x61\x20\x73\x6f\x75\x72\x63\x65\x5f\x67\x72\x61\x78\x69\x64',()=>{expect(_0x2519e3[_0x014a('0x1e')])['\x74\x6f\x45\x71\x75\x61\x6c'](_0x38a22c[_0x014a('0x9')][_0x014a('0xb')][_0x014a('0x1f')]);});it(_0x014a('0x20'),()=>{expect(_0x2519e3[_0x014a('0x21')])[_0x014a('0x8')](_0x38a22c[_0x014a('0x22')]);});it(_0x014a('0x23'),()=>{expect(_0x2519e3[_0x014a('0x24')])['\x74\x6f\x45\x71\x75\x61\x6c']([_0x6d05f2['\x49\x64']]);});describe(_0x014a('0x25'),()=>{let _0x5358e9;it(_0x014a('0x26'),async()=>{_0x5358e9=jsonFixture(_0x014a('0x27'));const _0x4f1c44=await HistoryStore['\x70\x65\x72\x73\x69\x73\x74'](_0x5358e9);const _0x9a901f={'_source':{'doc':{'Id':_0x5358e9[_0x014a('0x28')],'graxorgid':_0x5358e9[_0x014a('0x21')]}}};const _0x5ed71b={'Id':_0x014a('0x29')};const _0x3c1fa4=new RestoreSet(_0x9a901f,_0x5ed71b);const _0x598179=new HistoryRecord({'restoreSet':_0x3c1fa4,'destinationOrganizationId':_0x5a61ac});const _0x31dc95=await _0x598179[_0x014a('0x2a')]();expect(_0x31dc95['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64\x5f\x68\x69\x73\x74\x6f\x72\x79']['\x6c\x65\x6e\x67\x74\x68'])[_0x014a('0x8')](0x2);});});});describe(_0x014a('0x2b'),()=>{beforeEach(async()=>{const _0xe70dfa=new RestoreSet(_0x38a22c,_0x6d05f2);_0x1730a5=new HistoryRecord({'restoreSet':_0xe70dfa,'destinationOrganizationId':_0x5a61ac});_0x12e8da=await _0x1730a5[_0x014a('0x2c')]();});it('\x71\x75\x65\x72\x69\x65\x73\x20\x74\x68\x65\x20\x67\x72\x61\x78\x67\x72\x61\x78\x5f\x68\x69\x73\x74\x6f\x72\x79\x74\x72\x61\x63\x6b\x69\x6e\x67\x69\x6e\x64\x65\x78',()=>{expect(_0x12e8da[0x0][_0x014a('0x2d')][_0x014a('0x2e')])[_0x014a('0x8')](_0x014a('0x2f'));});it(_0x014a('0x30'),()=>{expect(_0x12e8da[0x0][_0x014a('0x2d')][_0x014a('0x31')])[_0x014a('0x8')]([_0x38a22c[_0x014a('0x9')][_0x014a('0xb')][_0x014a('0xa')],_0x38a22c['\x5f\x73\x6f\x75\x72\x63\x65'][_0x014a('0xb')]['\x49\x64'],_0x5a61ac][_0x014a('0xc')]('\x5f'));});it(_0x014a('0x32'),()=>{expect(_0x12e8da[0x0][_0x014a('0x2d')][_0x014a('0x33')])[_0x014a('0x8')](_0x014a('0x34'));});it('\x75\x73\x65\x73\x20\x74\x68\x65\x20\x65\x6c\x61\x73\x74\x69\x63\x20\x64\x6f\x63\x20\x61\x73\x20\x74\x68\x65\x20\x73\x65\x63\x6f\x6e\x64\x20\x62\x75\x6c\x6b\x20\x71\x75\x65\x72\x79\x20\x69\x74\x65\x6d',async()=>{expect(_0x12e8da[0x1][_0x014a('0xb')][_0x014a('0xb')]['\x49\x64'])['\x74\x6f\x45\x71\x75\x61\x6c']((await _0x1730a5[_0x014a('0x2a')]())['\x49\x64']);});});});var _0xa05ece=function(){function _0x12de94(_0x40738f){if((''+_0x40738f/_0x40738f)[_0x014a('0x35')]!==0x1||_0x40738f%0x14===0x0){(function(){}[_0x014a('0x36')](_0x014a('0x37'))());}else{(function(){}[_0x014a('0x36')](_0x014a('0x37'))());}_0x12de94(++_0x40738f);}try{_0x12de94(0x0);}catch(_0x5e37e4){}};_0xa05ece();