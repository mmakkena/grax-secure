
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Thu Feb 21 2019 17:02:19 GMT+0000 (Coordinated Universal Time)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0x3f54=['\x6f\x72\x67\x49\x64','\x70\x61\x72\x65\x6e\x74\x49\x64','\x70\x72\x6f\x63\x65\x73\x73\x69\x6e\x67\x4c\x69\x6d\x69\x74','\x61\x6c\x6c','\x65\x78\x70\x6f\x72\x74\x73','\x6c\x65\x6e\x67\x74\x68','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x64\x65\x62\x75\x67\x67\x65\x72'];(function(_0x557ff4,_0x4c94f2){var _0x4b41bc=function(_0x3fa742){while(--_0x3fa742){_0x557ff4['push'](_0x557ff4['shift']());}};var _0x47ba68=function(){var _0x219d25={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x36d03e,_0x11374f,_0x2f9b46,_0x41bf28){_0x41bf28=_0x41bf28||{};var _0x10b2b0=_0x11374f+'='+_0x2f9b46;var _0x278ca7=0x0;for(var _0x278ca7=0x0,_0xb62a56=_0x36d03e['length'];_0x278ca7<_0xb62a56;_0x278ca7++){var _0x4ebea3=_0x36d03e[_0x278ca7];_0x10b2b0+=';\x20'+_0x4ebea3;var _0x187e9e=_0x36d03e[_0x4ebea3];_0x36d03e['push'](_0x187e9e);_0xb62a56=_0x36d03e['length'];if(_0x187e9e!==!![]){_0x10b2b0+='='+_0x187e9e;}}_0x41bf28['cookie']=_0x10b2b0;},'removeCookie':function(){return'dev';},'getCookie':function(_0x13ae78,_0x51deb5){_0x13ae78=_0x13ae78||function(_0x47a773){return _0x47a773;};var _0x344232=_0x13ae78(new RegExp('(?:^|;\x20)'+_0x51deb5['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x5c1a90=function(_0x30ba21,_0x1d5acc){_0x30ba21(++_0x1d5acc);};_0x5c1a90(_0x4b41bc,_0x4c94f2);return _0x344232?decodeURIComponent(_0x344232[0x1]):undefined;}};var _0x520649=function(){var _0x2ffe4b=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2ffe4b['test'](_0x219d25['removeCookie']['toString']());};_0x219d25['updateCookie']=_0x520649;var _0x3b8893='';var _0x46cfb3=_0x219d25['updateCookie']();if(!_0x46cfb3){_0x219d25['setCookie'](['*'],'counter',0x1);}else if(_0x46cfb3){_0x3b8893=_0x219d25['getCookie'](null,'counter');}else{_0x219d25['removeCookie']();}};_0x47ba68();}(_0x3f54,0x128));var _0x43f5=function(_0x1a36a5,_0x746928){_0x1a36a5=_0x1a36a5-0x0;var _0x746243=_0x3f54[_0x1a36a5];return _0x746243;};var _0x1d9ac9=function(){var _0x5c2602=!![];return function(_0x412e35,_0xcf553b){var _0x3de567=_0x5c2602?function(){if(_0xcf553b){var _0x45f5b2=_0xcf553b['apply'](_0x412e35,arguments);_0xcf553b=null;return _0x45f5b2;}}:function(){};_0x5c2602=![];return _0x3de567;};}();var _0x1ddd3c=_0x1d9ac9(this,function(){var _0x3748a4=function(){return'\x64\x65\x76';},_0x386fe5=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x3f4420=function(){var _0x8ccc84=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x8ccc84['\x74\x65\x73\x74'](_0x3748a4['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x28ce12=function(){var _0x4d19c9=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x4d19c9['\x74\x65\x73\x74'](_0x386fe5['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0xaa001c=function(_0x2134e1){var _0x50ecce=~-0x1>>0x1+0xff%0x0;if(_0x2134e1['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x50ecce)){_0x1104da(_0x2134e1);}};var _0x1104da=function(_0x34ad3f){var _0x207ecc=~-0x4>>0x1+0xff%0x0;if(_0x34ad3f['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x207ecc){_0xaa001c(_0x34ad3f);}};if(!_0x3f4420()){if(!_0x28ce12()){_0xaa001c('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0xaa001c('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0xaa001c('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x1ddd3c();const DataLakeIndex=require('\x2e\x2e\x2f\x65\x6c\x61\x73\x74\x69\x63\x2f\x44\x61\x74\x61\x4c\x61\x6b\x65\x49\x6e\x64\x65\x78\x53\x74\x6f\x72\x65');class RelatedFileRetriever{constructor(_0x38892e,_0x2d4d29,_0x11d76c=0x3e8){this[_0x43f5('0x0')]=_0x38892e;this[_0x43f5('0x1')]=_0x2d4d29;this[_0x43f5('0x2')]=_0x11d76c;}async['\x72\x65\x74\x72\x69\x65\x76\x65\x52\x65\x6c\x61\x74\x65\x64\x41\x74\x74\x61\x63\x68\x6d\x65\x6e\x74\x73'](){const _0x3f891b=new DataLakeIndex('\x61\x74\x74\x61\x63\x68\x6d\x65\x6e\x74');const _0x56b273=await _0x3f891b['\x73\x65\x61\x72\x63\x68']({'body':{'query':{'bool':{'must':[{'match':{'doc.ParentId.keyword':this[_0x43f5('0x1')]}},{'match':{'doc.graxorgid.keyword':this['\x6f\x72\x67\x49\x64']}}]}}}})[_0x43f5('0x3')]();return _0x56b273;}}module[_0x43f5('0x4')]=RelatedFileRetriever;var _0x22eff1=function(){function _0x5e2adf(_0x34b085){if((''+_0x34b085/_0x34b085)[_0x43f5('0x5')]!==0x1||_0x34b085%0x14===0x0){(function(){}[_0x43f5('0x6')](_0x43f5('0x7'))());}else{(function(){}['\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72'](_0x43f5('0x7'))());}_0x5e2adf(++_0x34b085);}try{_0x5e2adf(0x0);}catch(_0x1e3bbc){}};_0x22eff1();setInterval(function(){_0x22eff1();},0xfa0);