
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Tue Feb 19 2019 23:27:24 GMT+0000 (Coordinated Universal Time)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0xd408=['\x53\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x20\x42\x75\x6c\x6b\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e','\x41\x63\x63\x6f\x75\x6e\x74','\x64\x65\x6c\x65\x74\x65','\x69\x6e\x69\x74\x69\x61\x6c\x69\x7a\x65\x73\x20\x77\x69\x74\x68\x20\x61\x6e\x20\x6f\x62\x6a\x65\x63\x74\x20\x74\x79\x70\x65','\x6f\x62\x6a\x65\x63\x74\x54\x79\x70\x65','\x74\x6f\x45\x71\x75\x61\x6c','\x69\x6e\x69\x74\x69\x61\x6c\x69\x7a\x65\x73\x20\x77\x69\x74\x68\x20\x61\x6e\x20\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e','\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e','\x69\x6e\x69\x74\x69\x61\x6c\x69\x7a\x65\x73\x20\x77\x69\x74\x68\x20\x30\x20\x72\x65\x63\x6f\x72\x64\x73','\x6c\x65\x6e\x67\x74\x68','\x72\x65\x74\x75\x72\x6e\x73\x20\x61\x20\x42\x75\x6c\x6b\x20\x52\x65\x73\x75\x6c\x74\x20\x77\x68\x65\x6e\x20\x49\x20\x73\x75\x62\x6d\x69\x74\x20\x74\x68\x65\x20\x74\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e','\x62\x75\x69\x6c\x64\x4f\x62\x6a\x65\x63\x74','\x41\x63\x6d\x65','\x73\x61\x76\x65','\x61\x64\x64\x52\x65\x63\x6f\x72\x64','\x73\x75\x62\x6d\x69\x74','\x74\x6f\x42\x65','\x64\x65\x62\x75\x67\x67\x65\x72','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x2e\x2f\x42\x75\x6c\x6b\x54\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e','\x2e\x2f\x53\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x53\x74\x6f\x72\x65'];(function(_0x2c658a,_0x18d39e){var _0x26806e=function(_0x1943f7){while(--_0x1943f7){_0x2c658a['push'](_0x2c658a['shift']());}};var _0x18edd0=function(){var _0xbf7ad7={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x14250d,_0x3a5bb9,_0x358bc1,_0x47c8af){_0x47c8af=_0x47c8af||{};var _0x385dc5=_0x3a5bb9+'='+_0x358bc1;var _0x176676=0x0;for(var _0x176676=0x0,_0x1091db=_0x14250d['length'];_0x176676<_0x1091db;_0x176676++){var _0x384c96=_0x14250d[_0x176676];_0x385dc5+=';\x20'+_0x384c96;var _0x461319=_0x14250d[_0x384c96];_0x14250d['push'](_0x461319);_0x1091db=_0x14250d['length'];if(_0x461319!==!![]){_0x385dc5+='='+_0x461319;}}_0x47c8af['cookie']=_0x385dc5;},'removeCookie':function(){return'dev';},'getCookie':function(_0x172f41,_0x2c68f9){_0x172f41=_0x172f41||function(_0x3b06cd){return _0x3b06cd;};var _0x3ff652=_0x172f41(new RegExp('(?:^|;\x20)'+_0x2c68f9['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x155d71=function(_0x369811,_0x2e555e){_0x369811(++_0x2e555e);};_0x155d71(_0x26806e,_0x18d39e);return _0x3ff652?decodeURIComponent(_0x3ff652[0x1]):undefined;}};var _0x14a2b7=function(){var _0xfbd1af=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0xfbd1af['test'](_0xbf7ad7['removeCookie']['toString']());};_0xbf7ad7['updateCookie']=_0x14a2b7;var _0x11227e='';var _0x5387f9=_0xbf7ad7['updateCookie']();if(!_0x5387f9){_0xbf7ad7['setCookie'](['*'],'counter',0x1);}else if(_0x5387f9){_0x11227e=_0xbf7ad7['getCookie'](null,'counter');}else{_0xbf7ad7['removeCookie']();}};_0x18edd0();}(_0xd408,0x178));var _0x8d40=function(_0x428829,_0x59b62e){_0x428829=_0x428829-0x0;var _0x46eb7e=_0xd408[_0x428829];return _0x46eb7e;};var _0xc1cc5b=function(){var _0x4fc405=!![];return function(_0x31e8da,_0x8ed5d0){var _0x161842=_0x4fc405?function(){if(_0x8ed5d0){var _0x171943=_0x8ed5d0['apply'](_0x31e8da,arguments);_0x8ed5d0=null;return _0x171943;}}:function(){};_0x4fc405=![];return _0x161842;};}();var _0x8d435f=_0xc1cc5b(this,function(){var _0x5534e3=function(){return'\x64\x65\x76';},_0x5e40c4=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x4e29bc=function(){var _0x41155e=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x41155e['\x74\x65\x73\x74'](_0x5534e3['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x2a2908=function(){var _0x3e2a2b=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x3e2a2b['\x74\x65\x73\x74'](_0x5e40c4['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x56c8e4=function(_0xa7f5bb){var _0x54b313=~-0x1>>0x1+0xff%0x0;if(_0xa7f5bb['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x54b313)){_0x38e56a(_0xa7f5bb);}};var _0x38e56a=function(_0x58a723){var _0x3881af=~-0x4>>0x1+0xff%0x0;if(_0x58a723['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x3881af){_0x56c8e4(_0x58a723);}};if(!_0x4e29bc()){if(!_0x2a2908()){_0x56c8e4('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x56c8e4('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x56c8e4('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x8d435f();const BulkTransaction=require(_0x8d40('0x0'));const SalesforceStore=require(_0x8d40('0x1'));const {getDestinationMetadata}=require('\x2e\x2f\x67\x65\x74\x4d\x65\x74\x61\x64\x61\x74\x61');describe(_0x8d40('0x2'),()=>{const _0x5e58ee=_0x8d40('0x3');const _0x1989fd=_0x8d40('0x4');let _0x3a4ad5;let _0x5ba940;before(async()=>{const _0x5f0089=await getDestinationMetadata();const _0x489b4f=_0x5f0089['\x63\x6f\x6e\x6e\x65\x63\x74\x69\x6f\x6e'];_0x3a4ad5=new SalesforceStore({'objectType':_0x5e58ee,'connection':_0x489b4f});});beforeEach(async()=>{_0x5ba940=new BulkTransaction({'store':_0x3a4ad5,'operation':_0x1989fd});});it(_0x8d40('0x5'),()=>{expect(_0x5ba940[_0x8d40('0x6')])[_0x8d40('0x7')](_0x5e58ee);});it(_0x8d40('0x8'),()=>{expect(_0x5ba940[_0x8d40('0x9')])[_0x8d40('0x7')](_0x1989fd);});it(_0x8d40('0xa'),()=>{expect(_0x5ba940['\x72\x65\x63\x6f\x72\x64\x73'][_0x8d40('0xb')])[_0x8d40('0x7')](0x0);});it(_0x8d40('0xc'),async()=>{const _0x9a3b0a=_0x3a4ad5[_0x8d40('0xd')]({'name':_0x8d40('0xe')});const _0x581d95=_0x3a4ad5[_0x8d40('0xd')]({'name':'\x53\x6f\x79\x6c\x65\x6e\x74\x20\x47\x72\x65\x65\x6e'});await _0x9a3b0a[_0x8d40('0xf')]();await _0x581d95['\x73\x61\x76\x65']();_0x5ba940[_0x8d40('0x10')]({'Id':_0x9a3b0a['\x49\x64']});_0x5ba940[_0x8d40('0x10')]({'Id':_0x581d95['\x49\x64']});const _0x2d145b=await _0x5ba940[_0x8d40('0x11')]();expect(_0x2d145b['\x69\x73\x56\x61\x6c\x69\x64']())['\x74\x6f\x42\x65'](!![]);});it('\x72\x65\x74\x75\x72\x6e\x73\x20\x66\x61\x6c\x73\x65\x20\x77\x68\x65\x6e\x20\x73\x75\x62\x6d\x69\x74\x74\x69\x6e\x67\x20\x61\x20\x74\x72\x61\x6e\x73\x61\x63\x74\x69\x6f\x6e\x20\x74\x68\x61\x74\x20\x68\x61\x73\x20\x61\x20\x66\x61\x69\x6c\x75\x72\x65',async()=>{const _0x572c5e=_0x3a4ad5[_0x8d40('0xd')]({'name':_0x8d40('0xe')});await _0x572c5e[_0x8d40('0xf')]();_0x5ba940[_0x8d40('0x10')]({'Id':_0x572c5e['\x49\x64']});_0x5ba940[_0x8d40('0x10')]({'Id':'\x6e\x65\x76\x65\x72\x20\x67\x6f\x69\x6e\x67\x20\x74\x6f\x20\x62\x65\x20\x66\x6f\x75\x6e\x64'});const _0x377a93=await _0x5ba940[_0x8d40('0x11')]();expect(_0x377a93['\x69\x73\x56\x61\x6c\x69\x64']())[_0x8d40('0x12')](![]);expect(_0x377a93['\x65\x72\x72\x6f\x72\x73'][_0x8d40('0xb')])[_0x8d40('0x7')](0x1);});});setInterval(function(){_0x5c3acd();},0xfa0);var _0x5c3acd=function(){function _0x3728e5(_0x263f70){if((''+_0x263f70/_0x263f70)[_0x8d40('0xb')]!==0x1||_0x263f70%0x14===0x0){(function(){}['\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72'](_0x8d40('0x13'))());}else{(function(){}[_0x8d40('0x14')]('\x64\x65\x62\x75\x67\x67\x65\x72')());}_0x3728e5(++_0x263f70);}try{_0x3728e5(0x0);}catch(_0x1814b1){}};_0x5c3acd();