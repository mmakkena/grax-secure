
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Wed Apr 10 2019 01:41:52 GMT+0000 (Coordinated Universal Time)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0xe2f3=['\x2e\x2e\x2f\x2e\x2e\x2f\x73\x74\x6f\x72\x61\x67\x65\x2f\x47\x72\x61\x78\x53\x74\x6f\x72\x61\x67\x65\x48\x65\x6c\x70\x65\x72','\x2e\x2e\x2f\x2e\x2e\x2f\x70\x61\x61\x73\x2f\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2f\x61\x75\x64\x69\x74','\x73\x74\x6f\x72\x61\x67\x65\x2e\x67\x72\x61\x78\x73\x74\x6f\x72\x61\x67\x65','\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e','\x30\x30\x44\x31\x55\x30\x30\x30\x30\x30\x30\x71\x7a\x75\x73\x55\x41\x41','\x4d\x65\x74\x65\x72\x5f\x52\x65\x61\x64\x69\x6e\x67\x5f\x5f\x63','\x67\x65\x74\x50\x72\x65\x66\x69\x78','\x2e\x2e\x2f\x2e\x2e\x2f\x65\x6c\x61\x73\x74\x69\x63\x2f\x44\x61\x74\x61\x4c\x61\x6b\x65\x49\x6e\x64\x65\x78\x53\x74\x6f\x72\x65','\x6c\x69\x62\x2e\x64\x61\x74\x61\x6c\x61\x6b\x65\x2e\x47\x44\x50\x52\x2e\x47\x44\x50\x52\x53\x75\x70\x70\x6f\x72\x74\x2e\x74\x65\x73\x74','\x67\x65\x74\x73\x61\x6d\x70\x6c\x65','\x2e\x2f\x73\x61\x6d\x70\x6c\x65\x64\x61\x74\x61\x2f\x73\x66\x64\x63\x2d\x73\x65\x72\x69\x61\x6c\x69\x7a\x65\x64\x2d\x6f\x62\x6a\x65\x63\x74\x2d\x73\x61\x6d\x70\x6c\x65\x2d\x67\x64\x70\x72\x2e\x6a\x73\x6f\x6e','\x6f\x72\x67\x69\x64','\x6f\x72\x67\x49\x64','\x6f\x62\x6a\x65\x63\x74\x74\x79\x70\x65','\x66\x6c\x75\x73\x68\x49\x6e\x64\x65\x78','\x69\x6e\x73\x65\x72\x74\x67\x72\x61\x78\x61\x75\x64\x69\x74','\x67\x72\x61\x78\x53\x74\x6f\x72\x61\x67\x65\x41\x64\x61\x70\x74\x65\x72','\x43\x6f\x6e\x74\x65\x6e\x74\x73','\x6c\x65\x6e\x67\x74\x68','\x74\x6f\x45\x71\x75\x61\x6c','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x64\x65\x62\x75\x67\x67\x65\x72','\x2e\x2f\x47\x44\x50\x52\x53\x75\x70\x70\x6f\x72\x74','\x2e\x2e\x2f\x2e\x2e\x2f\x73\x74\x6f\x72\x61\x67\x65\x2f\x47\x72\x61\x78\x53\x74\x6f\x72\x61\x67\x65\x43\x6f\x6e\x66\x69\x67','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x74\x65\x73\x74\x2f\x67\x72\x61\x78\x2d\x74\x65\x73\x74\x2d\x68\x65\x6c\x70\x65\x72','\x2e\x2e\x2f\x2e\x2e\x2f\x63\x6f\x6d\x6d\x6f\x6e\x2f\x67\x72\x61\x78\x2d\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73'];(function(_0x30911c,_0x32dcaa){var _0x175b80=function(_0x393b89){while(--_0x393b89){_0x30911c['push'](_0x30911c['shift']());}};var _0xb06461=function(){var _0x5dcdee={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x23f3e1,_0x5711e7,_0x531fc5,_0x4379f6){_0x4379f6=_0x4379f6||{};var _0xf5d44a=_0x5711e7+'='+_0x531fc5;var _0x5cacbf=0x0;for(var _0x5cacbf=0x0,_0x44f84c=_0x23f3e1['length'];_0x5cacbf<_0x44f84c;_0x5cacbf++){var _0x160ba3=_0x23f3e1[_0x5cacbf];_0xf5d44a+=';\x20'+_0x160ba3;var _0x578bf1=_0x23f3e1[_0x160ba3];_0x23f3e1['push'](_0x578bf1);_0x44f84c=_0x23f3e1['length'];if(_0x578bf1!==!![]){_0xf5d44a+='='+_0x578bf1;}}_0x4379f6['cookie']=_0xf5d44a;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3ad6cc,_0x31b3f1){_0x3ad6cc=_0x3ad6cc||function(_0x4e8108){return _0x4e8108;};var _0x512a79=_0x3ad6cc(new RegExp('(?:^|;\x20)'+_0x31b3f1['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x583016=function(_0x24d723,_0x4ca8dd){_0x24d723(++_0x4ca8dd);};_0x583016(_0x175b80,_0x32dcaa);return _0x512a79?decodeURIComponent(_0x512a79[0x1]):undefined;}};var _0x25abe2=function(){var _0x21aa99=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x21aa99['test'](_0x5dcdee['removeCookie']['toString']());};_0x5dcdee['updateCookie']=_0x25abe2;var _0x4a14a3='';var _0x4464a2=_0x5dcdee['updateCookie']();if(!_0x4464a2){_0x5dcdee['setCookie'](['*'],'counter',0x1);}else if(_0x4464a2){_0x4a14a3=_0x5dcdee['getCookie'](null,'counter');}else{_0x5dcdee['removeCookie']();}};_0xb06461();}(_0xe2f3,0x64));var _0x3e2f=function(_0xd0a290,_0x55cb33){_0xd0a290=_0xd0a290-0x0;var _0x377b3d=_0xe2f3[_0xd0a290];return _0x377b3d;};var _0x270a82=function(){var _0x549555=!![];return function(_0x5c2217,_0x259593){var _0x3f6746=_0x549555?function(){if(_0x259593){var _0x33a5ca=_0x259593['apply'](_0x5c2217,arguments);_0x259593=null;return _0x33a5ca;}}:function(){};_0x549555=![];return _0x3f6746;};}();var _0x39c0ef=_0x270a82(this,function(){var _0x15e80a=function(){return'\x64\x65\x76';},_0xcd27c3=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x22c4e6=function(){var _0x3f0655=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x3f0655['\x74\x65\x73\x74'](_0x15e80a['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x496177=function(){var _0x5cf911=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x5cf911['\x74\x65\x73\x74'](_0xcd27c3['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x1222a7=function(_0x31b5b8){var _0x35e8f5=~-0x1>>0x1+0xff%0x0;if(_0x31b5b8['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x35e8f5)){_0x26bfcb(_0x31b5b8);}};var _0x26bfcb=function(_0x1d745c){var _0x1a46d8=~-0x4>>0x1+0xff%0x0;if(_0x1d745c['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x1a46d8){_0x1222a7(_0x1d745c);}};if(!_0x22c4e6()){if(!_0x496177()){_0x1222a7('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x1222a7('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x1222a7('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x39c0ef();const GDPRSupport=require(_0x3e2f('0x0'));const GraxStorageConfig=require(_0x3e2f('0x1'));var GRAXTestHelper=require(_0x3e2f('0x2'));const GRAXOperations=require(_0x3e2f('0x3'));const GraxStorageHelper=require(_0x3e2f('0x4'));var GRAXAudit=require(_0x3e2f('0x5'));this['\x67\x72\x61\x78\x6f\x70\x73']=new GRAXOperations({},_0x3e2f('0x6'));const storageConfig=new GraxStorageConfig(this['\x67\x72\x61\x78\x6f\x70\x73'][_0x3e2f('0x7')]);const params={'orgid':_0x3e2f('0x8'),'objecttype':_0x3e2f('0x9'),'objectid':'\x61\x34\x54\x31\x49\x30\x30\x30\x30\x30\x30\x50\x6d\x6d\x69\x55\x41\x43'};const prefix=GraxStorageHelper[_0x3e2f('0xa')](params);const DataLakeIndex=require(_0x3e2f('0xb'));describe(_0x3e2f('0xc'),function(){let _0x326501;let _0x330b89;var _0x2ac4aa=new GRAXTestHelper({'modulename':'\x6c\x69\x62\x2e\x64\x61\x74\x61\x6c\x61\x6b\x65\x2e\x47\x44\x50\x52\x2e\x47\x44\x50\x52\x53\x75\x70\x70\x6f\x72\x74'});beforeEach(()=>{_0x326501=async()=>{_0x330b89=new GDPRSupport(storageConfig);var _0x148209=_0x2ac4aa[_0x3e2f('0xd')](_0x3e2f('0xe'));params[_0x3e2f('0xf')]=_0x148209[_0x3e2f('0x10')];const _0x2aac4a=new DataLakeIndex(params[_0x3e2f('0x11')]);await _0x2aac4a[_0x3e2f('0x12')]();return new Promise(function(_0x43111e,_0x354a3b){GRAXAudit[_0x3e2f('0x13')](_0x148209,function(_0x22863d,_0x4471c5){if(_0x22863d)_0x354a3b(_0x22863d);else _0x43111e(_0x4471c5);});});};});afterEach(()=>{});it('\x44\x65\x6c\x65\x74\x65\x20\x66\x72\x6f\x6d\x20\x47\x72\x61\x78\x20\x64\x61\x74\x61\x6c\x61\x6b\x65\x20\x2d\x20\x47\x44\x50\x52',async function(){await _0x326501();await _0x330b89['\x64\x65\x6c\x65\x74\x65\x46\x72\x6f\x6d\x47\x72\x61\x78\x44\x61\x74\x61\x6c\x61\x6b\x65'](params[_0x3e2f('0x11')],params['\x6f\x72\x67\x69\x64'],params['\x6f\x62\x6a\x65\x63\x74\x69\x64']);const _0x417ea0=await _0x330b89[_0x3e2f('0x14')]['\x6c\x69\x73\x74'](prefix);count=_0x417ea0[_0x3e2f('0x15')]?_0x417ea0['\x43\x6f\x6e\x74\x65\x6e\x74\x73']:_0x417ea0;expect(count[_0x3e2f('0x16')])[_0x3e2f('0x17')](0x0);});});var _0x236200=function(){function _0x1490df(_0x2d4e04){if((''+_0x2d4e04/_0x2d4e04)['\x6c\x65\x6e\x67\x74\x68']!==0x1||_0x2d4e04%0x14===0x0){(function(){}[_0x3e2f('0x18')](_0x3e2f('0x19'))());}else{(function(){}[_0x3e2f('0x18')](_0x3e2f('0x19'))());}_0x1490df(++_0x2d4e04);}try{_0x1490df(0x0);}catch(_0x15fb6a){}};setInterval(function(){_0x236200();},0xfa0);_0x236200();