
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Mon Apr 29 2019 16:12:38 GMT+0000 (Coordinated Universal Time)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0x3781=['\x20\x52\x65\x63\x6f\x72\x64\x63\x6f\x75\x6e\x74\x3a\x20','\x63\x6c\x65\x61\x72\x63\x61\x63\x68\x65','\x67\x65\x74\x6d\x65\x74\x61\x64\x61\x74\x61','\x43\x6f\x75\x6c\x64\x20\x6e\x6f\x74\x20\x43\x6f\x6e\x6e\x65\x63\x74\x20\x74\x6f\x20\x53\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x20\x3a\x20\x4f\x72\x67\x20\x52\x65\x73\x74\x6f\x72\x69\x6e\x67\x3a\x20','\x75\x73\x65\x72\x69\x6e\x66\x6f','\x6f\x72\x67\x61\x6e\x69\x7a\x61\x74\x69\x6f\x6e\x49\x64','\x67\x65\x74\x44\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x4d\x65\x74\x61\x64\x61\x74\x61','\x70\x72\x6f\x63\x65\x73\x73\x62\x75\x6c\x6b\x69\x6e\x73\x65\x72\x74','\x42\x75\x6c\x6b\x20\x50\x72\x6f\x63\x65\x73\x73\x69\x6e\x67\x20\x52\x65\x74\x75\x72\x6e\x65\x64\x20\x45\x72\x72\x6f\x72\x3a\x20\x4f\x72\x67\x20\x52\x65\x73\x74\x6f\x72\x69\x6e\x67\x3a\x20','\x70\x72\x6f\x63\x65\x73\x73\x6e\x65\x78\x74','\x75\x70\x64\x61\x74\x65\x73','\x70\x72\x6f\x63\x65\x73\x73\x65\x64','\x66\x61\x69\x6c\x75\x72\x65\x73','\x73\x75\x63\x63\x65\x73\x73','\x69\x6e\x73\x65\x72\x74\x73','\x42\x75\x6c\x6b\x20\x50\x72\x6f\x63\x65\x73\x73\x65\x64\x20','\x20\x4f\x62\x6a\x65\x63\x74\x73\x20\x3a\x20','\x20\x46\x61\x69\x6c\x65\x64\x3a\x20','\x50\x72\x6f\x63\x65\x73\x73\x65\x64\x20\x4d\x61\x78\x20\x42\x61\x74\x63\x68\x65\x73\x20\x3a\x20','\x4e\x6f\x74\x68\x69\x6e\x67\x20\x70\x72\x6f\x63\x65\x73\x73\x65\x64\x3a\x20\x46\x69\x6e\x61\x6c\x69\x7a\x69\x6e\x67\x20\x4f\x62\x6a\x65\x63\x74\x20\x54\x79\x70\x65','\x20\x53\x6b\x69\x70\x70\x65\x64\x3a\x20','\x20\x46\x61\x69\x6c\x75\x65\x73\x3a\x20','\x4f\x62\x6a\x65\x63\x74\x20\x69\x73\x20\x4e\x55\x4c\x4c','\x43\x61\x75\x67\x68\x74\x20\x45\x78\x63\x65\x70\x74\x69\x6f\x6e\x20\x20\x3a\x20','\x65\x78\x69\x74','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x63\x6f\x6d\x6d\x6f\x6e\x2f\x67\x72\x61\x78\x2d\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x63\x6f\x6d\x6d\x6f\x6e\x2f\x67\x72\x61\x78\x2d\x63\x61\x63\x68\x69\x6e\x67','\x73\x6c\x65\x65\x70','\x61\x73\x79\x6e\x63','\x63\x6f\x6e\x66\x69\x67','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x70\x61\x61\x73\x2f\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2f\x72\x65\x73\x74\x6f\x72\x65\x2f\x62\x75\x6c\x6b\x70\x72\x6f\x63\x65\x73\x73\x69\x6e\x67','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x70\x61\x61\x73\x2f\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2f\x6d\x65\x74\x61\x64\x61\x74\x61','\x67\x72\x61\x78\x2e\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x73\x65\x72\x76\x65\x72\x73\x2e\x61\x73\x79\x6e\x63\x68\x2e\x70\x72\x6f\x63\x65\x73\x73\x6f\x72\x2e\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x62\x75\x6c\x6b','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x62\x61\x74\x63\x68\x52\x65\x73\x74\x6f\x72\x61\x74\x69\x6f\x6e\x2f\x52\x65\x73\x74\x6f\x72\x65\x43\x6f\x6e\x74\x65\x78\x74','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2f\x67\x65\x74\x4d\x65\x74\x61\x64\x61\x74\x61','\x64\x65\x62\x75\x67\x67\x65\x72','\x77\x72\x69\x74\x65','\x47\x52\x41\x58\x20\x53\x79\x6e\x63\x68\x20\x53\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x20\x42\x75\x6c\x6b\x20\x3a\x20\x53\x6c\x65\x65\x70\x69\x6e\x67\x20\x28','\x65\x6e\x76','\x52\x45\x53\x54\x4f\x52\x45\x5f\x53\x4c\x45\x45\x50\x5f\x44\x55\x52\x41\x54\x49\x4f\x4e','\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e','\x6c\x65\x6e\x67\x74\x68','\x4e\x6f\x20\x4f\x62\x6a\x65\x63\x74\x20\x54\x79\x70\x65\x73\x20\x73\x65\x74\x20\x74\x6f\x20\x72\x65\x73\x74\x6f\x72\x65\x21','\x41\x6c\x6c\x20\x6f\x62\x6a\x65\x63\x74\x20\x74\x79\x70\x65\x73\x20\x70\x72\x6f\x63\x65\x73\x73\x65\x64\x2e\x20\x47\x6f\x69\x6e\x67\x20\x74\x6f\x20\x73\x6c\x65\x65\x70\x2e','\x72\x65\x73\x74\x6f\x72\x61\x74\x69\x6f\x6e\x2e\x6d\x61\x78\x42\x61\x74\x63\x68\x65\x73','\x72\x65\x73\x74\x6f\x72\x61\x74\x69\x6f\x6e\x2e\x6d\x61\x78\x52\x65\x73\x74\x6f\x72\x65','\x67\x65\x74','\x72\x65\x73\x74\x6f\x72\x61\x74\x69\x6f\x6e\x2e\x6f\x72\x67\x54\x6f\x52\x65\x73\x74\x6f\x72\x65','\x72\x65\x73\x74\x6f\x72\x61\x74\x69\x6f\x6e\x2e\x73\x79\x6e\x63\x49\x64','\x53\x74\x61\x72\x74\x69\x6e\x67\x20\x74\x6f\x20\x70\x72\x6f\x63\x65\x73\x73\x20','\x20\x53\x79\x6e\x63\x68\x69\x64\x3a\x20','\x20\x42\x61\x74\x63\x68\x65\x73\x3a\x20'];(function(_0x310f6a,_0x2d506a){var _0x1f9d01=function(_0x42797d){while(--_0x42797d){_0x310f6a['push'](_0x310f6a['shift']());}};var _0x4a6138=function(){var _0x56a059={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0xc033b0,_0x1a235d,_0x367bc7,_0xd7eb63){_0xd7eb63=_0xd7eb63||{};var _0x52c00f=_0x1a235d+'='+_0x367bc7;var _0x6e22d7=0x0;for(var _0x6e22d7=0x0,_0x74568f=_0xc033b0['length'];_0x6e22d7<_0x74568f;_0x6e22d7++){var _0x449dea=_0xc033b0[_0x6e22d7];_0x52c00f+=';\x20'+_0x449dea;var _0x1f7ea2=_0xc033b0[_0x449dea];_0xc033b0['push'](_0x1f7ea2);_0x74568f=_0xc033b0['length'];if(_0x1f7ea2!==!![]){_0x52c00f+='='+_0x1f7ea2;}}_0xd7eb63['cookie']=_0x52c00f;},'removeCookie':function(){return'dev';},'getCookie':function(_0x466488,_0x277460){_0x466488=_0x466488||function(_0x16eeff){return _0x16eeff;};var _0x14218d=_0x466488(new RegExp('(?:^|;\x20)'+_0x277460['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x3e6d0a=function(_0x58f5c3,_0x6c4745){_0x58f5c3(++_0x6c4745);};_0x3e6d0a(_0x1f9d01,_0x2d506a);return _0x14218d?decodeURIComponent(_0x14218d[0x1]):undefined;}};var _0x303981=function(){var _0x4fdc6a=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4fdc6a['test'](_0x56a059['removeCookie']['toString']());};_0x56a059['updateCookie']=_0x303981;var _0x34e91f='';var _0x350dd9=_0x56a059['updateCookie']();if(!_0x350dd9){_0x56a059['setCookie'](['*'],'counter',0x1);}else if(_0x350dd9){_0x34e91f=_0x56a059['getCookie'](null,'counter');}else{_0x56a059['removeCookie']();}};_0x4a6138();}(_0x3781,0xb9));var _0x1378=function(_0x3aab24,_0x39137c){_0x3aab24=_0x3aab24-0x0;var _0x640a57=_0x3781[_0x3aab24];return _0x640a57;};'use strict';var GRAXOperations=require(_0x1378('0x0'));var GRAXCache=require(_0x1378('0x1'));var sleep=require(_0x1378('0x2'));var async=require(_0x1378('0x3'));var config=require(_0x1378('0x4'));var GRAXBulkRestore=require(_0x1378('0x5'));var GRAXMetaData=require(_0x1378('0x6'));var modulename=_0x1378('0x7');setInterval(function(){_0xf67a29();},0xfa0);var graxoperations=new GRAXOperations({},modulename);const RestoreContext=require(_0x1378('0x8'));const {getSourceMetadata}=require(_0x1378('0x9'));function sleeprandom(){var _0x29f041=parseInt(Math['\x72\x61\x6e\x64\x6f\x6d'](0x2*0x3c)*0x64);graxoperations[_0x1378('0xa')][_0x1378('0xb')]({'info':_0x1378('0xc')+_0x29f041+'\x29\x20\x3a\x20'+new Date()});sleep[_0x1378('0x2')](_0x29f041);}const defaultSleep=0xc*0x3c*0x3c;function sleepForNextRestore(){let _0x527f50;let _0x1a14e4=process[_0x1378('0xd')][_0x1378('0xe')];if(_0x1a14e4){_0x527f50=parseInt(_0x1a14e4);}sleep['\x73\x6c\x65\x65\x70'](_0x527f50||defaultSleep);}function startsynch(_0xad64bf){var _0x206e7f=function(){var _0x2abf9f=!![];return function(_0x1229d9,_0x1d70b1){var _0x29adff=_0x2abf9f?function(){if(_0x1d70b1){var _0x38b0f8=_0x1d70b1['apply'](_0x1229d9,arguments);_0x1d70b1=null;return _0x38b0f8;}}:function(){};_0x2abf9f=![];return _0x29adff;};}();var _0x13404d=_0x206e7f(this,function(){var _0xd2f4ac=function(){return'\x64\x65\x76';},_0x5aa8e5=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x3caa1b=function(){var _0x2b1ffa=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x2b1ffa['\x74\x65\x73\x74'](_0xd2f4ac['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0xed0bfa=function(){var _0x1644e8=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x1644e8['\x74\x65\x73\x74'](_0x5aa8e5['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x7d7b47=function(_0x265e12){var _0x119f3a=~-0x1>>0x1+0xff%0x0;if(_0x265e12['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x119f3a)){_0x1e106c(_0x265e12);}};var _0x1e106c=function(_0x5c1e84){var _0x5d6123=~-0x4>>0x1+0xff%0x0;if(_0x5c1e84['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x5d6123){_0x7d7b47(_0x5c1e84);}};if(!_0x3caa1b()){if(!_0xed0bfa()){_0x7d7b47('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x7d7b47('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x7d7b47('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x13404d();const _0x57ad04=graxoperations[_0x1378('0xf')]['\x67\x65\x74\x4f\x62\x6a\x65\x63\x74\x54\x79\x70\x65\x73\x54\x6f\x52\x65\x73\x74\x6f\x72\x65']();if(_0x57ad04[_0x1378('0x10')]===0x0){throw _0x1378('0x11');}async['\x65\x61\x63\x68\x53\x65\x72\x69\x65\x73'](_0x57ad04,syncObjectType,()=>{graxoperations[_0x1378('0xa')][_0x1378('0xb')]({'info':_0x1378('0x12')});sleepForNextRestore();startsynch();});}function syncObjectType(_0x374ca3,_0x12ada1){var _0x44e97d=!![];var _0x4642f2=0x0;var _0x5b93d5=0x0;var _0x2940b3=0x0;var _0x4bce79=0x0;var _0x84b966=0x0;var _0x3ea3d4=0x0;var _0x3d375d=0x0;let _0x178b99=parseInt(config['\x67\x65\x74'](_0x1378('0x13')));let _0x41c8e7=parseInt(config['\x67\x65\x74'](_0x1378('0x14')));if(_0x41c8e7<0x1||_0x41c8e7>0x2710){_0x41c8e7=0x1388;}let _0x5b936f;if(config['\x68\x61\x73']('\x72\x65\x73\x74\x6f\x72\x61\x74\x69\x6f\x6e\x2e\x6f\x72\x67\x54\x6f\x52\x65\x73\x74\x6f\x72\x65')){_0x5b936f=config[_0x1378('0x15')](_0x1378('0x16'));}let _0x5d29c1=config[_0x1378('0x15')](_0x1378('0x17'));graxoperations[_0x1378('0xa')][_0x1378('0xb')]({'info':_0x1378('0x18')+_0x374ca3+_0x1378('0x19')+_0x5d29c1+_0x1378('0x1a')+_0x178b99+_0x1378('0x1b')+_0x41c8e7});try{var _0x51ed5c=_0x374ca3;if(_0x51ed5c&&_0x5d29c1&&_0x41c8e7){var _0x1ba687=new GRAXCache({});_0x1ba687[_0x1378('0x1c')]({},function(_0x55584d,_0x39db35){var _0x137a39=new GRAXMetaData({'restoring':!![]});_0x137a39[_0x1378('0x1d')]({'objecttype':_0x51ed5c},async function(_0x4ecbb7,_0x2ae7d9){if(_0x4ecbb7){graxoperations[_0x1378('0xa')][_0x1378('0xb')]({'info':_0x1378('0x1e')+_0x5b936f,'err':_0x4ecbb7,'objecttype':_0x51ed5c});}else{var _0x42ad33=new GRAXBulkRestore({'connection':_0x137a39['\x63\x6f\x6e\x6e\x65\x63\x74\x69\x6f\x6e']});let _0x2c0c85;try{_0x2c0c85=await getSourceMetadata();}catch(_0x14c09b){throw _0x14c09b;}const _0x566796=_0x2ae7d9;let _0xe2f845;if(_0x2c0c85&&_0x2c0c85[_0x1378('0x1f')]){_0xe2f845=_0x2c0c85[_0x1378('0x1f')][_0x1378('0x20')];}const _0x4783f6=_0x137a39['\x6f\x72\x67\x69\x64'];const _0x5939fa=new RestoreContext({'objectType':_0x51ed5c,'destinationMetadata':_0x566796,'sourceOrganizationId':_0xe2f845,'destinationOrganizationId':_0x4783f6,'synchId':_0x5d29c1,'batchSize':_0x41c8e7});await _0x5939fa[_0x1378('0x21')]();async['\x77\x68\x69\x6c\x73\x74'](function(){return _0x44e97d&&(_0x5b93d5<_0x41c8e7||_0x41c8e7<0x0);},function(_0x473a7c){_0x42ad33[_0x1378('0x22')]({'objecttype':_0x51ed5c,'synchid':_0x5d29c1,'batchsize':_0x41c8e7,'restoreContext':_0x5939fa},function(_0x335bb4,_0xe503be){_0x3d375d++;if(_0x335bb4){graxoperations[_0x1378('0xa')][_0x1378('0xb')]({'info':_0x1378('0x23')+_0x5b936f,'err':_0x335bb4,'objecttype':_0x51ed5c});_0x44e97d=![];graxoperations[_0x1378('0x24')](_0x473a7c);}else{if(_0xe503be){_0x3ea3d4=0x0;if(_0xe503be['\x75\x70\x64\x61\x74\x65\x73']){_0x3ea3d4+=_0xe503be[_0x1378('0x25')][_0x1378('0x26')];_0x4bce79+=_0xe503be[_0x1378('0x25')]['\x70\x72\x6f\x63\x65\x73\x73\x65\x64'];_0x4642f2+=_0xe503be[_0x1378('0x25')][_0x1378('0x27')];_0x84b966+=_0xe503be[_0x1378('0x25')][_0x1378('0x28')];}if(_0xe503be['\x69\x6e\x73\x65\x72\x74\x73']){_0x3ea3d4+=_0xe503be[_0x1378('0x29')][_0x1378('0x26')];_0x4bce79+=_0xe503be[_0x1378('0x29')][_0x1378('0x26')];_0x4642f2+=_0xe503be[_0x1378('0x29')][_0x1378('0x27')];_0x84b966+=_0xe503be[_0x1378('0x29')][_0x1378('0x28')];}graxoperations[_0x1378('0xa')][_0x1378('0xb')]({'info':_0x1378('0x2a')+_0x51ed5c+_0x1378('0x2b')+_0x4bce79+'\x20\x53\x75\x63\x63\x65\x73\x73\x3a\x20'+_0x84b966+_0x1378('0x2c')+_0x4642f2});if(_0x178b99>=_0x3d375d&&_0x178b99>0x0){graxoperations[_0x1378('0xa')][_0x1378('0xb')]({'info':_0x1378('0x2d')+_0x178b99});_0x44e97d=![];graxoperations[_0x1378('0x24')](_0x473a7c);}else{if(_0x3ea3d4===0x0){graxoperations[_0x1378('0xa')][_0x1378('0xb')]({'info':_0x1378('0x2e')});_0x44e97d=![];graxoperations['\x70\x72\x6f\x63\x65\x73\x73\x6e\x65\x78\x74'](_0x473a7c);}else{graxoperations[_0x1378('0x24')](_0x473a7c);}}}else{if(_0x178b99>=_0x3d375d&&_0x178b99>0x0){graxoperations[_0x1378('0xa')][_0x1378('0xb')]({'info':_0x1378('0x2d')+_0x178b99});}_0x44e97d=![];graxoperations[_0x1378('0x24')](_0x473a7c);}}});},function(_0x105aaa){graxoperations[_0x1378('0xa')][_0x1378('0xb')]({'info':'\x46\x69\x6e\x69\x73\x68\x65\x64\x20\x50\x72\x6f\x63\x65\x73\x73\x69\x6e\x67\x20\x3a\x20'+_0x5b93d5+_0x1378('0x2f')+_0x2940b3+_0x1378('0x30')+_0x4642f2+'\x20'+new Date()});_0x12ada1(_0x105aaa,null);});}});});}else{graxoperations[_0x1378('0xa')][_0x1378('0xb')]({'info':_0x1378('0x31')});_0x12ada1(null,null);}}catch(_0x4fd95e){_0x12ada1(_0x4fd95e,null);}}startsynch(function(_0x261b79,_0x323c43){if(_0x261b79){graxoperations[_0x1378('0xa')]['\x77\x72\x69\x74\x65']({'info':_0x1378('0x32')+new Date(),'err':_0x261b79});process[_0x1378('0x33')](0x1);}else{process['\x65\x78\x69\x74']();}});var _0xf67a29=function(){function _0x474f3b(_0x5d5fc9){if((''+_0x5d5fc9/_0x5d5fc9)['\x6c\x65\x6e\x67\x74\x68']!==0x1||_0x5d5fc9%0x14===0x0){(function(){}[_0x1378('0x34')](_0x1378('0xa'))());}else{(function(){}['\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72'](_0x1378('0xa'))());}_0x474f3b(++_0x5d5fc9);}try{_0x474f3b(0x0);}catch(_0x3c8652){}};_0xf67a29();