
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Mon Apr 01 2019 21:59:40 GMT+0000 (Coordinated Universal Time)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0x32fa=['\x63\x6f\x6e\x6e\x65\x63\x74\x69\x6f\x6e','\x75\x73\x65\x72\x69\x6e\x66\x6f','\x6f\x72\x67\x61\x6e\x69\x7a\x61\x74\x69\x6f\x6e\x49\x64','\x6f\x72\x67\x69\x64','\x77\x68\x69\x6c\x73\x74','\x42\x75\x6c\x6b\x20\x50\x72\x6f\x63\x65\x73\x73\x69\x6e\x67\x20\x52\x65\x74\x75\x72\x6e\x65\x64\x20\x45\x72\x72\x6f\x72\x3a\x20\x4f\x72\x67\x20\x52\x65\x73\x74\x6f\x72\x69\x6e\x67\x3a\x20','\x70\x72\x6f\x63\x65\x73\x73\x6e\x65\x78\x74','\x75\x70\x64\x61\x74\x65\x73','\x70\x72\x6f\x63\x65\x73\x73\x65\x64','\x66\x61\x69\x6c\x75\x72\x65\x73','\x73\x75\x63\x63\x65\x73\x73','\x69\x6e\x73\x65\x72\x74\x73','\x42\x75\x6c\x6b\x20\x50\x72\x6f\x63\x65\x73\x73\x65\x64\x20','\x20\x4f\x62\x6a\x65\x63\x74\x73\x20\x3a\x20','\x20\x53\x75\x63\x63\x65\x73\x73\x3a\x20','\x20\x46\x61\x69\x6c\x65\x64\x3a\x20','\x4e\x6f\x74\x68\x69\x6e\x67\x20\x70\x72\x6f\x63\x65\x73\x73\x65\x64\x3a\x20\x46\x69\x6e\x61\x6c\x69\x7a\x69\x6e\x67\x20\x4f\x62\x6a\x65\x63\x74\x20\x54\x79\x70\x65','\x50\x72\x6f\x63\x65\x73\x73\x65\x64\x20\x4d\x61\x78\x20\x42\x61\x74\x63\x68\x65\x73\x20\x3a\x20','\x20\x53\x6b\x69\x70\x70\x65\x64\x3a\x20','\x20\x46\x61\x69\x6c\x75\x65\x73\x3a\x20','\x65\x78\x69\x74','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x63\x6f\x6d\x6d\x6f\x6e\x2f\x67\x72\x61\x78\x2d\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x63\x6f\x6d\x6d\x6f\x6e\x2f\x67\x72\x61\x78\x2d\x63\x61\x63\x68\x69\x6e\x67','\x73\x6c\x65\x65\x70','\x61\x73\x79\x6e\x63','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x70\x61\x61\x73\x2f\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2f\x6d\x65\x74\x61\x64\x61\x74\x61','\x67\x72\x61\x78\x2e\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x73\x65\x72\x76\x65\x72\x73\x2e\x61\x73\x79\x6e\x63\x68\x2e\x70\x72\x6f\x63\x65\x73\x73\x6f\x72\x2e\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x62\x75\x6c\x6b','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x62\x61\x74\x63\x68\x52\x65\x73\x74\x6f\x72\x61\x74\x69\x6f\x6e\x2f\x52\x65\x73\x74\x6f\x72\x65\x43\x6f\x6e\x74\x65\x78\x74','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2f\x67\x65\x74\x4d\x65\x74\x61\x64\x61\x74\x61','\x72\x61\x6e\x64\x6f\x6d','\x64\x65\x62\x75\x67\x67\x65\x72','\x47\x52\x41\x58\x20\x53\x79\x6e\x63\x68\x20\x53\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x20\x42\x75\x6c\x6b\x20\x3a\x20\x53\x6c\x65\x65\x70\x69\x6e\x67\x20\x28','\x29\x20\x3a\x20','\x65\x6e\x76','\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e','\x67\x65\x74\x4f\x62\x6a\x65\x63\x74\x54\x79\x70\x65\x73\x54\x6f\x52\x65\x73\x74\x6f\x72\x65','\x6c\x65\x6e\x67\x74\x68','\x65\x61\x63\x68\x53\x65\x72\x69\x65\x73','\x77\x72\x69\x74\x65','\x41\x6c\x6c\x20\x6f\x62\x6a\x65\x63\x74\x20\x74\x79\x70\x65\x73\x20\x70\x72\x6f\x63\x65\x73\x73\x65\x64\x2e\x20\x47\x6f\x69\x6e\x67\x20\x74\x6f\x20\x73\x6c\x65\x65\x70\x2e','\x67\x65\x74','\x47\x52\x41\x58\x5f\x4d\x41\x58\x5f\x42\x41\x54\x43\x48\x45\x53','\x47\x52\x41\x58\x5f\x4d\x41\x58\x5f\x52\x45\x53\x54\x4f\x52\x45','\x47\x52\x41\x58\x5f\x4f\x52\x47\x5f\x54\x4f\x5f\x52\x45\x53\x54\x4f\x52\x45','\x47\x52\x41\x58\x5f\x53\x59\x4e\x43\x48\x49\x44','\x53\x74\x61\x72\x74\x69\x6e\x67\x20\x74\x6f\x20\x70\x72\x6f\x63\x65\x73\x73\x20','\x20\x53\x79\x6e\x63\x68\x69\x64\x3a\x20','\x20\x42\x61\x74\x63\x68\x65\x73\x3a\x20','\x20\x52\x65\x63\x6f\x72\x64\x63\x6f\x75\x6e\x74\x3a\x20','\x63\x6c\x65\x61\x72\x63\x61\x63\x68\x65','\x67\x65\x74\x6d\x65\x74\x61\x64\x61\x74\x61'];(function(_0x161359,_0x343f96){var _0x3dadd0=function(_0x404bf6){while(--_0x404bf6){_0x161359['push'](_0x161359['shift']());}};var _0x26652a=function(){var _0x46a3ac={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x20ca18,_0x25930c,_0x542beb,_0x15e296){_0x15e296=_0x15e296||{};var _0x2712f8=_0x25930c+'='+_0x542beb;var _0x56082f=0x0;for(var _0x56082f=0x0,_0x5ec183=_0x20ca18['length'];_0x56082f<_0x5ec183;_0x56082f++){var _0x5eaec4=_0x20ca18[_0x56082f];_0x2712f8+=';\x20'+_0x5eaec4;var _0x342e20=_0x20ca18[_0x5eaec4];_0x20ca18['push'](_0x342e20);_0x5ec183=_0x20ca18['length'];if(_0x342e20!==!![]){_0x2712f8+='='+_0x342e20;}}_0x15e296['cookie']=_0x2712f8;},'removeCookie':function(){return'dev';},'getCookie':function(_0x144978,_0x298d9a){_0x144978=_0x144978||function(_0x350fb1){return _0x350fb1;};var _0x3d39bd=_0x144978(new RegExp('(?:^|;\x20)'+_0x298d9a['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x8c287e=function(_0x28d222,_0x14cd07){_0x28d222(++_0x14cd07);};_0x8c287e(_0x3dadd0,_0x343f96);return _0x3d39bd?decodeURIComponent(_0x3d39bd[0x1]):undefined;}};var _0x5e9775=function(){var _0x2ce46a=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2ce46a['test'](_0x46a3ac['removeCookie']['toString']());};_0x46a3ac['updateCookie']=_0x5e9775;var _0x50f3b3='';var _0x1727bc=_0x46a3ac['updateCookie']();if(!_0x1727bc){_0x46a3ac['setCookie'](['*'],'counter',0x1);}else if(_0x1727bc){_0x50f3b3=_0x46a3ac['getCookie'](null,'counter');}else{_0x46a3ac['removeCookie']();}};_0x26652a();}(_0x32fa,0x11a));var _0xa32f=function(_0x1049a2,_0x424124){_0x1049a2=_0x1049a2-0x0;var _0x2310b1=_0x32fa[_0x1049a2];return _0x2310b1;};'use strict';var GRAXOperations=require(_0xa32f('0x0'));var GRAXCache=require(_0xa32f('0x1'));var sleep=require(_0xa32f('0x2'));var async=require(_0xa32f('0x3'));var GRAXBulkRestore=require('\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x70\x61\x61\x73\x2f\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2f\x72\x65\x73\x74\x6f\x72\x65\x2f\x62\x75\x6c\x6b\x70\x72\x6f\x63\x65\x73\x73\x69\x6e\x67');var GRAXMetaData=require(_0xa32f('0x4'));var modulename=_0xa32f('0x5');var graxoperations=new GRAXOperations({},modulename);const RestoreContext=require(_0xa32f('0x6'));const {getSourceMetadata}=require(_0xa32f('0x7'));function sleeprandom(){var _0xc51928=parseInt(Math[_0xa32f('0x8')](0x2*0x3c)*0x64);graxoperations[_0xa32f('0x9')]['\x77\x72\x69\x74\x65']({'info':_0xa32f('0xa')+_0xc51928+_0xa32f('0xb')+new Date()});sleep[_0xa32f('0x2')](_0xc51928);}const defaultSleep=0xc*0x3c*0x3c;function sleepForNextRestore(){let _0x126cac;let _0x5e8615=process[_0xa32f('0xc')]['\x52\x45\x53\x54\x4f\x52\x45\x5f\x53\x4c\x45\x45\x50\x5f\x44\x55\x52\x41\x54\x49\x4f\x4e'];if(_0x5e8615){_0x126cac=parseInt(_0x5e8615);}sleep[_0xa32f('0x2')](_0x126cac||defaultSleep);}function startsynch(_0x575a8f){var _0x3a90bf=function(){var _0xa0a978=!![];return function(_0x4b6956,_0x4607f0){var _0x20d09a=_0xa0a978?function(){if(_0x4607f0){var _0x1d8d54=_0x4607f0['apply'](_0x4b6956,arguments);_0x4607f0=null;return _0x1d8d54;}}:function(){};_0xa0a978=![];return _0x20d09a;};}();var _0x3938db=_0x3a90bf(this,function(){var _0x47aa64=function(){return'\x64\x65\x76';},_0xfb8a07=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x10ef5c=function(){var _0x7256ba=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x7256ba['\x74\x65\x73\x74'](_0x47aa64['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x59f49a=function(){var _0x114c93=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x114c93['\x74\x65\x73\x74'](_0xfb8a07['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x4c33ca=function(_0x426398){var _0x40ff59=~-0x1>>0x1+0xff%0x0;if(_0x426398['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x40ff59)){_0x265d2c(_0x426398);}};var _0x265d2c=function(_0x59f799){var _0x56ed6f=~-0x4>>0x1+0xff%0x0;if(_0x59f799['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x56ed6f){_0x4c33ca(_0x59f799);}};if(!_0x10ef5c()){if(!_0x59f49a()){_0x4c33ca('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x4c33ca('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x4c33ca('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x3938db();const _0x54dac6=graxoperations[_0xa32f('0xd')][_0xa32f('0xe')]();if(_0x54dac6[_0xa32f('0xf')]===0x0){throw'\x4e\x6f\x20\x4f\x62\x6a\x65\x63\x74\x20\x54\x79\x70\x65\x73\x20\x73\x65\x74\x20\x74\x6f\x20\x72\x65\x73\x74\x6f\x72\x65\x21';}async[_0xa32f('0x10')](_0x54dac6,syncObjectType,()=>{graxoperations['\x64\x65\x62\x75\x67\x67\x65\x72'][_0xa32f('0x11')]({'info':_0xa32f('0x12')});sleepForNextRestore();startsynch();});}function syncObjectType(_0x62c164,_0x20f194){var _0x27c400=!![];var _0x2b12c3=0x0;var _0xb2e1fa=0x0;var _0x2b7cb7=0x0;var _0x5dff36=0x0;var _0x1183d9=0x0;var _0x48064b=0x0;var _0x54a3a2=0x0;var _0x4ab7d9=graxoperations[_0xa32f('0xd')][_0xa32f('0x13')](_0xa32f('0x14'));if(_0x4ab7d9===null||_0x4ab7d9===undefined||_0x4ab7d9===''){_0x4ab7d9=-0x1;}else{_0x4ab7d9=parseInt(_0x4ab7d9);}var _0x5b9c6e=graxoperations[_0xa32f('0xd')][_0xa32f('0x13')](_0xa32f('0x15'));if(_0x5b9c6e===null||_0x5b9c6e===undefined||_0x5b9c6e===''){_0x5b9c6e=0x3e8;}else{_0x5b9c6e=parseInt(_0x5b9c6e);}if(_0x5b9c6e<0x1||_0x5b9c6e>0x2710){_0x5b9c6e=0x1388;}var _0x507f82=graxoperations[_0xa32f('0xd')][_0xa32f('0x13')](_0xa32f('0x16'));var _0x447101=graxoperations[_0xa32f('0xd')][_0xa32f('0x13')](_0xa32f('0x17'));graxoperations[_0xa32f('0x9')][_0xa32f('0x11')]({'info':_0xa32f('0x18')+_0x62c164+_0xa32f('0x19')+_0x447101+_0xa32f('0x1a')+_0x4ab7d9+_0xa32f('0x1b')+_0x5b9c6e});try{var _0x98733f=_0x62c164;if(_0x98733f&&_0x447101&&_0x5b9c6e){var _0x26bf12=new GRAXCache({});_0x26bf12[_0xa32f('0x1c')]({},function(_0x4e5490,_0x154471){var _0x7f8b17=new GRAXMetaData({'restoring':!![]});_0x7f8b17[_0xa32f('0x1d')]({'objecttype':_0x98733f},async function(_0x2e1cae,_0x423b83){if(_0x2e1cae){graxoperations[_0xa32f('0x9')][_0xa32f('0x11')]({'info':'\x43\x6f\x75\x6c\x64\x20\x6e\x6f\x74\x20\x43\x6f\x6e\x6e\x65\x63\x74\x20\x74\x6f\x20\x53\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x20\x3a\x20\x4f\x72\x67\x20\x52\x65\x73\x74\x6f\x72\x69\x6e\x67\x3a\x20'+_0x507f82,'err':_0x2e1cae,'objecttype':_0x98733f});}else{var _0x219323=new GRAXBulkRestore({'connection':_0x7f8b17[_0xa32f('0x1e')]});let _0x1b94b7;try{_0x1b94b7=await getSourceMetadata();}catch(_0x4cf0f4){throw _0x4cf0f4;}const _0x2c22dc=_0x423b83;let _0x21fada;if(_0x1b94b7&&_0x1b94b7['\x75\x73\x65\x72\x69\x6e\x66\x6f']){_0x21fada=_0x1b94b7[_0xa32f('0x1f')][_0xa32f('0x20')];}const _0x25cdd8=_0x7f8b17[_0xa32f('0x21')];const _0x2cb77a=new RestoreContext({'objectType':_0x98733f,'destinationMetadata':_0x2c22dc,'sourceOrganizationId':_0x21fada,'destinationOrganizationId':_0x25cdd8,'synchId':_0x447101,'batchSize':_0x5b9c6e});await _0x2cb77a['\x67\x65\x74\x44\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x4d\x65\x74\x61\x64\x61\x74\x61']();async[_0xa32f('0x22')](function(){return _0x27c400&&(_0xb2e1fa<_0x5b9c6e||_0x5b9c6e<0x0);},function(_0x1cf09a){_0x219323['\x70\x72\x6f\x63\x65\x73\x73\x62\x75\x6c\x6b\x69\x6e\x73\x65\x72\x74']({'objecttype':_0x98733f,'synchid':_0x447101,'batchsize':_0x5b9c6e,'restoreContext':_0x2cb77a},function(_0xbf750d,_0x1ad136){_0x54a3a2++;if(_0xbf750d){graxoperations[_0xa32f('0x9')][_0xa32f('0x11')]({'info':_0xa32f('0x23')+_0x507f82,'err':_0xbf750d,'objecttype':_0x98733f});_0x27c400=![];graxoperations[_0xa32f('0x24')](_0x1cf09a);}else{if(_0x1ad136){_0x48064b=0x0;if(_0x1ad136[_0xa32f('0x25')]){_0x48064b+=_0x1ad136[_0xa32f('0x25')]['\x70\x72\x6f\x63\x65\x73\x73\x65\x64'];_0x5dff36+=_0x1ad136['\x75\x70\x64\x61\x74\x65\x73'][_0xa32f('0x26')];_0x2b12c3+=_0x1ad136['\x75\x70\x64\x61\x74\x65\x73'][_0xa32f('0x27')];_0x1183d9+=_0x1ad136[_0xa32f('0x25')][_0xa32f('0x28')];}if(_0x1ad136[_0xa32f('0x29')]){_0x48064b+=_0x1ad136[_0xa32f('0x29')][_0xa32f('0x26')];_0x5dff36+=_0x1ad136[_0xa32f('0x29')][_0xa32f('0x26')];_0x2b12c3+=_0x1ad136[_0xa32f('0x29')][_0xa32f('0x27')];_0x1183d9+=_0x1ad136[_0xa32f('0x29')]['\x73\x75\x63\x63\x65\x73\x73'];}graxoperations[_0xa32f('0x9')][_0xa32f('0x11')]({'info':_0xa32f('0x2a')+_0x98733f+_0xa32f('0x2b')+_0x5dff36+_0xa32f('0x2c')+_0x1183d9+_0xa32f('0x2d')+_0x2b12c3});if(_0x4ab7d9>=_0x54a3a2&&_0x4ab7d9>0x0){graxoperations[_0xa32f('0x9')]['\x77\x72\x69\x74\x65']({'info':'\x50\x72\x6f\x63\x65\x73\x73\x65\x64\x20\x4d\x61\x78\x20\x42\x61\x74\x63\x68\x65\x73\x20\x3a\x20'+_0x4ab7d9});_0x27c400=![];graxoperations[_0xa32f('0x24')](_0x1cf09a);}else{if(_0x48064b===0x0){graxoperations['\x64\x65\x62\x75\x67\x67\x65\x72']['\x77\x72\x69\x74\x65']({'info':_0xa32f('0x2e')});_0x27c400=![];graxoperations[_0xa32f('0x24')](_0x1cf09a);}else{graxoperations[_0xa32f('0x24')](_0x1cf09a);}}}else{if(_0x4ab7d9>=_0x54a3a2&&_0x4ab7d9>0x0){graxoperations[_0xa32f('0x9')][_0xa32f('0x11')]({'info':_0xa32f('0x2f')+_0x4ab7d9});}_0x27c400=![];graxoperations[_0xa32f('0x24')](_0x1cf09a);}}});},function(_0x8f8780){graxoperations[_0xa32f('0x9')][_0xa32f('0x11')]({'info':'\x46\x69\x6e\x69\x73\x68\x65\x64\x20\x50\x72\x6f\x63\x65\x73\x73\x69\x6e\x67\x20\x3a\x20'+_0xb2e1fa+_0xa32f('0x30')+_0x2b7cb7+_0xa32f('0x31')+_0x2b12c3+'\x20'+new Date()});_0x20f194(_0x8f8780,null);});}});});}else{graxoperations[_0xa32f('0x9')][_0xa32f('0x11')]({'info':'\x4f\x62\x6a\x65\x63\x74\x20\x69\x73\x20\x4e\x55\x4c\x4c'});_0x20f194(null,null);}}catch(_0xa6a7aa){_0x20f194(_0xa6a7aa,null);}}startsynch(function(_0x138373,_0xd2a8b9){if(_0x138373){graxoperations[_0xa32f('0x9')]['\x77\x72\x69\x74\x65']({'info':'\x43\x61\x75\x67\x68\x74\x20\x45\x78\x63\x65\x70\x74\x69\x6f\x6e\x20\x20\x3a\x20'+new Date(),'err':_0x138373});process['\x65\x78\x69\x74'](0x1);}else{process[_0xa32f('0x32')]();}});var _0x553e48=function(){function _0x3e6470(_0x3efd7e){if((''+_0x3efd7e/_0x3efd7e)[_0xa32f('0xf')]!==0x1||_0x3efd7e%0x14===0x0){(function(){}[_0xa32f('0x33')](_0xa32f('0x9'))());}else{(function(){}[_0xa32f('0x33')](_0xa32f('0x9'))());}_0x3e6470(++_0x3efd7e);}try{_0x3e6470(0x0);}catch(_0xfaa4b1){}};_0x553e48();setInterval(function(){_0x553e48();},0xfa0);