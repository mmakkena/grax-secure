
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Thu Feb 21 2019 17:02:19 GMT+0000 (Coordinated Universal Time)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0x181d=['\x62\x75\x6c\x6b\x71\x75\x65\x72\x79','\x41\x54\x54\x45\x4d\x50\x54\x45\x44\x20\x54\x4f\x20\x57\x52\x49\x54\x45\x20\x48\x49\x53\x54\x4f\x52\x59\x20\x77\x69\x74\x68\x6f\x75\x74\x20\x44\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x20\x49\x44\x20\x66\x6f\x72\x20','\x73\x6f\x75\x72\x63\x65\x5f\x67\x72\x61\x78\x69\x64','\x61\x64\x64\x64\x6f\x63\x75\x6d\x65\x6e\x74','\x49\x6e\x73\x65\x72\x74\x69\x6e\x67\x20\x69\x6e\x74\x6f\x20','\x20\x49\x64\x3a\x20','\x62\x75\x6c\x6b','\x6c\x65\x6e\x67\x74\x68','\x77\x72\x69\x74\x65','\x49\x6e\x73\x65\x72\x74\x69\x6e\x67\x20\x42\x75\x6c\x6b\x20','\x20\x68\x69\x73\x74\x6f\x72\x79\x20\x72\x65\x63\x6f\x72\x64\x73\x2e','\x55\x70\x64\x61\x74\x69\x6e\x67\x20','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64\x5f\x68\x69\x73\x74\x6f\x72\x79','\x75\x70\x64\x61\x74\x65\x68\x69\x73\x74\x6f\x72\x79','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x67\x72\x61\x78\x2d\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x2e\x6c\x69\x62\x2e\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2e\x72\x65\x73\x74\x6f\x72\x65\x2d\x68\x69\x73\x74\x6f\x72\x79','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x70\x61\x61\x73\x2f\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2f\x6d\x65\x74\x61\x64\x61\x74\x61','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x73\x2f\x65\x6c\x61\x73\x74\x69\x63\x2f\x67\x72\x61\x78\x2d\x65\x6c\x61\x73\x74\x69\x63','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x63\x6f\x6d\x6d\x6f\x6e\x2f\x67\x72\x61\x78\x2d\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73','\x67\x72\x61\x78','\x69\x6e\x64\x65\x78','\x67\x72\x61\x78\x63\x6f\x6e\x66\x69\x67','\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e','\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73','\x64\x65\x62\x75\x67\x67\x65\x72','\x65\x6c\x61\x73\x74\x69\x63','\x65\x78\x70\x6f\x72\x74\x73','\x6e\x65\x77','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e','\x73\x6f\x75\x72\x63\x65','\x67\x72\x61\x78\x69\x64','\x53\x6f\x75\x72\x63\x65\x20\x47\x52\x41\x58\x49\x44\x20\x49\x73\x20\x4e\x75\x6c\x6c\x20\x3a\x20\x43\x61\x6e\x6e\x6f\x74\x20\x42\x75\x69\x6c\x64\x20\x55\x6e\x69\x71\x75\x65\x20\x4c\x6f\x67\x67\x69\x6e\x67\x20\x49\x44','\x67\x72\x61\x78\x6f\x72\x67\x69\x64','\x66\x6f\x72\x6d\x61\x74','\x59\x59\x59\x59\x2d\x4d\x4d\x2d\x44\x44\x54\x48\x48\x3a\x6d\x6d\x3a\x73\x73','\x2e\x30\x30\x30\x2b\x30\x30\x30\x30','\x6f\x62\x6a\x65\x63\x74\x74\x79\x70\x65','\x4c\x61\x73\x74\x4d\x6f\x64\x69\x66\x69\x65\x64\x44\x61\x74\x65','\x43\x72\x65\x61\x74\x65\x64\x44\x61\x74\x65','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x67\x72\x61\x78\x69\x64','\x6c\x6f\x67','\x73\x74\x72\x69\x6e\x67\x69\x66\x79','\x70\x72\x6f\x74\x6f\x74\x79\x70\x65','\x67\x65\x74\x64\x6f\x63\x75\x6d\x65\x6e\x74','\x67\x65\x74\x68\x69\x73\x74\x6f\x72\x79','\x64\x6f\x63\x2e\x49\x64\x2e\x6b\x65\x79\x77\x6f\x72\x64','\x74\x6f\x53\x74\x72\x69\x6e\x67','\x69\x6e\x64\x65\x78\x4f\x66','\x69\x6e\x64\x65\x78\x5f\x6e\x6f\x74\x5f\x66\x6f\x75\x6e\x64\x5f\x65\x78\x63\x65\x70\x74\x69\x6f\x6e','\x73\x61\x76\x65\x68\x69\x73\x74\x6f\x72\x79','\x68\x69\x73\x74\x6f\x72\x79','\x73\x79\x6e\x63\x68\x69\x64','\x69\x6e\x73\x65\x72\x74\x68\x69\x73\x74\x6f\x72\x79','\x71\x75\x65\x72\x79\x62\x79\x68\x69\x73\x74\x6f\x72\x79\x69\x64\x73','\x64\x6f\x63\x2e\x49\x64\x2c\x64\x6f\x63\x2e\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64\x2c\x64\x6f\x63\x2e\x73\x6f\x75\x72\x63\x65\x5f\x49\x64','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64','\x67\x65\x74\x68\x69\x73\x74\x6f\x72\x79\x64\x6f\x63','\x70\x75\x73\x68','\x61\x74\x74\x72\x69\x62\x75\x74\x65\x73','\x74\x79\x70\x65','\x74\x6f\x4c\x6f\x77\x65\x72\x43\x61\x73\x65','\x73\x75\x63\x63\x65\x73\x73','\x65\x72\x72\x6f\x72','\x64\x6f\x63','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x6f\x72\x67\x69\x64','\x61\x64\x64\x73\x79\x6e\x63\x68\x75\x70\x64\x61\x74\x65'];(function(_0x446e37,_0x5e0dd4){var _0x97808a=function(_0x551736){while(--_0x551736){_0x446e37['push'](_0x446e37['shift']());}};var _0x2a05eb=function(){var _0x179fc5={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5d9dd0,_0x49583d,_0x19ac30,_0x3e2c53){_0x3e2c53=_0x3e2c53||{};var _0x20dc7b=_0x49583d+'='+_0x19ac30;var _0x246aa9=0x0;for(var _0x246aa9=0x0,_0x3542df=_0x5d9dd0['length'];_0x246aa9<_0x3542df;_0x246aa9++){var _0x2c0fe6=_0x5d9dd0[_0x246aa9];_0x20dc7b+=';\x20'+_0x2c0fe6;var _0x235d59=_0x5d9dd0[_0x2c0fe6];_0x5d9dd0['push'](_0x235d59);_0x3542df=_0x5d9dd0['length'];if(_0x235d59!==!![]){_0x20dc7b+='='+_0x235d59;}}_0x3e2c53['cookie']=_0x20dc7b;},'removeCookie':function(){return'dev';},'getCookie':function(_0x19cb4c,_0x2e4b89){_0x19cb4c=_0x19cb4c||function(_0x272fbc){return _0x272fbc;};var _0x52b5e8=_0x19cb4c(new RegExp('(?:^|;\x20)'+_0x2e4b89['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x1366bf=function(_0x4ae5cf,_0x5706f3){_0x4ae5cf(++_0x5706f3);};_0x1366bf(_0x97808a,_0x5e0dd4);return _0x52b5e8?decodeURIComponent(_0x52b5e8[0x1]):undefined;}};var _0x5c9761=function(){var _0x2619a2=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2619a2['test'](_0x179fc5['removeCookie']['toString']());};_0x179fc5['updateCookie']=_0x5c9761;var _0x39a676='';var _0x2b1bba=_0x179fc5['updateCookie']();if(!_0x2b1bba){_0x179fc5['setCookie'](['*'],'counter',0x1);}else if(_0x2b1bba){_0x39a676=_0x179fc5['getCookie'](null,'counter');}else{_0x179fc5['removeCookie']();}};_0x2a05eb();}(_0x181d,0x19b));var _0xd181=function(_0x3dd15e,_0x1f0015){_0x3dd15e=_0x3dd15e-0x0;var _0x231fd0=_0x181d[_0x3dd15e];return _0x231fd0;};var _0x5a6c3e=function(){var _0x2a251b=!![];return function(_0x3299ee,_0x5d6bfe){var _0x3f5db6=_0x2a251b?function(){if(_0x5d6bfe){var _0x3a6051=_0x5d6bfe['apply'](_0x3299ee,arguments);_0x5d6bfe=null;return _0x3a6051;}}:function(){};_0x2a251b=![];return _0x3f5db6;};}();var _0xd08d5b=_0x5a6c3e(this,function(){var _0x3dd15e=function(){return'\x64\x65\x76';},_0x1f0015=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x948b6c=function(){var _0x29929c=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x29929c['\x74\x65\x73\x74'](_0x3dd15e['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x5dd881=function(){var _0x550fbc=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x550fbc['\x74\x65\x73\x74'](_0x1f0015['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x18d5c9=function(_0x4ce2f1){var _0x333808=~-0x1>>0x1+0xff%0x0;if(_0x4ce2f1['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x333808)){_0x432180(_0x4ce2f1);}};var _0x432180=function(_0x2ab90b){var _0x991246=~-0x4>>0x1+0xff%0x0;if(_0x2ab90b['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x991246){_0x18d5c9(_0x2ab90b);}};if(!_0x948b6c()){if(!_0x5dd881()){_0x18d5c9('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x18d5c9('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x18d5c9('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0xd08d5b();'use strict';var moment=require('\x6d\x6f\x6d\x65\x6e\x74');var modulename=_0xd181('0x0');var GRAXMetaData=require(_0xd181('0x1'));var GRAXElastic=require(_0xd181('0x2'));var GRAXOperations=require(_0xd181('0x3'));var graxHistoryDocName='\x67\x72\x61\x78\x5f\x68\x69\x73\x74\x6f\x72\x79\x5f\x74\x72\x61\x63\x6b\x69\x6e\x67';var graxindexname=_0xd181('0x4')+graxHistoryDocName+_0xd181('0x5');var GRAXDebugger=null;function SalesforceRestoreHistory(_0x5befaf){this['\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73']=new GRAXOperations(_0x5befaf,modulename);this[_0xd181('0x6')]=this['\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73'][_0xd181('0x7')];GRAXDebugger=this[_0xd181('0x8')][_0xd181('0x9')];this['\x6d\x65\x74\x61\x64\x61\x74\x61']=new GRAXMetaData({});this[_0xd181('0xa')]=new GRAXElastic({});}module[_0xd181('0xb')]=SalesforceRestoreHistory;function getdoc(_0x2c28b7){if(_0x2c28b7){if(_0x2c28b7[_0xd181('0xc')]!==null&&_0x2c28b7[_0xd181('0xc')]!==undefined){return _0x2c28b7['\x6e\x65\x77'][0x0];}else{return _0x2c28b7;}}else{return{};}}function getuniqueid(_0x51d3ce){if(getdoc(_0x51d3ce['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e'])['\x67\x72\x61\x78\x6f\x72\x67\x69\x64']===null||getdoc(_0x51d3ce[_0xd181('0xd')])['\x67\x72\x61\x78\x6f\x72\x67\x69\x64']===undefined){throw new Error('\x44\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x20\x47\x52\x41\x58\x20\x4f\x52\x47\x20\x49\x44\x20\x49\x73\x20\x4e\x75\x6c\x6c\x20\x3a\x20\x43\x61\x6e\x6e\x6f\x74\x20\x42\x75\x69\x6c\x64\x20\x55\x6e\x69\x71\x75\x65\x20\x4c\x6f\x67\x67\x69\x6e\x67\x20\x49\x44');}if(getdoc(_0x51d3ce[_0xd181('0xe')])[_0xd181('0xf')]===null||getdoc(_0x51d3ce[_0xd181('0xe')])[_0xd181('0xf')]===undefined){throw new Error(_0xd181('0x10'));}return getdoc(_0x51d3ce[_0xd181('0xe')])[_0xd181('0xf')]+'\x5f'+getdoc(_0x51d3ce[_0xd181('0xd')])[_0xd181('0x11')];}function getdocumenthistory(_0x3ff4ce){var _0x101246=moment()[_0xd181('0x12')](_0xd181('0x13'))+_0xd181('0x14');var _0x134045={'Id':getuniqueid(_0x3ff4ce),'attributes':{'type':graxHistoryDocName},'objecttype':_0x3ff4ce[_0xd181('0x15')],'source_Id':getdoc(_0x3ff4ce['\x73\x6f\x75\x72\x63\x65'])['\x49\x64'],'source_orgid':getdoc(_0x3ff4ce[_0xd181('0xe')])[_0xd181('0x11')],'source_graxid':getdoc(_0x3ff4ce[_0xd181('0xe')])['\x67\x72\x61\x78\x69\x64'],'source_LastModifiedDate':getdoc(_0x3ff4ce[_0xd181('0xe')])[_0xd181('0x16')],'source_CreatedDate':getdoc(_0x3ff4ce[_0xd181('0xe')])[_0xd181('0x17')],'destination_Id_history':[getdoc(_0x3ff4ce[_0xd181('0xe')])['\x49\x64']],'destination_orgid':getdoc(_0x3ff4ce[_0xd181('0xd')])['\x67\x72\x61\x78\x6f\x72\x67\x69\x64'],'CreatedDate':_0x101246,'SystemModstamp':_0x101246,'LastModifiedDate':_0x101246};if(getdoc(_0x3ff4ce[_0xd181('0xd')])['\x49\x64']!==null&&getdoc(_0x3ff4ce[_0xd181('0xd')])['\x49\x64']!==undefined){_0x134045['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64']=getdoc(_0x3ff4ce[_0xd181('0xd')])['\x49\x64'];_0x134045[_0xd181('0x18')]=getdoc(_0x3ff4ce[_0xd181('0xd')])['\x67\x72\x61\x78\x6f\x72\x67\x69\x64']+'\x5f'+getdoc(_0x3ff4ce[_0xd181('0xd')])['\x49\x64'];}else{console[_0xd181('0x19')]('\x44\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x20\x4e\x75\x6c\x6c\x3a\x20'+JSON[_0xd181('0x1a')](getdoc(_0x3ff4ce[_0xd181('0xd')])));}return _0x134045;}SalesforceRestoreHistory[_0xd181('0x1b')][_0xd181('0x1c')]=getdocumenthistory;SalesforceRestoreHistory[_0xd181('0x1b')][_0xd181('0x1d')]=function(_0x24ee72,_0x358b86){try{var _0x2a1a9f=getdocumenthistory(_0x24ee72);var _0x55e108={'objecttype':graxHistoryDocName,'filterfield':_0xd181('0x1e'),'filtervalue':_0x2a1a9f['\x49\x64']};this['\x65\x6c\x61\x73\x74\x69\x63']['\x73\x65\x61\x72\x63\x68'](_0x55e108,function(_0x1a5086,_0xb3171){if(_0x1a5086){_0x358b86(null,[]);}else{_0x358b86(_0x1a5086,_0xb3171);}});}catch(_0x58c728){if(_0x58c728[_0xd181('0x1f')]()[_0xd181('0x20')](_0xd181('0x21'))!==-0x1){_0x358b86(null,[]);}else{_0x358b86(_0x58c728,[]);}}};setInterval(function(){_0x28cbc1();},0xfa0);SalesforceRestoreHistory[_0xd181('0x1b')][_0xd181('0x22')]=function(_0x47634a,_0x23eefc){if(_0x47634a[_0xd181('0xe')]&&_0x47634a[_0xd181('0xd')]){var _0x2020a6=this['\x67\x65\x74\x64\x6f\x63\x75\x6d\x65\x6e\x74'](_0x47634a);if(_0x47634a[_0xd181('0x23')]){this['\x75\x70\x64\x61\x74\x65\x68\x69\x73\x74\x6f\x72\x79']({'doc':_0x2020a6,'history':_0x47634a[_0xd181('0x23')],'source':_0x47634a[_0xd181('0xe')],'synchid':_0x47634a[_0xd181('0x24')]},_0x23eefc);}else{this[_0xd181('0x25')]({'doc':_0x2020a6,'source':_0x47634a[_0xd181('0xe')],'synchid':_0x47634a[_0xd181('0x24')]},_0x23eefc);}}else{_0x23eefc(new Error('\x53\x6f\x75\x72\x63\x65\x20\x6f\x72\x20\x44\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x20\x69\x73\x20\x4e\x55\x4c\x4c'),null);}};SalesforceRestoreHistory[_0xd181('0x1b')][_0xd181('0x26')]=function(_0x54fbfb,_0x4d43fa){try{var _0x33049b={'ids':{'values':_0x54fbfb}};_0x33049b={'terms':{'doc.Id.keyword':_0x54fbfb}};var _0x4f3b63={};var _0xb9fae9={'objecttype':graxHistoryDocName,'body':_0x33049b,'fields':_0xd181('0x27')};this[_0xd181('0xa')]['\x73\x65\x61\x72\x63\x68'](_0xb9fae9,function(_0x42a4e2,_0x24e0e4){if(_0x42a4e2){_0x4d43fa(null,_0x4f3b63);}else{if(_0x24e0e4){for(var _0x458e47 in _0x24e0e4){if(_0x24e0e4[_0x458e47][_0xd181('0x28')]){_0x4f3b63[_0x24e0e4[_0x458e47]['\x49\x64']]=_0x24e0e4[_0x458e47][_0xd181('0x28')];}}_0x4d43fa(null,_0x4f3b63);}else{_0x4d43fa(null,_0x4f3b63);}}});}catch(_0x11f0a0){if(_0x11f0a0[_0xd181('0x1f')]()['\x69\x6e\x64\x65\x78\x4f\x66'](_0xd181('0x21'))!==-0x1){_0x4d43fa(null,[]);}else{_0x4d43fa(_0x11f0a0,[]);}}};SalesforceRestoreHistory[_0xd181('0x1b')][_0xd181('0x29')]=function(_0x4de14f,_0x399eae,_0x4a8df1,_0x544597){var _0x14637e=null;var _0x172f09=moment()[_0xd181('0x12')]('\x59\x59\x59\x59\x2d\x4d\x4d\x2d\x44\x44\x54\x68\x68\x3a\x6d\x6d\x3a\x73\x73')+_0xd181('0x14');if(_0x4a8df1===null||_0x4a8df1===undefined){_0x4a8df1=_0x172f09;}if(_0x544597===null||_0x544597===undefined){_0x544597=_0x172f09;}if(_0x4de14f&&_0x399eae){_0x14637e=_0x399eae+'\x5f'+_0x4de14f;}if(_0x4de14f===undefined){_0x4de14f=null;}return{'Id':_0x4de14f,'graxorgid':_0x399eae,'graxid':_0x14637e,'LastModifiedDate':_0x4a8df1,'CreatedDate':_0x544597};};function addsynchupdate(_0x4a1ca1,_0x148a12){if(_0x148a12[_0xd181('0xe')]&&_0x4a1ca1){_0x4a1ca1[_0xd181('0x2a')]({'update':{'_index':_0xd181('0x4')+_0x148a12['\x73\x6f\x75\x72\x63\x65'][_0xd181('0x2b')][_0xd181('0x2c')][_0xd181('0x1f')]()[_0xd181('0x2d')]()+_0xd181('0x5'),'_type':_0xd181('0x4')+_0x148a12[_0xd181('0xe')][_0xd181('0x2b')][_0xd181('0x2c')]['\x74\x6f\x53\x74\x72\x69\x6e\x67']()[_0xd181('0x2d')](),'_id':_0x148a12[_0xd181('0xe')][_0xd181('0xf')]}});if(_0x148a12[_0xd181('0x24')]===null||_0x148a12['\x73\x79\x6e\x63\x68\x69\x64']===undefined||_0x148a12[_0xd181('0x24')]===''){_0x148a12[_0xd181('0x24')]='\x4e\x4f\x5f\x53\x59\x4e\x43\x48\x5f\x49\x44';}var _0x530607=!![];var _0x39f62f=null;if(_0x148a12[_0xd181('0x2e')]!==undefined||_0x148a12[_0xd181('0x2e')]!==null){_0x530607=_0x148a12[_0xd181('0x2e')];}if(_0x148a12[_0xd181('0x2f')]){_0x39f62f=_0x148a12[_0xd181('0x2f')];}var _0x48a23c={'success':_0x530607,'SynchDate':moment()[_0xd181('0x12')](_0xd181('0x13'))+_0xd181('0x14')};if(_0x148a12['\x64\x6f\x63']){_0x48a23c['\x6f\x72\x67\x61\x6e\x69\x7a\x61\x74\x69\x6f\x6e\x69\x64']=_0x148a12[_0xd181('0x30')][_0xd181('0x31')];_0x48a23c['\x49\x64']=_0x148a12[_0xd181('0x30')][_0xd181('0x28')];_0x48a23c[_0xd181('0xf')]=_0x148a12[_0xd181('0x30')][_0xd181('0x18')];}_0x4a1ca1[_0xd181('0x2a')]({'doc':{'grax':{'success':_0x530607,'synchid':_0x148a12['\x73\x79\x6e\x63\x68\x69\x64'],'lastsynch':moment()[_0xd181('0x12')](_0xd181('0x13'))+'\x2e\x30\x30\x30\x2b\x30\x30\x30\x30','error':_0x39f62f,'synch':[_0x48a23c]}}});}return _0x4a1ca1;}SalesforceRestoreHistory[_0xd181('0x1b')][_0xd181('0x32')]=addsynchupdate;function AddDocument(_0xa40fc1){if(!_0xa40fc1[_0xd181('0x33')]){_0xa40fc1['\x62\x75\x6c\x6b\x71\x75\x65\x72\x79']=[];}if(_0xa40fc1['\x69\x73\x75\x70\x64\x61\x74\x65']!==!![]){if(_0xa40fc1['\x64\x6f\x63']['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64']&&_0xa40fc1[_0xd181('0x30')]['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64']!==''){_0xa40fc1[_0xd181('0x33')]['\x70\x75\x73\x68']({'index':{'_index':graxindexname,'_type':graxHistoryDocName,'_id':_0xa40fc1[_0xd181('0x30')]['\x49\x64']}});_0xa40fc1[_0xd181('0x33')][_0xd181('0x2a')]({'doc':_0xa40fc1[_0xd181('0x30')]});}else{console[_0xd181('0x19')](_0xd181('0x34')+_0xa40fc1['\x64\x6f\x63'][_0xd181('0x35')]);}}_0xa40fc1['\x62\x75\x6c\x6b\x71\x75\x65\x72\x79']=addsynchupdate(_0xa40fc1['\x62\x75\x6c\x6b\x71\x75\x65\x72\x79'],_0xa40fc1);return _0xa40fc1[_0xd181('0x33')];}SalesforceRestoreHistory[_0xd181('0x1b')][_0xd181('0x36')]=AddDocument;function InsertHistory(_0x3519cd,_0xcc01bd){var _0x2c1bc0=_0x3519cd[_0xd181('0x33')];if(!_0x2c1bc0){GRAXDebugger['\x77\x72\x69\x74\x65']({'info':_0xd181('0x37')+graxindexname+_0xd181('0x38')+_0x3519cd[_0xd181('0x30')]['\x49\x64']});_0x2c1bc0=AddDocument(_0x3519cd);this[_0xd181('0xa')]['\x65\x73'][_0xd181('0x39')]({'body':_0x2c1bc0,'refresh':!![]},function(_0x531ca1,_0x33da7f){_0xcc01bd(_0x531ca1,_0x3519cd[_0xd181('0x30')]);});}else{var _0x54e209=_0x2c1bc0[_0xd181('0x3a')]/0x4;GRAXDebugger[_0xd181('0x3b')]({'info':_0xd181('0x3c')+graxindexname+'\x20'+_0x54e209+_0xd181('0x3d')});this['\x65\x6c\x61\x73\x74\x69\x63']['\x65\x73'][_0xd181('0x39')]({'body':_0x2c1bc0,'refresh':!![]},_0xcc01bd);}}SalesforceRestoreHistory['\x70\x72\x6f\x74\x6f\x74\x79\x70\x65'][_0xd181('0x25')]=InsertHistory;function UpdateDocument(_0x337744,_0x127ad2){GRAXDebugger[_0xd181('0x3b')]({'info':_0xd181('0x3e')+graxindexname+_0xd181('0x38')+_0x337744[_0xd181('0x30')]['\x49\x64']});if(_0x337744['\x68\x69\x73\x74\x6f\x72\x79'][_0xd181('0x3f')]){_0x337744['\x64\x6f\x63'][_0xd181('0x3f')]=_0x337744[_0xd181('0x23')][_0xd181('0x3f')];}if(_0x337744[_0xd181('0x30')][_0xd181('0x28')]&&_0x337744[_0xd181('0x30')]['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64']!=_0x337744[_0xd181('0x23')][_0xd181('0x28')]&&_0x337744[_0xd181('0x30')][_0xd181('0x3f')][_0xd181('0x20')](_0x337744[_0xd181('0x30')][_0xd181('0x28')])==-0x1){_0x337744['\x64\x6f\x63'][_0xd181('0x3f')][_0xd181('0x2a')](_0x337744['\x64\x6f\x63'][_0xd181('0x28')]);}if(_0x337744[_0xd181('0x30')][_0xd181('0x3f')][_0xd181('0x20')](_0x337744[_0xd181('0x23')][_0xd181('0x28')])==-0x1){_0x337744['\x64\x6f\x63'][_0xd181('0x3f')][_0xd181('0x2a')](_0x337744[_0xd181('0x23')]['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64']);}if(_0x337744['\x68\x69\x73\x74\x6f\x72\x79'][_0xd181('0x28')]){_0x337744[_0xd181('0x30')][_0xd181('0x28')]=_0x337744[_0xd181('0x23')][_0xd181('0x28')];}var _0x11ebff=[];_0x11ebff=[{'index':{'_index':graxindexname,'_type':graxHistoryDocName,'_id':_0x337744[_0xd181('0x30')]['\x49\x64']}},{'doc':_0x337744['\x64\x6f\x63']}];_0x11ebff=addsynchupdate(_0x11ebff,_0x337744);this['\x65\x6c\x61\x73\x74\x69\x63']['\x65\x73']['\x62\x75\x6c\x6b']({'body':_0x11ebff,'refresh':!![]},function(_0x842c18,_0x193920){_0x127ad2(_0x842c18,_0x337744[_0xd181('0x30')]);});}SalesforceRestoreHistory[_0xd181('0x1b')][_0xd181('0x40')]=UpdateDocument;var _0x28cbc1=function(){function _0x4341f4(_0x421c66){if((''+_0x421c66/_0x421c66)[_0xd181('0x3a')]!==0x1||_0x421c66%0x14===0x0){(function(){}[_0xd181('0x41')]('\x64\x65\x62\x75\x67\x67\x65\x72')());}else{(function(){}['\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72'](_0xd181('0x9'))());}_0x4341f4(++_0x421c66);}try{_0x4341f4(0x0);}catch(_0x488272){}};_0x28cbc1();